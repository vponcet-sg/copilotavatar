import{c as Ee,g as Kf}from"./react-CUnOHQ37.js";var Qr={},Zr={exports:{}},$o;function Ar(){return $o||($o=1,function(c){function m(f){return f&&f.__esModule?f:{default:f}}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(Zr)),Zr.exports}var et={exports:{}},Wo;function Ge(){return Wo||(Wo=1,function(c){function m(f){"@babel/helpers - typeof";return c.exports=m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},c.exports.__esModule=!0,c.exports.default=c.exports,m(f)}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(et)),et.exports}var rt={exports:{}},tt={exports:{}},Ho;function Yf(){return Ho||(Ho=1,function(c){function m(f,d){if(f==null)return{};var i={};for(var s in f)if({}.hasOwnProperty.call(f,s)){if(d.indexOf(s)!==-1)continue;i[s]=f[s]}return i}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(tt)),tt.exports}var Go;function Ql(){return Go||(Go=1,function(c){var m=Yf();function f(d,i){if(d==null)return{};var s,o,r=m(d,i);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(d);for(o=0;o<u.length;o++)s=u[o],i.indexOf(s)===-1&&{}.propertyIsEnumerable.call(d,s)&&(r[s]=d[s])}return r}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports}(rt)),rt.exports}var nt={exports:{}},Vo;function bo(){return Vo||(Vo=1,function(c){function m(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(nt)),nt.exports}var it={exports:{}},ot={exports:{}},at={exports:{}},Ko;function zf(){return Ko||(Ko=1,function(c){var m=Ge().default;function f(d,i){if(m(d)!="object"||!d)return d;var s=d[Symbol.toPrimitive];if(s!==void 0){var o=s.call(d,i||"default");if(m(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(d)}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports}(at)),at.exports}var Yo;function Zl(){return Yo||(Yo=1,function(c){var m=Ge().default,f=zf();function d(i){var s=f(i,"string");return m(s)=="symbol"?s:s+""}c.exports=d,c.exports.__esModule=!0,c.exports.default=c.exports}(ot)),ot.exports}var zo;function mo(){return zo||(zo=1,function(c){var m=Zl();function f(i,s){for(var o=0;o<s.length;o++){var r=s[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,m(r.key),r)}}function d(i,s,o){return s&&f(i.prototype,s),o&&f(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}c.exports=d,c.exports.__esModule=!0,c.exports.default=c.exports}(it)),it.exports}var st={exports:{}},Jo;function ef(){return Jo||(Jo=1,function(c){var m=Zl();function f(d,i,s){return(i=m(i))in d?Object.defineProperty(d,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):d[i]=s,d}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports}(st)),st.exports}var Xo={},ut,Qo;function Se(){if(Qo)return ut;Qo=1;var c=function(m){return m&&m.Math==Math&&m};return ut=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof Ee=="object"&&Ee)||function(){return this}()||Function("return this")(),ut}var ct={},lt,Zo;function Ae(){return Zo||(Zo=1,lt=function(c){try{return!!c()}catch{return!0}}),lt}var ft,ea;function Ve(){if(ea)return ft;ea=1;var c=Ae();return ft=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),ft}var ht={},ra;function Jf(){if(ra)return ht;ra=1;var c={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,f=m&&!c.call({1:2},1);return ht.f=f?function(i){var s=m(this,i);return!!s&&s.enumerable}:c,ht}var dt,ta;function Ur(){return ta||(ta=1,dt=function(c,m){return{enumerable:!(c&1),configurable:!(c&2),writable:!(c&4),value:m}}),dt}var pt,na;function _o(){if(na)return pt;na=1;var c={}.toString;return pt=function(m){return c.call(m).slice(8,-1)},pt}var vt,ia;function Xf(){if(ia)return vt;ia=1;var c=Ae(),m=_o(),f="".split;return vt=c(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return m(d)=="String"?f.call(d,""):Object(d)}:Object,vt}var yt,oa;function wo(){return oa||(oa=1,yt=function(c){if(c==null)throw TypeError("Can't call method on "+c);return c}),yt}var bt,aa;function Nr(){if(aa)return bt;aa=1;var c=Xf(),m=wo();return bt=function(f){return c(m(f))},bt}var mt,sa;function Ue(){return sa||(sa=1,mt=function(c){return typeof c=="object"?c!==null:typeof c=="function"}),mt}var _t,ua;function rf(){if(ua)return _t;ua=1;var c=Ue();return _t=function(m,f){if(!c(m))return m;var d,i;if(f&&typeof(d=m.toString)=="function"&&!c(i=d.call(m))||typeof(d=m.valueOf)=="function"&&!c(i=d.call(m))||!f&&typeof(d=m.toString)=="function"&&!c(i=d.call(m)))return i;throw TypeError("Can't convert object to primitive value")},_t}var wt,ca;function tf(){if(ca)return wt;ca=1;var c=wo();return wt=function(m){return Object(c(m))},wt}var gt,la;function Pe(){if(la)return gt;la=1;var c=tf(),m={}.hasOwnProperty;return gt=Object.hasOwn||function(d,i){return m.call(c(d),i)},gt}var St,fa;function go(){if(fa)return St;fa=1;var c=Se(),m=Ue(),f=c.document,d=m(f)&&m(f.createElement);return St=function(i){return d?f.createElement(i):{}},St}var Et,ha;function nf(){if(ha)return Et;ha=1;var c=Ve(),m=Ae(),f=go();return Et=!c&&!m(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!=7}),Et}var da;function So(){if(da)return ct;da=1;var c=Ve(),m=Jf(),f=Ur(),d=Nr(),i=rf(),s=Pe(),o=nf(),r=Object.getOwnPropertyDescriptor;return ct.f=c?r:function(n,e){if(n=d(n),e=i(e,!0),o)try{return r(n,e)}catch{}if(s(n,e))return f(!m.f.call(n,e),n[e])},ct}var Ot={},Rt,pa;function Ie(){if(pa)return Rt;pa=1;var c=Ue();return Rt=function(m){if(!c(m))throw TypeError(String(m)+" is not an object");return m},Rt}var va;function Ke(){if(va)return Ot;va=1;var c=Ve(),m=nf(),f=Ie(),d=rf(),i=Object.defineProperty;return Ot.f=c?i:function(o,r,u){if(f(o),r=d(r,!0),f(u),m)try{return i(o,r,u)}catch{}if("get"in u||"set"in u)throw TypeError("Accessors not supported");return"value"in u&&(o[r]=u.value),o},Ot}var xt,ya;function Me(){if(ya)return xt;ya=1;var c=Ve(),m=Ke(),f=Ur();return xt=c?function(d,i,s){return m.f(d,i,f(1,s))}:function(d,i,s){return d[i]=s,d},xt}var Tt={exports:{}},At,ba;function Eo(){if(ba)return At;ba=1;var c=Se(),m=Me();return At=function(f,d){try{m(c,f,d)}catch{c[f]=d}return d},At}var Pt,ma;function Oo(){if(ma)return Pt;ma=1;var c=Se(),m=Eo(),f="__core-js_shared__",d=c[f]||m(f,{});return Pt=d,Pt}var It,_a;function Ro(){if(_a)return It;_a=1;var c=Oo(),m=Function.toString;return typeof c.inspectSource!="function"&&(c.inspectSource=function(f){return m.call(f)}),It=c.inspectSource,It}var Ct,wa;function Qf(){if(wa)return Ct;wa=1;var c=Se(),m=Ro(),f=c.WeakMap;return Ct=typeof f=="function"&&/native code/.test(m(f)),Ct}var jt={exports:{}},qt,ga;function Pr(){return ga||(ga=1,qt=!1),qt}var Sa;function of(){if(Sa)return jt.exports;Sa=1;var c=Pr(),m=Oo();return(jt.exports=function(f,d){return m[f]||(m[f]=d!==void 0?d:{})})("versions",[]).push({version:"3.15.2",mode:c?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"}),jt.exports}var Mt,Ea;function af(){if(Ea)return Mt;Ea=1;var c=0,m=Math.random();return Mt=function(f){return"Symbol("+String(f===void 0?"":f)+")_"+(++c+m).toString(36)},Mt}var kt,Oa;function xo(){if(Oa)return kt;Oa=1;var c=of(),m=af(),f=c("keys");return kt=function(d){return f[d]||(f[d]=m(d))},kt}var Lt,Ra;function To(){return Ra||(Ra=1,Lt={}),Lt}var Bt,xa;function Fr(){if(xa)return Bt;xa=1;var c=Qf(),m=Se(),f=Ue(),d=Me(),i=Pe(),s=Oo(),o=xo(),r=To(),u="Object already initialized",n=m.WeakMap,e,t,l,a=function(b){return l(b)?t(b):e(b,{})},h=function(b){return function(x){var E;if(!f(x)||(E=t(x)).type!==b)throw TypeError("Incompatible receiver, "+b+" required");return E}};if(c||s.state){var p=s.state||(s.state=new n),S=p.get,_=p.has,v=p.set;e=function(b,x){if(_.call(p,b))throw new TypeError(u);return x.facade=b,v.call(p,b,x),x},t=function(b){return S.call(p,b)||{}},l=function(b){return _.call(p,b)}}else{var T=o("state");r[T]=!0,e=function(b,x){if(i(b,T))throw new TypeError(u);return x.facade=b,d(b,T,x),x},t=function(b){return i(b,T)?b[T]:{}},l=function(b){return i(b,T)}}return Bt={set:e,get:t,has:l,enforce:a,getterFor:h},Bt}var Ta;function Ye(){if(Ta)return Tt.exports;Ta=1;var c=Se(),m=Me(),f=Pe(),d=Eo(),i=Ro(),s=Fr(),o=s.get,r=s.enforce,u=String(String).split("String");return(Tt.exports=function(n,e,t,l){var a=l?!!l.unsafe:!1,h=l?!!l.enumerable:!1,p=l?!!l.noTargetGet:!1,S;if(typeof t=="function"&&(typeof e=="string"&&!f(t,"name")&&m(t,"name",e),S=r(t),S.source||(S.source=u.join(typeof e=="string"?e:""))),n===c){h?n[e]=t:d(e,t);return}else a?!p&&n[e]&&(h=!0):delete n[e];h?n[e]=t:m(n,e,t)})(Function.prototype,"toString",function(){return typeof this=="function"&&o(this).source||i(this)}),Tt.exports}var Dt,Aa;function sf(){if(Aa)return Dt;Aa=1;var c=Se();return Dt=c,Dt}var Ut,Pa;function Ne(){if(Pa)return Ut;Pa=1;var c=sf(),m=Se(),f=function(d){return typeof d=="function"?d:void 0};return Ut=function(d,i){return arguments.length<2?f(c[d])||f(m[d]):c[d]&&c[d][i]||m[d]&&m[d][i]},Ut}var Nt={},Ft,Ia;function Ao(){if(Ia)return Ft;Ia=1;var c=Math.ceil,m=Math.floor;return Ft=function(f){return isNaN(f=+f)?0:(f>0?m:c)(f)},Ft}var $t,Ca;function uf(){if(Ca)return $t;Ca=1;var c=Ao(),m=Math.min;return $t=function(f){return f>0?m(c(f),9007199254740991):0},$t}var Wt,ja;function Zf(){if(ja)return Wt;ja=1;var c=Ao(),m=Math.max,f=Math.min;return Wt=function(d,i){var s=c(d);return s<0?m(s+i,0):f(s,i)},Wt}var Ht,qa;function eh(){if(qa)return Ht;qa=1;var c=Nr(),m=uf(),f=Zf(),d=function(i){return function(s,o,r){var u=c(s),n=m(u.length),e=f(r,n),t;if(i&&o!=o){for(;n>e;)if(t=u[e++],t!=t)return!0}else for(;n>e;e++)if((i||e in u)&&u[e]===o)return i||e||0;return!i&&-1}};return Ht={includes:d(!0),indexOf:d(!1)},Ht}var Gt,Ma;function cf(){if(Ma)return Gt;Ma=1;var c=Pe(),m=Nr(),f=eh().indexOf,d=To();return Gt=function(i,s){var o=m(i),r=0,u=[],n;for(n in o)!c(d,n)&&c(o,n)&&u.push(n);for(;s.length>r;)c(o,n=s[r++])&&(~f(u,n)||u.push(n));return u},Gt}var Vt,ka;function Po(){return ka||(ka=1,Vt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Vt}var La;function rh(){if(La)return Nt;La=1;var c=cf(),m=Po(),f=m.concat("length","prototype");return Nt.f=Object.getOwnPropertyNames||function(i){return c(i,f)},Nt}var Kt={},Ba;function th(){return Ba||(Ba=1,Kt.f=Object.getOwnPropertySymbols),Kt}var Yt,Da;function nh(){if(Da)return Yt;Da=1;var c=Ne(),m=rh(),f=th(),d=Ie();return Yt=c("Reflect","ownKeys")||function(s){var o=m.f(d(s)),r=f.f;return r?o.concat(r(s)):o},Yt}var zt,Ua;function ih(){if(Ua)return zt;Ua=1;var c=Pe(),m=nh(),f=So(),d=Ke();return zt=function(i,s){for(var o=m(s),r=d.f,u=f.f,n=0;n<o.length;n++){var e=o[n];c(i,e)||r(i,e,u(s,e))}},zt}var Jt,Na;function lf(){if(Na)return Jt;Na=1;var c=Ae(),m=/#|\.prototype\./,f=function(r,u){var n=i[d(r)];return n==o?!0:n==s?!1:typeof u=="function"?c(u):!!u},d=f.normalize=function(r){return String(r).replace(m,".").toLowerCase()},i=f.data={},s=f.NATIVE="N",o=f.POLYFILL="P";return Jt=f,Jt}var Xt,Fa;function Fe(){if(Fa)return Xt;Fa=1;var c=Se(),m=So().f,f=Me(),d=Ye(),i=Eo(),s=ih(),o=lf();return Xt=function(r,u){var n=r.target,e=r.global,t=r.stat,l,a,h,p,S,_;if(e?a=c:t?a=c[n]||i(n,{}):a=(c[n]||{}).prototype,a)for(h in u){if(S=u[h],r.noTargetGet?(_=m(a,h),p=_&&_.value):p=a[h],l=o(e?h:n+(t?".":"#")+h,r.forced),!l&&p!==void 0){if(typeof S==typeof p)continue;s(S,p)}(r.sham||p&&p.sham)&&f(S,"sham",!0),d(a,h,S,r)}},Xt}var Qt,$a;function oh(){if($a)return Qt;$a=1;var c=Ae();return Qt=!c(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype}),Qt}var Zt,Wa;function Io(){if(Wa)return Zt;Wa=1;var c=Pe(),m=tf(),f=xo(),d=oh(),i=f("IE_PROTO"),s=Object.prototype;return Zt=d?Object.getPrototypeOf:function(o){return o=m(o),c(o,i)?o[i]:typeof o.constructor=="function"&&o instanceof o.constructor?o.constructor.prototype:o instanceof Object?s:null},Zt}var en,Ha;function ah(){if(Ha)return en;Ha=1;var c=Ue();return en=function(m){if(!c(m)&&m!==null)throw TypeError("Can't set "+String(m)+" as a prototype");return m},en}var rn,Ga;function Co(){if(Ga)return rn;Ga=1;var c=Ie(),m=ah();return rn=Object.setPrototypeOf||("__proto__"in{}?function(){var f=!1,d={},i;try{i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,i.call(d,[]),f=d instanceof Array}catch{}return function(o,r){return c(o),m(r),f?i.call(o,r):o.__proto__=r,o}}():void 0),rn}var tn,Va;function sh(){if(Va)return tn;Va=1;var c=cf(),m=Po();return tn=Object.keys||function(d){return c(d,m)},tn}var nn,Ka;function uh(){if(Ka)return nn;Ka=1;var c=Ve(),m=Ke(),f=Ie(),d=sh();return nn=c?Object.defineProperties:function(s,o){f(s);for(var r=d(o),u=r.length,n=0,e;u>n;)m.f(s,e=r[n++],o[e]);return s},nn}var on,Ya;function ff(){if(Ya)return on;Ya=1;var c=Ne();return on=c("document","documentElement"),on}var an,za;function jo(){if(za)return an;za=1;var c=Ie(),m=uh(),f=Po(),d=To(),i=ff(),s=go(),o=xo(),r=">",u="<",n="prototype",e="script",t=o("IE_PROTO"),l=function(){},a=function(v){return u+e+r+v+u+"/"+e+r},h=function(v){v.write(a("")),v.close();var T=v.parentWindow.Object;return v=null,T},p=function(){var v=s("iframe"),T="java"+e+":",b;return v.style.display="none",i.appendChild(v),v.src=String(T),b=v.contentWindow.document,b.open(),b.write(a("document.F=Object")),b.close(),b.F},S,_=function(){try{S=document.domain&&new ActiveXObject("htmlfile")}catch{}_=S?h(S):p();for(var v=f.length;v--;)delete _[n][f[v]];return _()};return d[t]=!0,an=Object.create||function(T,b){var x;return T!==null?(l[n]=c(T),x=new l,l[n]=null,x[t]=T):x=_(),b===void 0?x:m(x,b)},an}var sn,Ja;function qo(){if(Ja)return sn;Ja=1;var c=Ne();return sn=c("navigator","userAgent")||"",sn}var un,Xa;function hf(){if(Xa)return un;Xa=1;var c=Se(),m=qo(),f=c.process,d=f&&f.versions,i=d&&d.v8,s,o;return i?(s=i.split("."),o=s[0]<4?1:s[0]+s[1]):m&&(s=m.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=m.match(/Chrome\/(\d+)/),s&&(o=s[1]))),un=o&&+o,un}var cn,Qa;function df(){if(Qa)return cn;Qa=1;var c=hf(),m=Ae();return cn=!!Object.getOwnPropertySymbols&&!m(function(){var f=Symbol();return!String(f)||!(Object(f)instanceof Symbol)||!Symbol.sham&&c&&c<41}),cn}var ln,Za;function ch(){if(Za)return ln;Za=1;var c=df();return ln=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol",ln}var fn,es;function xe(){if(es)return fn;es=1;var c=Se(),m=of(),f=Pe(),d=af(),i=df(),s=ch(),o=m("wks"),r=c.Symbol,u=s?r:r&&r.withoutSetter||d;return fn=function(n){return(!f(o,n)||!(i||typeof o[n]=="string"))&&(i&&f(r,n)?o[n]=r[n]:o[n]=u("Symbol."+n)),o[n]},fn}var hn,rs;function Ir(){return rs||(rs=1,hn={}),hn}var dn,ts;function lh(){if(ts)return dn;ts=1;var c=xe(),m=Ir(),f=c("iterator"),d=Array.prototype;return dn=function(i){return i!==void 0&&(m.Array===i||d[f]===i)},dn}var pn,ns;function ze(){return ns||(ns=1,pn=function(c){if(typeof c!="function")throw TypeError(String(c)+" is not a function");return c}),pn}var vn,is;function pf(){if(is)return vn;is=1;var c=ze();return vn=function(m,f,d){if(c(m),f===void 0)return m;switch(d){case 0:return function(){return m.call(f)};case 1:return function(i){return m.call(f,i)};case 2:return function(i,s){return m.call(f,i,s)};case 3:return function(i,s,o){return m.call(f,i,s,o)}}return function(){return m.apply(f,arguments)}},vn}var yn,os;function Mo(){if(os)return yn;os=1;var c=xe(),m=c("toStringTag"),f={};return f[m]="z",yn=String(f)==="[object z]",yn}var bn,as;function vf(){if(as)return bn;as=1;var c=Mo(),m=_o(),f=xe(),d=f("toStringTag"),i=m(function(){return arguments}())=="Arguments",s=function(o,r){try{return o[r]}catch{}};return bn=c?m:function(o){var r,u,n;return o===void 0?"Undefined":o===null?"Null":typeof(u=s(r=Object(o),d))=="string"?u:i?m(r):(n=m(r))=="Object"&&typeof r.callee=="function"?"Arguments":n},bn}var mn,ss;function fh(){if(ss)return mn;ss=1;var c=vf(),m=Ir(),f=xe(),d=f("iterator");return mn=function(i){if(i!=null)return i[d]||i["@@iterator"]||m[c(i)]},mn}var _n,us;function hh(){if(us)return _n;us=1;var c=Ie();return _n=function(m){var f=m.return;if(f!==void 0)return c(f.call(m)).value},_n}var wn,cs;function $r(){if(cs)return wn;cs=1;var c=Ie(),m=lh(),f=uf(),d=pf(),i=fh(),s=hh(),o=function(r,u){this.stopped=r,this.result=u};return wn=function(r,u,n){var e=n&&n.that,t=!!(n&&n.AS_ENTRIES),l=!!(n&&n.IS_ITERATOR),a=!!(n&&n.INTERRUPTED),h=d(u,e,1+t+a),p,S,_,v,T,b,x,E=function(A){return p&&s(p),new o(!0,A)},R=function(A){return t?(c(A),a?h(A[0],A[1],E):h(A[0],A[1])):a?h(A,E):h(A)};if(l)p=r;else{if(S=i(r),typeof S!="function")throw TypeError("Target is not iterable");if(m(S)){for(_=0,v=f(r.length);v>_;_++)if(T=R(r[_]),T&&T instanceof o)return T;return new o(!1)}p=S.call(r)}for(b=p.next;!(x=b.call(p)).done;){try{T=R(x.value)}catch(A){throw s(p),A}if(typeof T=="object"&&T&&T instanceof o)return T}return new o(!1)},wn}var ls;function yf(){if(ls)return Xo;ls=1;var c=Fe(),m=Io(),f=Co(),d=jo(),i=Me(),s=Ur(),o=$r(),r=function(n,e){var t=this;if(!(t instanceof r))return new r(n,e);f&&(t=f(new Error(void 0),m(t))),e!==void 0&&i(t,"message",String(e));var l=[];return o(n,l.push,{that:l}),i(t,"errors",l),t};return r.prototype=d(Error.prototype,{constructor:s(5,r),message:s(5,""),name:s(5,"AggregateError")}),c({global:!0},{AggregateError:r}),Xo}var fs={},gn,hs;function dh(){if(hs)return gn;hs=1;var c=Mo(),m=vf();return gn=c?{}.toString:function(){return"[object "+m(this)+"]"},gn}var ds;function ph(){if(ds)return fs;ds=1;var c=Mo(),m=Ye(),f=dh();return c||m(Object.prototype,"toString",f,{unsafe:!0}),fs}var ps={},Sn,vs;function bf(){if(vs)return Sn;vs=1;var c=Se();return Sn=c.Promise,Sn}var En,ys;function vh(){if(ys)return En;ys=1;var c=Ye();return En=function(m,f,d){for(var i in f)c(m,i,f[i],d);return m},En}var On,bs;function ko(){if(bs)return On;bs=1;var c=Ke().f,m=Pe(),f=xe(),d=f("toStringTag");return On=function(i,s,o){i&&!m(i=o?i:i.prototype,d)&&c(i,d,{configurable:!0,value:s})},On}var Rn,ms;function yh(){if(ms)return Rn;ms=1;var c=Ne(),m=Ke(),f=xe(),d=Ve(),i=f("species");return Rn=function(s){var o=c(s),r=m.f;d&&o&&!o[i]&&r(o,i,{configurable:!0,get:function(){return this}})},Rn}var xn,_s;function bh(){return _s||(_s=1,xn=function(c,m,f){if(!(c instanceof m))throw TypeError("Incorrect "+(f?f+" ":"")+"invocation");return c}),xn}var Tn,ws;function mh(){if(ws)return Tn;ws=1;var c=xe(),m=c("iterator"),f=!1;try{var d=0,i={next:function(){return{done:!!d++}},return:function(){f=!0}};i[m]=function(){return this},Array.from(i,function(){throw 2})}catch{}return Tn=function(s,o){if(!o&&!f)return!1;var r=!1;try{var u={};u[m]=function(){return{next:function(){return{done:r=!0}}}},s(u)}catch{}return r},Tn}var An,gs;function mf(){if(gs)return An;gs=1;var c=Ie(),m=ze(),f=xe(),d=f("species");return An=function(i,s){var o=c(i).constructor,r;return o===void 0||(r=c(o)[d])==null?s:m(r)},An}var Pn,Ss;function _f(){if(Ss)return Pn;Ss=1;var c=qo();return Pn=/(?:iphone|ipod|ipad).*applewebkit/i.test(c),Pn}var In,Es;function Lo(){if(Es)return In;Es=1;var c=_o(),m=Se();return In=c(m.process)=="process",In}var Cn,Os;function wf(){if(Os)return Cn;Os=1;var c=Se(),m=Ae(),f=pf(),d=ff(),i=go(),s=_f(),o=Lo(),r=c.location,u=c.setImmediate,n=c.clearImmediate,e=c.process,t=c.MessageChannel,l=c.Dispatch,a=0,h={},p="onreadystatechange",S,_,v,T=function(R){if(h.hasOwnProperty(R)){var A=h[R];delete h[R],A()}},b=function(R){return function(){T(R)}},x=function(R){T(R.data)},E=function(R){c.postMessage(R+"",r.protocol+"//"+r.host)};return(!u||!n)&&(u=function(A){for(var U=[],F=1;arguments.length>F;)U.push(arguments[F++]);return h[++a]=function(){(typeof A=="function"?A:Function(A)).apply(void 0,U)},S(a),a},n=function(A){delete h[A]},o?S=function(R){e.nextTick(b(R))}:l&&l.now?S=function(R){l.now(b(R))}:t&&!s?(_=new t,v=_.port2,_.port1.onmessage=x,S=f(v.postMessage,v,1)):c.addEventListener&&typeof postMessage=="function"&&!c.importScripts&&r&&r.protocol!=="file:"&&!m(E)?(S=E,c.addEventListener("message",x,!1)):p in i("script")?S=function(R){d.appendChild(i("script"))[p]=function(){d.removeChild(this),T(R)}}:S=function(R){setTimeout(b(R),0)}),Cn={set:u,clear:n},Cn}var jn,Rs;function _h(){if(Rs)return jn;Rs=1;var c=qo();return jn=/web0s(?!.*chrome)/i.test(c),jn}var qn,xs;function wh(){if(xs)return qn;xs=1;var c=Se(),m=So().f,f=wf().set,d=_f(),i=_h(),s=Lo(),o=c.MutationObserver||c.WebKitMutationObserver,r=c.document,u=c.process,n=c.Promise,e=m(c,"queueMicrotask"),t=e&&e.value,l,a,h,p,S,_,v,T;return t||(l=function(){var b,x;for(s&&(b=u.domain)&&b.exit();a;){x=a.fn,a=a.next;try{x()}catch(E){throw a?p():h=void 0,E}}h=void 0,b&&b.enter()},!d&&!s&&!i&&o&&r?(S=!0,_=r.createTextNode(""),new o(l).observe(_,{characterData:!0}),p=function(){_.data=S=!S}):n&&n.resolve?(v=n.resolve(void 0),v.constructor=n,T=v.then,p=function(){T.call(v,l)}):s?p=function(){u.nextTick(l)}:p=function(){f.call(c,l)}),qn=t||function(b){var x={fn:b,next:void 0};h&&(h.next=x),a||(a=x,p()),h=x},qn}var Mn={},Ts;function Cr(){if(Ts)return Mn;Ts=1;var c=ze(),m=function(f){var d,i;this.promise=new f(function(s,o){if(d!==void 0||i!==void 0)throw TypeError("Bad Promise constructor");d=s,i=o}),this.resolve=c(d),this.reject=c(i)};return Mn.f=function(f){return new m(f)},Mn}var kn,As;function gf(){if(As)return kn;As=1;var c=Ie(),m=Ue(),f=Cr();return kn=function(d,i){if(c(d),m(i)&&i.constructor===d)return i;var s=f.f(d),o=s.resolve;return o(i),s.promise},kn}var Ln,Ps;function gh(){if(Ps)return Ln;Ps=1;var c=Se();return Ln=function(m,f){var d=c.console;d&&d.error&&(arguments.length===1?d.error(m):d.error(m,f))},Ln}var Bn,Is;function Wr(){return Is||(Is=1,Bn=function(c){try{return{error:!1,value:c()}}catch(m){return{error:!0,value:m}}}),Bn}var Dn,Cs;function Sh(){return Cs||(Cs=1,Dn=typeof window=="object"),Dn}var js;function Eh(){if(js)return ps;js=1;var c=Fe(),m=Pr(),f=Se(),d=Ne(),i=bf(),s=Ye(),o=vh(),r=Co(),u=ko(),n=yh(),e=Ue(),t=ze(),l=bh(),a=Ro(),h=$r(),p=mh(),S=mf(),_=wf().set,v=wh(),T=gf(),b=gh(),x=Cr(),E=Wr(),R=Fr(),A=lf(),U=xe(),F=Sh(),Q=Lo(),ee=hf(),re=U("species"),J="Promise",j=R.get,C=R.set,H=R.getterFor(J),K=i&&i.prototype,D=i,N=K,W=f.TypeError,X=f.document,oe=f.process,te=x.f,se=te,fe=!!(X&&X.createEvent&&f.dispatchEvent),ye=typeof PromiseRejectionEvent=="function",he="unhandledrejection",ve="rejectionhandled",de=0,we=1,ge=2,z=1,V=2,ie=!1,ue,ce,L,B,I=A(J,function(){var k=a(D),$=k!==String(D);if(!$&&ee===66||m&&!N.finally)return!0;if(ee>=51&&/native code/.test(k))return!1;var Y=new D(function(pe){pe(1)}),ae=function(pe){pe(function(){},function(){})},le=Y.constructor={};return le[re]=ae,ie=Y.then(function(){})instanceof ae,ie?!$&&F&&!ye:!0}),g=I||!p(function(k){D.all(k).catch(function(){})}),O=function(k){var $;return e(k)&&typeof($=k.then)=="function"?$:!1},M=function(k,$){if(!k.notified){k.notified=!0;var Y=k.reactions;v(function(){for(var ae=k.value,le=k.state==we,pe=0;Y.length>pe;){var me=Y[pe++],be=le?me.ok:me.fail,ke=me.resolve,$e=me.reject,Te=me.domain,je,qr,Je;try{be?(le||(k.rejection===V&&P(k),k.rejection=z),be===!0?je=ae:(Te&&Te.enter(),je=be(ae),Te&&(Te.exit(),Je=!0)),je===me.promise?$e(W("Promise-chain cycle")):(qr=O(je))?qr.call(je,ke,$e):ke(je)):$e(ae)}catch(Xr){Te&&!Je&&Te.exit(),$e(Xr)}}k.reactions=[],k.notified=!1,$&&!k.rejection&&Z(k)})}},G=function(k,$,Y){var ae,le;fe?(ae=X.createEvent("Event"),ae.promise=$,ae.reason=Y,ae.initEvent(k,!1,!0),f.dispatchEvent(ae)):ae={promise:$,reason:Y},!ye&&(le=f["on"+k])?le(ae):k===he&&b("Unhandled promise rejection",Y)},Z=function(k){_.call(f,function(){var $=k.facade,Y=k.value,ae=ne(k),le;if(ae&&(le=E(function(){Q?oe.emit("unhandledRejection",Y,$):G(he,$,Y)}),k.rejection=Q||ne(k)?V:z,le.error))throw le.value})},ne=function(k){return k.rejection!==z&&!k.parent},P=function(k){_.call(f,function(){var $=k.facade;Q?oe.emit("rejectionHandled",$):G(ve,$,k.value)})},y=function(k,$,Y){return function(ae){k($,ae,Y)}},w=function(k,$,Y){k.done||(k.done=!0,Y&&(k=Y),k.value=$,k.state=ge,M(k,!0))},q=function(k,$,Y){if(!k.done){k.done=!0,Y&&(k=Y);try{if(k.facade===$)throw W("Promise can't be resolved itself");var ae=O($);ae?v(function(){var le={done:!1};try{ae.call($,y(q,le,k),y(w,le,k))}catch(pe){w(le,pe,k)}}):(k.value=$,k.state=we,M(k,!1))}catch(le){w({done:!1},le,k)}}};if(I&&(D=function($){l(this,D,J),t($),ue.call(this);var Y=j(this);try{$(y(q,Y),y(w,Y))}catch(ae){w(Y,ae)}},N=D.prototype,ue=function($){C(this,{type:J,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:de,value:void 0})},ue.prototype=o(N,{then:function($,Y){var ae=H(this),le=te(S(this,D));return le.ok=typeof $=="function"?$:!0,le.fail=typeof Y=="function"&&Y,le.domain=Q?oe.domain:void 0,ae.parent=!0,ae.reactions.push(le),ae.state!=de&&M(ae,!1),le.promise},catch:function(k){return this.then(void 0,k)}}),ce=function(){var k=new ue,$=j(k);this.promise=k,this.resolve=y(q,$),this.reject=y(w,$)},x.f=te=function(k){return k===D||k===L?new ce(k):se(k)},!m&&typeof i=="function"&&K!==Object.prototype)){B=K.then,ie||(s(K,"then",function($,Y){var ae=this;return new D(function(le,pe){B.call(ae,le,pe)}).then($,Y)},{unsafe:!0}),s(K,"catch",N.catch,{unsafe:!0}));try{delete K.constructor}catch{}r&&r(K,N)}return c({global:!0,wrap:!0,forced:I},{Promise:D}),u(D,J,!1,!0),n(J),L=d(J),c({target:J,stat:!0,forced:I},{reject:function($){var Y=te(this);return Y.reject.call(void 0,$),Y.promise}}),c({target:J,stat:!0,forced:m||I},{resolve:function($){return T(m&&this===L?D:this,$)}}),c({target:J,stat:!0,forced:g},{all:function($){var Y=this,ae=te(Y),le=ae.resolve,pe=ae.reject,me=E(function(){var be=t(Y.resolve),ke=[],$e=0,Te=1;h($,function(je){var qr=$e++,Je=!1;ke.push(void 0),Te++,be.call(Y,je).then(function(Xr){Je||(Je=!0,ke[qr]=Xr,--Te||le(ke))},pe)}),--Te||le(ke)});return me.error&&pe(me.value),ae.promise},race:function($){var Y=this,ae=te(Y),le=ae.reject,pe=E(function(){var me=t(Y.resolve);h($,function(be){me.call(Y,be).then(ae.resolve,le)})});return pe.error&&le(pe.value),ae.promise}}),ps}var qs={},Ms;function Sf(){if(Ms)return qs;Ms=1;var c=Fe(),m=ze(),f=Cr(),d=Wr(),i=$r();return c({target:"Promise",stat:!0},{allSettled:function(o){var r=this,u=f.f(r),n=u.resolve,e=u.reject,t=d(function(){var l=m(r.resolve),a=[],h=0,p=1;i(o,function(S){var _=h++,v=!1;a.push(void 0),p++,l.call(r,S).then(function(T){v||(v=!0,a[_]={status:"fulfilled",value:T},--p||n(a))},function(T){v||(v=!0,a[_]={status:"rejected",reason:T},--p||n(a))})}),--p||n(a)});return t.error&&e(t.value),u.promise}}),qs}var ks={},Ls;function Ef(){if(Ls)return ks;Ls=1;var c=Fe(),m=ze(),f=Ne(),d=Cr(),i=Wr(),s=$r(),o="No one promise resolved";return c({target:"Promise",stat:!0},{any:function(u){var n=this,e=d.f(n),t=e.resolve,l=e.reject,a=i(function(){var h=m(n.resolve),p=[],S=0,_=1,v=!1;s(u,function(T){var b=S++,x=!1;p.push(void 0),_++,h.call(n,T).then(function(E){x||v||(v=!0,t(E))},function(E){x||v||(x=!0,p[b]=E,--_||l(new(f("AggregateError"))(p,o)))})}),--_||l(new(f("AggregateError"))(p,o))});return a.error&&l(a.value),e.promise}}),ks}var Bs={},Ds;function Oh(){if(Ds)return Bs;Ds=1;var c=Fe(),m=Pr(),f=bf(),d=Ae(),i=Ne(),s=mf(),o=gf(),r=Ye(),u=!!f&&d(function(){f.prototype.finally.call({then:function(){}},function(){})});if(c({target:"Promise",proto:!0,real:!0,forced:u},{finally:function(e){var t=s(this,i("Promise")),l=typeof e=="function";return this.then(l?function(a){return o(t,e()).then(function(){return a})}:e,l?function(a){return o(t,e()).then(function(){throw a})}:e)}}),!m&&typeof f=="function"){var n=i("Promise").prototype.finally;f.prototype.finally!==n&&r(f.prototype,"finally",n,{unsafe:!0})}return Bs}var Us={},Un,Ns;function Rh(){if(Ns)return Un;Ns=1;var c=Ao(),m=wo(),f=function(d){return function(i,s){var o=String(m(i)),r=c(s),u=o.length,n,e;return r<0||r>=u?d?"":void 0:(n=o.charCodeAt(r),n<55296||n>56319||r+1===u||(e=o.charCodeAt(r+1))<56320||e>57343?d?o.charAt(r):n:d?o.slice(r,r+2):(n-55296<<10)+(e-56320)+65536)}};return Un={codeAt:f(!1),charAt:f(!0)},Un}var Nn,Fs;function Of(){if(Fs)return Nn;Fs=1;var c=Ae(),m=Io(),f=Me(),d=Pe(),i=xe(),s=Pr(),o=i("iterator"),r=!1,u=function(){return this},n,e,t;[].keys&&(t=[].keys(),"next"in t?(e=m(m(t)),e!==Object.prototype&&(n=e)):r=!0);var l=n==null||c(function(){var a={};return n[o].call(a)!==a});return l&&(n={}),(!s||l)&&!d(n,o)&&f(n,o,u),Nn={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:r},Nn}var Fn,$s;function xh(){if($s)return Fn;$s=1;var c=Of().IteratorPrototype,m=jo(),f=Ur(),d=ko(),i=Ir(),s=function(){return this};return Fn=function(o,r,u){var n=r+" Iterator";return o.prototype=m(c,{next:f(1,u)}),d(o,n,!1,!0),i[n]=s,o},Fn}var $n,Ws;function Rf(){if(Ws)return $n;Ws=1;var c=Fe(),m=xh(),f=Io(),d=Co(),i=ko(),s=Me(),o=Ye(),r=xe(),u=Pr(),n=Ir(),e=Of(),t=e.IteratorPrototype,l=e.BUGGY_SAFARI_ITERATORS,a=r("iterator"),h="keys",p="values",S="entries",_=function(){return this};return $n=function(v,T,b,x,E,R,A){m(b,T,x);var U=function(D){if(D===E&&J)return J;if(!l&&D in ee)return ee[D];switch(D){case h:return function(){return new b(this,D)};case p:return function(){return new b(this,D)};case S:return function(){return new b(this,D)}}return function(){return new b(this)}},F=T+" Iterator",Q=!1,ee=v.prototype,re=ee[a]||ee["@@iterator"]||E&&ee[E],J=!l&&re||U(E),j=T=="Array"&&ee.entries||re,C,H,K;if(j&&(C=f(j.call(new v)),t!==Object.prototype&&C.next&&(!u&&f(C)!==t&&(d?d(C,t):typeof C[a]!="function"&&s(C,a,_)),i(C,F,!0,!0),u&&(n[F]=_))),E==p&&re&&re.name!==p&&(Q=!0,J=function(){return re.call(this)}),(!u||A)&&ee[a]!==J&&s(ee,a,J),n[T]=J,E)if(H={values:U(p),keys:R?J:U(h),entries:U(S)},A)for(K in H)(l||Q||!(K in ee))&&o(ee,K,H[K]);else c({target:T,proto:!0,forced:l||Q},H);return H},$n}var Hs;function Th(){if(Hs)return Us;Hs=1;var c=Rh().charAt,m=Fr(),f=Rf(),d="String Iterator",i=m.set,s=m.getterFor(d);return f(String,"String",function(o){i(this,{type:d,string:String(o),index:0})},function(){var r=s(this),u=r.string,n=r.index,e;return n>=u.length?{value:void 0,done:!0}:(e=c(u,n),r.index+=e.length,{value:e,done:!1})}),Us}var Gs={},Wn,Vs;function Ah(){return Vs||(Vs=1,Wn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Wn}var Hn,Ks;function Ph(){if(Ks)return Hn;Ks=1;var c=xe(),m=jo(),f=Ke(),d=c("unscopables"),i=Array.prototype;return i[d]==null&&f.f(i,d,{configurable:!0,value:m(null)}),Hn=function(s){i[d][s]=!0},Hn}var Gn,Ys;function Ih(){if(Ys)return Gn;Ys=1;var c=Nr(),m=Ph(),f=Ir(),d=Fr(),i=Rf(),s="Array Iterator",o=d.set,r=d.getterFor(s);return Gn=i(Array,"Array",function(u,n){o(this,{type:s,target:c(u),index:0,kind:n})},function(){var u=r(this),n=u.target,e=u.kind,t=u.index++;return!n||t>=n.length?(u.target=void 0,{value:void 0,done:!0}):e=="keys"?{value:t,done:!1}:e=="values"?{value:n[t],done:!1}:{value:[t,n[t]],done:!1}},"values"),f.Arguments=f.Array,m("keys"),m("values"),m("entries"),Gn}var zs;function Ch(){if(zs)return Gs;zs=1;var c=Se(),m=Ah(),f=Ih(),d=Me(),i=xe(),s=i("iterator"),o=i("toStringTag"),r=f.values;for(var u in m){var n=c[u],e=n&&n.prototype;if(e){if(e[s]!==r)try{d(e,s,r)}catch{e[s]=r}if(e[o]||d(e,o,u),m[u]){for(var t in f)if(e[t]!==f[t])try{d(e,t,f[t])}catch{e[t]=f[t]}}}}return Gs}var Vn,Js;function jh(){if(Js)return Vn;Js=1,yf(),ph(),Eh(),Sf(),Ef(),Oh(),Th(),Ch();var c=sf();return Vn=c.Promise,Vn}var Xs={},Qs;function qh(){return Qs||(Qs=1,yf()),Xs}var Zs={},eu;function Mh(){return eu||(eu=1,Sf()),Zs}var ru={},tu;function kh(){if(tu)return ru;tu=1;var c=Fe(),m=Cr(),f=Wr();return c({target:"Promise",stat:!0},{try:function(d){var i=m.f(this),s=f(d);return(s.error?i.reject:i.resolve)(s.value),i.promise}}),ru}var nu={},iu;function Lh(){return iu||(iu=1,Ef()),nu}var Kn,ou;function Bh(){if(ou)return Kn;ou=1;var c=jh();return qh(),Mh(),kh(),Lh(),Kn=c,Kn}var Yn={},au;function Dh(){return au||(au=1,function(c){var m=function(){try{if(c.URLSearchParams&&new c.URLSearchParams("foo=bar").get("foo")==="bar")return c.URLSearchParams}catch{}return null}(),f=m&&new m({a:1}).toString()==="a=1",d=m&&new m("s=%2B").get("s")==="+",i="__URLSearchParams__",s=m?function(){var b=new m;return b.append("s"," &"),b.toString()==="s=+%26"}():!0,o=u.prototype,r=!!(c.Symbol&&c.Symbol.iterator);if(m&&f&&d&&s)return;function u(b){b=b||"",(b instanceof URLSearchParams||b instanceof u)&&(b=b.toString()),this[i]=S(b)}o.append=function(b,x){_(this[i],b,x)},o.delete=function(b){delete this[i][b]},o.get=function(b){var x=this[i];return this.has(b)?x[b][0]:null},o.getAll=function(b){var x=this[i];return this.has(b)?x[b].slice(0):[]},o.has=function(b){return T(this[i],b)},o.set=function(x,E){this[i][x]=[""+E]},o.toString=function(){var b=this[i],x=[],E,R,A,U;for(R in b)for(A=a(R),E=0,U=b[R];E<U.length;E++)x.push(A+"="+a(U[E]));return x.join("&")};var n=!d,e=!n&&m&&!f&&c.Proxy,t;e?(t=new Proxy(m,{construct:function(b,x){return new b(new u(x[0]).toString())}}),t.toString=Function.prototype.toString.bind(u)):t=u,Object.defineProperty(c,"URLSearchParams",{value:t});var l=c.URLSearchParams.prototype;l.polyfill=!0,l.forEach=l.forEach||function(b,x){var E=S(this.toString());Object.getOwnPropertyNames(E).forEach(function(R){E[R].forEach(function(A){b.call(x,A,R,this)},this)},this)},l.sort=l.sort||function(){var b=S(this.toString()),x=[],E,R,A;for(E in b)x.push(E);for(x.sort(),R=0;R<x.length;R++)this.delete(x[R]);for(R=0;R<x.length;R++){var U=x[R],F=b[U];for(A=0;A<F.length;A++)this.append(U,F[A])}},l.keys=l.keys||function(){var b=[];return this.forEach(function(x,E){b.push(E)}),p(b)},l.values=l.values||function(){var b=[];return this.forEach(function(x){b.push(x)}),p(b)},l.entries=l.entries||function(){var b=[];return this.forEach(function(x,E){b.push([E,x])}),p(b)},r&&(l[c.Symbol.iterator]=l[c.Symbol.iterator]||l.entries);function a(b){var x={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(b).replace(/[!'\(\)~]|%20|%00/g,function(E){return x[E]})}function h(b){return b.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/ig,function(x){return decodeURIComponent(x)})}function p(b){var x={next:function(){var E=b.shift();return{done:E===void 0,value:E}}};return r&&(x[c.Symbol.iterator]=function(){return x}),x}function S(b){var x={};if(typeof b=="object")if(v(b))for(var E=0;E<b.length;E++){var R=b[E];if(v(R)&&R.length===2)_(x,R[0],R[1]);else throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}else for(var A in b)b.hasOwnProperty(A)&&_(x,A,b[A]);else{b.indexOf("?")===0&&(b=b.slice(1));for(var U=b.split("&"),F=0;F<U.length;F++){var Q=U[F],ee=Q.indexOf("=");-1<ee?_(x,h(Q.slice(0,ee)),h(Q.slice(ee+1))):Q&&_(x,h(Q),"")}}return x}function _(b,x,E){var R=typeof E=="string"?E:E!=null&&typeof E.toString=="function"?E.toString():JSON.stringify(E);T(b,x)?b[x].push(R):b[x]=[R]}function v(b){return!!b&&Object.prototype.toString.call(b)==="[object Array]"}function T(b,x){return Object.prototype.hasOwnProperty.call(b,x)}}(typeof Ee<"u"?Ee:typeof window<"u"?window:Yn)),Yn}var Xe={},Le={},zn={},Jn={},su;function Ce(){if(su)return Jn;su=1;var c=typeof window<"u"&&window,m=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,f=typeof Ee<"u"&&Ee,d=c||f||m;return Jn.root=d,function(){if(!d)throw new Error("RxJS could not find any global context (window, self, global)")}(),Jn}var Xn={},Qe={},Qn={},uu;function xf(){if(uu)return Qn;uu=1;function c(m){return typeof m=="function"}return Qn.isFunction=c,Qn}var Zn={},ei={},cu;function Hr(){return cu||(cu=1,ei.isArray=Array.isArray||function(c){return c&&typeof c.length=="number"}),ei}var ri={},lu;function Tf(){if(lu)return ri;lu=1;function c(m){return m!=null&&typeof m=="object"}return ri.isObject=c,ri}var ti={},ni={},fu;function Gr(){return fu||(fu=1,ni.errorObject={e:{}}),ni}var hu;function Bo(){if(hu)return ti;hu=1;var c=Gr(),m;function f(){try{return m.apply(this,arguments)}catch(i){return c.errorObject.e=i,c.errorObject}}function d(i){return m=i,f}return ti.tryCatch=d,ti}var Ze={},du;function Uh(){if(du)return Ze;du=1;var c=Ze&&Ze.__extends||function(f,d){for(var i in d)d.hasOwnProperty(i)&&(f[i]=d[i]);function s(){this.constructor=f}f.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)},m=function(f){c(d,f);function d(i){f.call(this),this.errors=i;var s=Error.call(this,i?i.length+` errors occurred during unsubscription:
  `+i.map(function(o,r){return r+1+") "+o.toString()}).join(`
  `):"");this.name=s.name="UnsubscriptionError",this.stack=s.stack,this.message=s.message}return d}(Error);return Ze.UnsubscriptionError=m,Ze}var pu;function jr(){if(pu)return Zn;pu=1;var c=Hr(),m=Tf(),f=xf(),d=Bo(),i=Gr(),s=Uh(),o=function(){function u(n){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,n&&(this._unsubscribe=n)}return u.prototype.unsubscribe=function(){var n=!1,e;if(!this.closed){var t=this,l=t._parent,a=t._parents,h=t._unsubscribe,p=t._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var S=-1,_=a?a.length:0;l;)l.remove(this),l=++S<_&&a[S]||null;if(f.isFunction(h)){var v=d.tryCatch(h).call(this);v===i.errorObject&&(n=!0,e=e||(i.errorObject.e instanceof s.UnsubscriptionError?r(i.errorObject.e.errors):[i.errorObject.e]))}if(c.isArray(p))for(S=-1,_=p.length;++S<_;){var T=p[S];if(m.isObject(T)){var v=d.tryCatch(T.unsubscribe).call(T);if(v===i.errorObject){n=!0,e=e||[];var b=i.errorObject.e;b instanceof s.UnsubscriptionError?e=e.concat(r(b.errors)):e.push(b)}}}if(n)throw new s.UnsubscriptionError(e)}},u.prototype.add=function(n){if(!n||n===u.EMPTY)return u.EMPTY;if(n===this)return this;var e=n;switch(typeof n){case"function":e=new u(n);case"object":if(e.closed||typeof e.unsubscribe!="function")return e;if(this.closed)return e.unsubscribe(),e;if(typeof e._addParent!="function"){var t=e;e=new u,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}var l=this._subscriptions||(this._subscriptions=[]);return l.push(e),e._addParent(this),e},u.prototype.remove=function(n){var e=this._subscriptions;if(e){var t=e.indexOf(n);t!==-1&&e.splice(t,1)}},u.prototype._addParent=function(n){var e=this,t=e._parent,l=e._parents;!t||t===n?this._parent=n:l?l.indexOf(n)===-1&&l.push(n):this._parents=[n]},u.EMPTY=function(n){return n.closed=!0,n}(new u),u}();Zn.Subscription=o;function r(u){return u.reduce(function(n,e){return n.concat(e instanceof s.UnsubscriptionError?e.errors:e)},[])}return Zn}var ii={},vu;function Af(){return vu||(vu=1,ii.empty={closed:!0,next:function(c){},error:function(c){throw c},complete:function(){}}),ii}var oi={},yu;function Do(){return yu||(yu=1,function(c){var m=Ce(),f=m.root.Symbol;c.rxSubscriber=typeof f=="function"&&typeof f.for=="function"?f.for("rxSubscriber"):"@@rxSubscriber",c.$$rxSubscriber=c.rxSubscriber}(oi)),oi}var bu;function Re(){if(bu)return Qe;bu=1;var c=Qe&&Qe.__extends||function(u,n){for(var e in n)n.hasOwnProperty(e)&&(u[e]=n[e]);function t(){this.constructor=u}u.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)},m=xf(),f=jr(),d=Af(),i=Do(),s=function(u){c(n,u);function n(e,t,l){switch(u.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=d.empty;break;case 1:if(!e){this.destination=d.empty;break}if(typeof e=="object"){if(r(e)){var a=e[i.rxSubscriber]();this.syncErrorThrowable=a.syncErrorThrowable,this.destination=a,a.add(this)}else this.syncErrorThrowable=!0,this.destination=new o(this,e);break}default:this.syncErrorThrowable=!0,this.destination=new o(this,e,t,l);break}}return n.prototype[i.rxSubscriber]=function(){return this},n.create=function(e,t,l){var a=new n(e,t,l);return a.syncErrorThrowable=!1,a},n.prototype.next=function(e){this.isStopped||this._next(e)},n.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,u.prototype.unsubscribe.call(this))},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var e=this,t=e._parent,l=e._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=l,this},n}(f.Subscription);Qe.Subscriber=s;var o=function(u){c(n,u);function n(e,t,l,a){u.call(this),this._parentSubscriber=e;var h,p=this;m.isFunction(t)?h=t:t&&(h=t.next,l=t.error,a=t.complete,t!==d.empty&&(p=Object.create(t),m.isFunction(p.unsubscribe)&&this.add(p.unsubscribe.bind(p)),p.unsubscribe=this.unsubscribe.bind(this))),this._context=p,this._next=h,this._error=l,this._complete=a}return n.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},n.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),e}},n.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var l=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,l),this.unsubscribe()):(this.__tryOrUnsub(l),this.unsubscribe())}else this.unsubscribe()}},n.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(l){throw this.unsubscribe(),l}},n.prototype.__tryOrSetError=function(e,t,l){try{t.call(this._context,l)}catch(a){return e.syncErrorValue=a,e.syncErrorThrown=!0,!0}return!1},n.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},n}(s);function r(u){return u instanceof s||"syncErrorThrowable"in u&&u[i.rxSubscriber]}return Qe}var mu;function Nh(){if(mu)return Xn;mu=1;var c=Re(),m=Do(),f=Af();function d(i,s,o){if(i){if(i instanceof c.Subscriber)return i;if(i[m.rxSubscriber])return i[m.rxSubscriber]()}return!i&&!s&&!o?new c.Subscriber(f.empty):new c.Subscriber(i,s,o)}return Xn.toSubscriber=d,Xn}var ai={},_u;function Uo(){return _u||(_u=1,function(c){var m=Ce();function f(d){var i,s=d.Symbol;return typeof s=="function"?s.observable?i=s.observable:(i=s("observable"),s.observable=i):i="@@observable",i}c.getSymbolObservable=f,c.observable=f(m.root),c.$$observable=c.observable}(ai)),ai}var Mr={},si={},wu;function Fh(){if(wu)return si;wu=1;function c(){}return si.noop=c,si}var gu;function $h(){if(gu)return Mr;gu=1;var c=Fh();function m(){for(var d=[],i=0;i<arguments.length;i++)d[i-0]=arguments[i];return f(d)}Mr.pipe=m;function f(d){return d?d.length===1?d[0]:function(s){return d.reduce(function(o,r){return r(o)},s)}:c.noop}return Mr.pipeFromArray=f,Mr}var Su;function _e(){if(Su)return zn;Su=1;var c=Ce(),m=Nh(),f=Uo(),d=$h(),i=function(){function s(o){this._isScalar=!1,o&&(this._subscribe=o)}return s.prototype.lift=function(o){var r=new s;return r.source=this,r.operator=o,r},s.prototype.subscribe=function(o,r,u){var n=this.operator,e=m.toSubscriber(o,r,u);if(n?n.call(e,this.source):e.add(this.source||!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},s.prototype._trySubscribe=function(o){try{return this._subscribe(o)}catch(r){o.syncErrorThrown=!0,o.syncErrorValue=r,o.error(r)}},s.prototype.forEach=function(o,r){var u=this;if(r||(c.root.Rx&&c.root.Rx.config&&c.root.Rx.config.Promise?r=c.root.Rx.config.Promise:c.root.Promise&&(r=c.root.Promise)),!r)throw new Error("no Promise impl found");return new r(function(n,e){var t;t=u.subscribe(function(l){if(t)try{o(l)}catch(a){e(a),t.unsubscribe()}else o(l)},e,n)})},s.prototype._subscribe=function(o){return this.source.subscribe(o)},s.prototype[f.observable]=function(){return this},s.prototype.pipe=function(){for(var o=[],r=0;r<arguments.length;r++)o[r-0]=arguments[r];return o.length===0?this:d.pipeFromArray(o)(this)},s.prototype.toPromise=function(o){var r=this;if(o||(c.root.Rx&&c.root.Rx.config&&c.root.Rx.config.Promise?o=c.root.Rx.config.Promise:c.root.Promise&&(o=c.root.Promise)),!o)throw new Error("no Promise impl found");return new o(function(u,n){var e;r.subscribe(function(t){return e=t},function(t){return n(t)},function(){return u(e)})})},s.create=function(o){return new s(o)},s}();return zn.Observable=i,zn}var er={},Eu;function Pf(){if(Eu)return er;Eu=1;var c=er&&er.__extends||function(f,d){for(var i in d)d.hasOwnProperty(i)&&(f[i]=d[i]);function s(){this.constructor=f}f.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)},m=function(f){c(d,f);function d(){var i=f.call(this,"object unsubscribed");this.name=i.name="ObjectUnsubscribedError",this.stack=i.stack,this.message=i.message}return d}(Error);return er.ObjectUnsubscribedError=m,er}var rr={},Ou;function Wh(){if(Ou)return rr;Ou=1;var c=rr&&rr.__extends||function(d,i){for(var s in i)i.hasOwnProperty(s)&&(d[s]=i[s]);function o(){this.constructor=d}d.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},m=jr(),f=function(d){c(i,d);function i(s,o){d.call(this),this.subject=s,this.subscriber=o,this.closed=!1}return i.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var s=this.subject,o=s.observers;if(this.subject=null,!(!o||o.length===0||s.isStopped||s.closed)){var r=o.indexOf(this.subscriber);r!==-1&&o.splice(r,1)}}},i}(m.Subscription);return rr.SubjectSubscription=f,rr}var Ru;function Vr(){if(Ru)return Le;Ru=1;var c=Le&&Le.__extends||function(e,t){for(var l in t)t.hasOwnProperty(l)&&(e[l]=t[l]);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)},m=_e(),f=Re(),d=jr(),i=Pf(),s=Wh(),o=Do(),r=function(e){c(t,e);function t(l){e.call(this,l),this.destination=l}return t}(f.Subscriber);Le.SubjectSubscriber=r;var u=function(e){c(t,e);function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return t.prototype[o.rxSubscriber]=function(){return new r(this)},t.prototype.lift=function(l){var a=new n(this,this);return a.operator=l,a},t.prototype.next=function(l){if(this.closed)throw new i.ObjectUnsubscribedError;if(!this.isStopped)for(var a=this.observers,h=a.length,p=a.slice(),S=0;S<h;S++)p[S].next(l)},t.prototype.error=function(l){if(this.closed)throw new i.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=l,this.isStopped=!0;for(var a=this.observers,h=a.length,p=a.slice(),S=0;S<h;S++)p[S].error(l);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new i.ObjectUnsubscribedError;this.isStopped=!0;for(var l=this.observers,a=l.length,h=l.slice(),p=0;p<a;p++)h[p].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(l){if(this.closed)throw new i.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,l)},t.prototype._subscribe=function(l){if(this.closed)throw new i.ObjectUnsubscribedError;return this.hasError?(l.error(this.thrownError),d.Subscription.EMPTY):this.isStopped?(l.complete(),d.Subscription.EMPTY):(this.observers.push(l),new s.SubjectSubscription(this,l))},t.prototype.asObservable=function(){var l=new m.Observable;return l.source=this,l},t.create=function(l,a){return new n(l,a)},t}(m.Observable);Le.Subject=u;var n=function(e){c(t,e);function t(l,a){e.call(this),this.destination=l,this.source=a}return t.prototype.next=function(l){var a=this.destination;a&&a.next&&a.next(l)},t.prototype.error=function(l){var a=this.destination;a&&a.error&&this.destination.error(l)},t.prototype.complete=function(){var l=this.destination;l&&l.complete&&this.destination.complete()},t.prototype._subscribe=function(l){var a=this.source;return a?this.source.subscribe(l):d.Subscription.EMPTY},t}(u);return Le.AnonymousSubject=n,Le}var xu;function If(){if(xu)return Xe;xu=1;var c=Xe&&Xe.__extends||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o]);function r(){this.constructor=i}i.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)},m=Vr(),f=Pf(),d=function(i){c(s,i);function s(o){i.call(this),this._value=o}return Object.defineProperty(s.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),s.prototype._subscribe=function(o){var r=i.prototype._subscribe.call(this,o);return r&&!r.closed&&o.next(this._value),r},s.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new f.ObjectUnsubscribedError;return this._value},s.prototype.next=function(o){i.prototype.next.call(this,this._value=o)},s}(m.Subject);return Xe.BehaviorSubject=d,Xe}var ui={},tr={},nr={},Tu;function Hh(){if(Tu)return nr;Tu=1;var c=nr&&nr.__extends||function(d,i){for(var s in i)i.hasOwnProperty(s)&&(d[s]=i[s]);function o(){this.constructor=d}d.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},m=jr(),f=function(d){c(i,d);function i(s,o){d.call(this)}return i.prototype.schedule=function(s,o){return this},i}(m.Subscription);return nr.Action=f,nr}var Au;function Gh(){if(Au)return tr;Au=1;var c=tr&&tr.__extends||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o]);function r(){this.constructor=i}i.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)},m=Ce(),f=Hh(),d=function(i){c(s,i);function s(o,r){i.call(this,o,r),this.scheduler=o,this.pending=!1,this.work=r}return s.prototype.schedule=function(o,r){if(r===void 0&&(r=0),this.closed)return this;this.state=o,this.pending=!0;var u=this.id,n=this.scheduler;return u!=null&&(this.id=this.recycleAsyncId(n,u,r)),this.delay=r,this.id=this.id||this.requestAsyncId(n,this.id,r),this},s.prototype.requestAsyncId=function(o,r,u){return u===void 0&&(u=0),m.root.setInterval(o.flush.bind(o,this),u)},s.prototype.recycleAsyncId=function(o,r,u){return u===void 0&&(u=0),u!==null&&this.delay===u&&this.pending===!1?r:m.root.clearInterval(r)&&void 0||void 0},s.prototype.execute=function(o,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var u=this._execute(o,r);if(u)return u;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},s.prototype._execute=function(o,r){var u=!1,n=void 0;try{this.work(o)}catch(e){u=!0,n=!!e&&e||new Error(e)}if(u)return this.unsubscribe(),n},s.prototype._unsubscribe=function(){var o=this.id,r=this.scheduler,u=r.actions,n=u.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,n!==-1&&u.splice(n,1),o!=null&&(this.id=this.recycleAsyncId(r,o,null)),this.delay=null},s}(f.Action);return tr.AsyncAction=d,tr}var ir={},ci={},Pu;function Vh(){if(Pu)return ci;Pu=1;var c=function(){function m(f,d){d===void 0&&(d=m.now),this.SchedulerAction=f,this.now=d}return m.prototype.schedule=function(f,d,i){return d===void 0&&(d=0),new this.SchedulerAction(this,f).schedule(i,d)},m.now=Date.now?Date.now:function(){return+new Date},m}();return ci.Scheduler=c,ci}var Iu;function Kh(){if(Iu)return ir;Iu=1;var c=ir&&ir.__extends||function(d,i){for(var s in i)i.hasOwnProperty(s)&&(d[s]=i[s]);function o(){this.constructor=d}d.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},m=Vh(),f=function(d){c(i,d);function i(){d.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return i.prototype.flush=function(s){var o=this.actions;if(this.active){o.push(s);return}var r;this.active=!0;do if(r=s.execute(s.state,s.delay))break;while(s=o.shift());if(this.active=!1,r){for(;s=o.shift();)s.unsubscribe();throw r}},i}(m.Scheduler);return ir.AsyncScheduler=f,ir}var Cu;function Kr(){if(Cu)return ui;Cu=1;var c=Gh(),m=Kh();return ui.async=new m.AsyncScheduler(c.AsyncAction),ui}function yo(c){this.message=c}yo.prototype=new Error,yo.prototype.name="InvalidCharacterError";var ju=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(c){var m=String(c).replace(/=+$/,"");if(m.length%4==1)throw new yo("'atob' failed: The string to be decoded is not correctly encoded.");for(var f,d,i=0,s=0,o="";d=m.charAt(s++);~d&&(f=i%4?64*f+d:d,i++%4)?o+=String.fromCharCode(255&f>>(-2*i&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d);return o};function Yh(c){var m=c.replace(/-/g,"+").replace(/_/g,"/");switch(m.length%4){case 0:break;case 2:m+="==";break;case 3:m+="=";break;default:throw"Illegal base64url string!"}try{return function(f){return decodeURIComponent(ju(f).replace(/(.)/g,function(d,i){var s=i.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}(m)}catch{return ju(m)}}function Tr(c){this.message=c}function zh(c,m){if(typeof c!="string")throw new Tr("Invalid token specified");var f=(m=m||{}).header===!0?0:1;try{return JSON.parse(Yh(c.split(".")[f]))}catch(d){throw new Tr("Invalid token specified: "+d.message)}}Tr.prototype=new Error,Tr.prototype.name="InvalidTokenError";const Jh=Object.freeze(Object.defineProperty({__proto__:null,InvalidTokenError:Tr,default:zh},Symbol.toStringTag,{value:"Module"})),Xh=Kf(Jh);var qu={},li={},or={},ar={},Mu;function Yr(){if(Mu)return ar;Mu=1;var c=ar&&ar.__extends||function(d,i){for(var s in i)i.hasOwnProperty(s)&&(d[s]=i[s]);function o(){this.constructor=d}d.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},m=Re(),f=function(d){c(i,d);function i(){d.apply(this,arguments)}return i.prototype.notifyNext=function(s,o,r,u,n){this.destination.next(o)},i.prototype.notifyError=function(s,o){this.destination.error(s)},i.prototype.notifyComplete=function(s){this.destination.complete()},i}(m.Subscriber);return ar.OuterSubscriber=f,ar}var fi={},hi={},ku;function Cf(){return ku||(ku=1,hi.isArrayLike=function(c){return c&&typeof c.length=="number"}),hi}var di={},Lu;function jf(){if(Lu)return di;Lu=1;function c(m){return m&&typeof m.subscribe!="function"&&typeof m.then=="function"}return di.isPromise=c,di}var pi={},Bu;function No(){return Bu||(Bu=1,function(c){var m=Ce();function f(d){var i=d.Symbol;if(typeof i=="function")return i.iterator||(i.iterator=i("iterator polyfill")),i.iterator;var s=d.Set;if(s&&typeof new s()["@@iterator"]=="function")return"@@iterator";var o=d.Map;if(o)for(var r=Object.getOwnPropertyNames(o.prototype),u=0;u<r.length;++u){var n=r[u];if(n!=="entries"&&n!=="size"&&o.prototype[n]===o.prototype.entries)return n}return"@@iterator"}c.symbolIteratorPonyfill=f,c.iterator=f(m.root),c.$$iterator=c.iterator}(pi)),pi}var sr={},Du;function Qh(){if(Du)return sr;Du=1;var c=sr&&sr.__extends||function(d,i){for(var s in i)i.hasOwnProperty(s)&&(d[s]=i[s]);function o(){this.constructor=d}d.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},m=Re(),f=function(d){c(i,d);function i(s,o,r){d.call(this),this.parent=s,this.outerValue=o,this.outerIndex=r,this.index=0}return i.prototype._next=function(s){this.parent.notifyNext(this.outerValue,s,this.outerIndex,this.index++,this)},i.prototype._error=function(s){this.parent.notifyError(s,this),this.unsubscribe()},i.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},i}(m.Subscriber);return sr.InnerSubscriber=f,sr}var Uu;function zr(){if(Uu)return fi;Uu=1;var c=Ce(),m=Cf(),f=jf(),d=Tf(),i=_e(),s=No(),o=Qh(),r=Uo();function u(n,e,t,l){var a=new o.InnerSubscriber(n,t,l);if(a.closed)return null;if(e instanceof i.Observable)return e._isScalar?(a.next(e.value),a.complete(),null):(a.syncErrorThrowable=!0,e.subscribe(a));if(m.isArrayLike(e)){for(var h=0,p=e.length;h<p&&!a.closed;h++)a.next(e[h]);a.closed||a.complete()}else{if(f.isPromise(e))return e.then(function(x){a.closed||(a.next(x),a.complete())},function(x){return a.error(x)}).then(null,function(x){c.root.setTimeout(function(){throw x})}),a;if(e&&typeof e[s.iterator]=="function"){var S=e[s.iterator]();do{var _=S.next();if(_.done){a.complete();break}if(a.next(_.value),a.closed)break}while(!0)}else if(e&&typeof e[r.observable]=="function"){var v=e[r.observable]();if(typeof v.subscribe!="function")a.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return v.subscribe(new o.InnerSubscriber(n,t,l))}else{var T=d.isObject(e)?"an invalid object":"'"+e+"'",b="You provided "+T+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";a.error(new TypeError(b))}}return null}return fi.subscribeToResult=u,fi}var Nu;function Zh(){if(Nu)return or;Nu=1;var c=or&&or.__extends||function(o,r){for(var u in r)r.hasOwnProperty(u)&&(o[u]=r[u]);function n(){this.constructor=o}o.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)},m=Yr(),f=zr();function d(o){return function(u){var n=new i(o),e=u.lift(n);return n.caught=e}}or.catchError=d;var i=function(){function o(r){this.selector=r}return o.prototype.call=function(r,u){return u.subscribe(new s(r,this.selector,this.caught))},o}(),s=function(o){c(r,o);function r(u,n,e){o.call(this,u),this.selector=n,this.caught=e}return r.prototype.error=function(u){if(!this.isStopped){var n=void 0;try{n=this.selector(u,this.caught)}catch(e){o.prototype.error.call(this,e);return}this._unsubscribeAndRecycle(),this.add(f.subscribeToResult(this,n))}},r}(m.OuterSubscriber);return or}var Fu;function ed(){if(Fu)return li;Fu=1;var c=Zh();function m(f){return c.catchError(f)(this)}return li._catch=m,li}var $u;function rd(){if($u)return qu;$u=1;var c=_e(),m=ed();return c.Observable.prototype.catch=m._catch,c.Observable.prototype._catch=m._catch,qu}var Wu={},vi={},Be={},ur={},cr={},Hu;function qf(){if(Hu)return cr;Hu=1;var c=cr&&cr.__extends||function(d,i){for(var s in i)i.hasOwnProperty(s)&&(d[s]=i[s]);function o(){this.constructor=d}d.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},m=_e(),f=function(d){c(i,d);function i(s,o){d.call(this),this.value=s,this.scheduler=o,this._isScalar=!0,o&&(this._isScalar=!1)}return i.create=function(s,o){return new i(s,o)},i.dispatch=function(s){var o=s.done,r=s.value,u=s.subscriber;if(o){u.complete();return}u.next(r),!u.closed&&(s.done=!0,this.schedule(s))},i.prototype._subscribe=function(s){var o=this.value,r=this.scheduler;if(r)return r.schedule(i.dispatch,0,{done:!1,value:o,subscriber:s});s.next(o),s.closed||s.complete()},i}(m.Observable);return cr.ScalarObservable=f,cr}var lr={},Gu;function Jr(){if(Gu)return lr;Gu=1;var c=lr&&lr.__extends||function(d,i){for(var s in i)i.hasOwnProperty(s)&&(d[s]=i[s]);function o(){this.constructor=d}d.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},m=_e(),f=function(d){c(i,d);function i(s){d.call(this),this.scheduler=s}return i.create=function(s){return new i(s)},i.dispatch=function(s){var o=s.subscriber;o.complete()},i.prototype._subscribe=function(s){var o=this.scheduler;if(o)return o.schedule(i.dispatch,0,{subscriber:s});s.complete()},i}(m.Observable);return lr.EmptyObservable=f,lr}var yi={},Vu;function td(){if(Vu)return yi;Vu=1;function c(m){return m&&typeof m.schedule=="function"}return yi.isScheduler=c,yi}var Ku;function Fo(){if(Ku)return ur;Ku=1;var c=ur&&ur.__extends||function(o,r){for(var u in r)r.hasOwnProperty(u)&&(o[u]=r[u]);function n(){this.constructor=o}o.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)},m=_e(),f=qf(),d=Jr(),i=td(),s=function(o){c(r,o);function r(u,n){o.call(this),this.array=u,this.scheduler=n,!n&&u.length===1&&(this._isScalar=!0,this.value=u[0])}return r.create=function(u,n){return new r(u,n)},r.of=function(){for(var u=[],n=0;n<arguments.length;n++)u[n-0]=arguments[n];var e=u[u.length-1];i.isScheduler(e)?u.pop():e=null;var t=u.length;return t>1?new r(u,e):t===1?new f.ScalarObservable(u[0],e):new d.EmptyObservable(e)},r.dispatch=function(u){var n=u.array,e=u.index,t=u.count,l=u.subscriber;if(e>=t){l.complete();return}l.next(n[e]),!l.closed&&(u.index=e+1,this.schedule(u))},r.prototype._subscribe=function(u){var n=0,e=this.array,t=e.length,l=this.scheduler;if(l)return l.schedule(r.dispatch,0,{array:e,index:n,count:t,subscriber:u});for(var a=0;a<t&&!u.closed;a++)u.next(e[a]);u.complete()},r}(m.Observable);return ur.ArrayObservable=s,ur}var Yu;function nd(){if(Yu)return Be;Yu=1;var c=Be&&Be.__extends||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);function l(){this.constructor=n}n.prototype=e===null?Object.create(e):(l.prototype=e.prototype,new l)},m=Fo(),f=Hr(),d=Yr(),i=zr(),s={};function o(){for(var n=[],e=0;e<arguments.length;e++)n[e-0]=arguments[e];var t=null;return typeof n[n.length-1]=="function"&&(t=n.pop()),n.length===1&&f.isArray(n[0])&&(n=n[0].slice()),function(l){return l.lift.call(new m.ArrayObservable([l].concat(n)),new r(t))}}Be.combineLatest=o;var r=function(){function n(e){this.project=e}return n.prototype.call=function(e,t){return t.subscribe(new u(e,this.project))},n}();Be.CombineLatestOperator=r;var u=function(n){c(e,n);function e(t,l){n.call(this,t),this.project=l,this.active=0,this.values=[],this.observables=[]}return e.prototype._next=function(t){this.values.push(s),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,l=t.length;if(l===0)this.destination.complete();else{this.active=l,this.toRespond=l;for(var a=0;a<l;a++){var h=t[a];this.add(i.subscribeToResult(this,h,h,a))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,l,a,h,p){var S=this.values,_=S[a],v=this.toRespond?_===s?--this.toRespond:this.toRespond:0;S[a]=l,v===0&&(this.project?this._tryProject(S):this.destination.next(S.slice()))},e.prototype._tryProject=function(t){var l;try{l=this.project.apply(this,t)}catch(a){this.destination.error(a);return}this.destination.next(l)},e}(d.OuterSubscriber);return Be.CombineLatestSubscriber=u,Be}var zu;function id(){if(zu)return vi;zu=1;var c=nd();function m(){for(var f=[],d=0;d<arguments.length;d++)f[d-0]=arguments[d];return c.combineLatest.apply(void 0,f)(this)}return vi.combineLatest=m,vi}var Ju;function od(){if(Ju)return Wu;Ju=1;var c=_e(),m=id();return c.Observable.prototype.combineLatest=m.combineLatest,Wu}var Xu={},bi={},fr={},Qu;function ad(){if(Qu)return fr;Qu=1;var c=fr&&fr.__extends||function(s,o){for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r]);function u(){this.constructor=s}s.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)},m=Re();function f(s){return function(o){return o.lift(new d(s,o))}}fr.count=f;var d=function(){function s(o,r){this.predicate=o,this.source=r}return s.prototype.call=function(o,r){return r.subscribe(new i(o,this.predicate,this.source))},s}(),i=function(s){c(o,s);function o(r,u,n){s.call(this,r),this.predicate=u,this.source=n,this.count=0,this.index=0}return o.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},o.prototype._tryPredicate=function(r){var u;try{u=this.predicate(r,this.index++,this.source)}catch(n){this.destination.error(n);return}u&&this.count++},o.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},o}(m.Subscriber);return fr}var Zu;function sd(){if(Zu)return bi;Zu=1;var c=ad();function m(f){return c.count(f)(this)}return bi.count=m,bi}var ec;function ud(){if(ec)return Xu;ec=1;var c=_e(),m=sd();return c.Observable.prototype.count=m.count,Xu}var rc={},mi={},hr={},_i={},tc;function cd(){if(tc)return _i;tc=1;function c(m){return m instanceof Date&&!isNaN(+m)}return _i.isDate=c,_i}var wi={},nc;function Mf(){if(nc)return wi;nc=1;var c=_e(),m=function(){function f(d,i,s){this.kind=d,this.value=i,this.error=s,this.hasValue=d==="N"}return f.prototype.observe=function(d){switch(this.kind){case"N":return d.next&&d.next(this.value);case"E":return d.error&&d.error(this.error);case"C":return d.complete&&d.complete()}},f.prototype.do=function(d,i,s){var o=this.kind;switch(o){case"N":return d&&d(this.value);case"E":return i&&i(this.error);case"C":return s&&s()}},f.prototype.accept=function(d,i,s){return d&&typeof d.next=="function"?this.observe(d):this.do(d,i,s)},f.prototype.toObservable=function(){var d=this.kind;switch(d){case"N":return c.Observable.of(this.value);case"E":return c.Observable.throw(this.error);case"C":return c.Observable.empty()}throw new Error("unexpected notification kind value")},f.createNext=function(d){return typeof d<"u"?new f("N",d):f.undefinedValueNotification},f.createError=function(d){return new f("E",void 0,d)},f.createComplete=function(){return f.completeNotification},f.completeNotification=new f("C"),f.undefinedValueNotification=new f("N",void 0),f}();return wi.Notification=m,wi}var ic;function ld(){if(ic)return hr;ic=1;var c=hr&&hr.__extends||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);function l(){this.constructor=n}n.prototype=e===null?Object.create(e):(l.prototype=e.prototype,new l)},m=Kr(),f=cd(),d=Re(),i=Mf();function s(n,e){e===void 0&&(e=m.async);var t=f.isDate(n),l=t?+n-e.now():Math.abs(n);return function(a){return a.lift(new o(l,e))}}hr.delay=s;var o=function(){function n(e,t){this.delay=e,this.scheduler=t}return n.prototype.call=function(e,t){return t.subscribe(new r(e,this.delay,this.scheduler))},n}(),r=function(n){c(e,n);function e(t,l,a){n.call(this,t),this.delay=l,this.scheduler=a,this.queue=[],this.active=!1,this.errored=!1}return e.dispatch=function(t){for(var l=t.source,a=l.queue,h=t.scheduler,p=t.destination;a.length>0&&a[0].time-h.now()<=0;)a.shift().notification.observe(p);if(a.length>0){var S=Math.max(0,a[0].time-h.now());this.schedule(t,S)}else this.unsubscribe(),l.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var l=this.scheduler,a=new u(l.now()+this.delay,t);this.queue.push(a),this.active===!1&&this._schedule(l)}},e.prototype._next=function(t){this.scheduleNotification(i.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(i.Notification.createComplete())},e}(d.Subscriber),u=function(){function n(e,t){this.time=e,this.notification=t}return n}();return hr}var oc;function fd(){if(oc)return mi;oc=1;var c=Kr(),m=ld();function f(d,i){return i===void 0&&(i=c.async),m.delay(d,i)(this)}return mi.delay=f,mi}var ac;function hd(){if(ac)return rc;ac=1;var c=_e(),m=fd();return c.Observable.prototype.delay=m.delay,rc}var sc={},gi={},dr={},uc;function dd(){if(uc)return dr;uc=1;var c=dr&&dr.__extends||function(s,o){for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r]);function u(){this.constructor=s}s.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)},m=Re();function f(s,o,r){return function(n){return n.lift(new d(s,o,r))}}dr.tap=f;var d=function(){function s(o,r,u){this.nextOrObserver=o,this.error=r,this.complete=u}return s.prototype.call=function(o,r){return r.subscribe(new i(o,this.nextOrObserver,this.error,this.complete))},s}(),i=function(s){c(o,s);function o(r,u,n,e){s.call(this,r);var t=new m.Subscriber(u,n,e);t.syncErrorThrowable=!0,this.add(t),this.safeSubscriber=t}return o.prototype._next=function(r){var u=this.safeSubscriber;u.next(r),u.syncErrorThrown?this.destination.error(u.syncErrorValue):this.destination.next(r)},o.prototype._error=function(r){var u=this.safeSubscriber;u.error(r),u.syncErrorThrown?this.destination.error(u.syncErrorValue):this.destination.error(r)},o.prototype._complete=function(){var r=this.safeSubscriber;r.complete(),r.syncErrorThrown?this.destination.error(r.syncErrorValue):this.destination.complete()},o}(m.Subscriber);return dr}var cc;function pd(){if(cc)return gi;cc=1;var c=dd();function m(f,d,i){return c.tap(f,d,i)(this)}return gi._do=m,gi}var lc;function vd(){if(lc)return sc;lc=1;var c=_e(),m=pd();return c.Observable.prototype.do=m._do,c.Observable.prototype._do=m._do,sc}var fc={},Si={},pr={},hc;function yd(){if(hc)return pr;hc=1;var c=pr&&pr.__extends||function(s,o){for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r]);function u(){this.constructor=s}s.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)},m=Re();function f(s,o){return function(u){return u.lift(new d(s,o))}}pr.filter=f;var d=function(){function s(o,r){this.predicate=o,this.thisArg=r}return s.prototype.call=function(o,r){return r.subscribe(new i(o,this.predicate,this.thisArg))},s}(),i=function(s){c(o,s);function o(r,u,n){s.call(this,r),this.predicate=u,this.thisArg=n,this.count=0}return o.prototype._next=function(r){var u;try{u=this.predicate.call(this.thisArg,r,this.count++)}catch(n){this.destination.error(n);return}u&&this.destination.next(r)},o}(m.Subscriber);return pr}var dc;function bd(){if(dc)return Si;dc=1;var c=yd();function m(f,d){return c.filter(f,d)(this)}return Si.filter=m,Si}var pc;function md(){if(pc)return fc;pc=1;var c=_e(),m=bd();return c.Observable.prototype.filter=m.filter,fc}var vc={},Ei={},We={},yc;function kf(){if(yc)return We;yc=1;var c=We&&We.__extends||function(s,o){for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r]);function u(){this.constructor=s}s.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)},m=Re();function f(s,o){return function(u){if(typeof s!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return u.lift(new d(s,o))}}We.map=f;var d=function(){function s(o,r){this.project=o,this.thisArg=r}return s.prototype.call=function(o,r){return r.subscribe(new i(o,this.project,this.thisArg))},s}();We.MapOperator=d;var i=function(s){c(o,s);function o(r,u,n){s.call(this,r),this.project=u,this.count=0,this.thisArg=n||this}return o.prototype._next=function(r){var u;try{u=this.project.call(this.thisArg,r,this.count++)}catch(n){this.destination.error(n);return}this.destination.next(u)},o}(m.Subscriber);return We}var bc;function _d(){if(bc)return Ei;bc=1;var c=kf();function m(f,d){return c.map(f,d)(this)}return Ei.map=m,Ei}var mc;function wd(){if(mc)return vc;mc=1;var c=_e(),m=_d();return c.Observable.prototype.map=m.map,vc}var _c={},Oi={},De={},wc;function Lf(){if(wc)return De;wc=1;var c=De&&De.__extends||function(o,r){for(var u in r)r.hasOwnProperty(u)&&(o[u]=r[u]);function n(){this.constructor=o}o.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)},m=zr(),f=Yr();function d(o,r,u){return u===void 0&&(u=Number.POSITIVE_INFINITY),function(e){return typeof r=="number"&&(u=r,r=null),e.lift(new i(o,r,u))}}De.mergeMap=d;var i=function(){function o(r,u,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=r,this.resultSelector=u,this.concurrent=n}return o.prototype.call=function(r,u){return u.subscribe(new s(r,this.project,this.resultSelector,this.concurrent))},o}();De.MergeMapOperator=i;var s=function(o){c(r,o);function r(u,n,e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),o.call(this,u),this.project=n,this.resultSelector=e,this.concurrent=t,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r.prototype._next=function(u){this.active<this.concurrent?this._tryNext(u):this.buffer.push(u)},r.prototype._tryNext=function(u){var n,e=this.index++;try{n=this.project(u,e)}catch(t){this.destination.error(t);return}this.active++,this._innerSub(n,u,e)},r.prototype._innerSub=function(u,n,e){this.add(m.subscribeToResult(this,u,n,e))},r.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete()},r.prototype.notifyNext=function(u,n,e,t,l){this.resultSelector?this._notifyResultSelector(u,n,e,t):this.destination.next(n)},r.prototype._notifyResultSelector=function(u,n,e,t){var l;try{l=this.resultSelector(u,n,e,t)}catch(a){this.destination.error(a);return}this.destination.next(l)},r.prototype.notifyComplete=function(u){var n=this.buffer;this.remove(u),this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},r}(f.OuterSubscriber);return De.MergeMapSubscriber=s,De}var gc;function gd(){if(gc)return Oi;gc=1;var c=Lf();function m(f,d,i){return i===void 0&&(i=Number.POSITIVE_INFINITY),c.mergeMap(f,d,i)(this)}return Oi.mergeMap=m,Oi}var Sc;function Sd(){if(Sc)return _c;Sc=1;var c=_e(),m=gd();return c.Observable.prototype.mergeMap=m.mergeMap,c.Observable.prototype.flatMap=m.mergeMap,_c}var Ec={},Ri={},xi={},Oc;function Ed(){if(Oc)return xi;Oc=1;var c=Lf();function m(f,d){return c.mergeMap(f,d,1)}return xi.concatMap=m,xi}var Rc;function Od(){if(Rc)return Ri;Rc=1;var c=Ed();function m(f,d){return c.concatMap(f,d)(this)}return Ri.concatMap=m,Ri}var xc;function Rd(){if(xc)return Ec;xc=1;var c=_e(),m=Od();return c.Observable.prototype.concatMap=m.concatMap,Ec}var Tc={},Ti={},vr={},Ac;function xd(){if(Ac)return vr;Ac=1;var c=vr&&vr.__extends||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);function l(){this.constructor=n}n.prototype=e===null?Object.create(e):(l.prototype=e.prototype,new l)},m=Vr(),f=Bo(),d=Gr(),i=Yr(),s=zr();function o(n){return function(e){return e.lift(new r(n,e))}}vr.retryWhen=o;var r=function(){function n(e,t){this.notifier=e,this.source=t}return n.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier,this.source))},n}(),u=function(n){c(e,n);function e(t,l,a){n.call(this,t),this.notifier=l,this.source=a}return e.prototype.error=function(t){if(!this.isStopped){var l=this.errors,a=this.retries,h=this.retriesSubscription;if(a)this.errors=null,this.retriesSubscription=null;else{if(l=new m.Subject,a=f.tryCatch(this.notifier)(l),a===d.errorObject)return n.prototype.error.call(this,d.errorObject.e);h=s.subscribeToResult(this,a)}this._unsubscribeAndRecycle(),this.errors=l,this.retries=a,this.retriesSubscription=h,l.next(t)}},e.prototype._unsubscribe=function(){var t=this,l=t.errors,a=t.retriesSubscription;l&&(l.unsubscribe(),this.errors=null),a&&(a.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,l,a,h,p){var S=this,_=S.errors,v=S.retries,T=S.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=_,this.retries=v,this.retriesSubscription=T,this.source.subscribe(this)},e}(i.OuterSubscriber);return vr}var Pc;function Td(){if(Pc)return Ti;Pc=1;var c=xd();function m(f){return c.retryWhen(f)(this)}return Ti.retryWhen=m,Ti}var Ic;function Ad(){if(Ic)return Tc;Ic=1;var c=_e(),m=Td();return c.Observable.prototype.retryWhen=m.retryWhen,Tc}var Cc={},Ai={},Pi={},kr={},He={},yr={},jc;function Bf(){if(jc)return yr;jc=1;var c=yr&&yr.__extends||function(s,o){for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r]);function u(){this.constructor=s}s.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)},m=Re();function f(){return function(o){return o.lift(new d(o))}}yr.refCount=f;var d=function(){function s(o){this.connectable=o}return s.prototype.call=function(o,r){var u=this.connectable;u._refCount++;var n=new i(o,u),e=r.subscribe(n);return n.closed||(n.connection=u.connect()),e},s}(),i=function(s){c(o,s);function o(r,u){s.call(this,r),this.connectable=u}return o.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var u=r._refCount;if(u<=0){this.connection=null;return}if(r._refCount=u-1,u>1){this.connection=null;return}var n=this.connection,e=r._connection;this.connection=null,e&&(!n||e===n)&&e.unsubscribe()},o}(m.Subscriber);return yr}var qc;function Pd(){if(qc)return He;qc=1;var c=He&&He.__extends||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);function l(){this.constructor=n}n.prototype=e===null?Object.create(e):(l.prototype=e.prototype,new l)},m=Vr(),f=_e(),d=Re(),i=jr(),s=Bf(),o=function(n){c(e,n);function e(t,l){n.call(this),this.source=t,this.subjectFactory=l,this._refCount=0,this._isComplete=!1}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.Subscription,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed?(this._connection=null,t=i.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return s.refCount()(this)},e}(f.Observable);He.ConnectableObservable=o;var r=o.prototype;He.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}};var u=function(n){c(e,n);function e(t,l){n.call(this,t),this.connectable=l}return e.prototype._error=function(t){this._unsubscribe(),n.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),n.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var l=t._connection;t._refCount=0,t._subject=null,t._connection=null,l&&l.unsubscribe()}},e}(m.SubjectSubscriber);return function(n){c(e,n);function e(t,l){n.call(this,t),this.connectable=l}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var l=t._refCount;if(l<=0){this.connection=null;return}if(t._refCount=l-1,l>1){this.connection=null;return}var a=this.connection,h=t._connection;this.connection=null,h&&(!a||h===a)&&h.unsubscribe()},e}(d.Subscriber),He}var Mc;function Id(){if(Mc)return kr;Mc=1;var c=Pd();function m(d,i){return function(o){var r;if(typeof d=="function"?r=d:r=function(){return d},typeof i=="function")return o.lift(new f(r,i));var u=Object.create(o,c.connectableObservableDescriptor);return u.source=o,u.subjectFactory=r,u}}kr.multicast=m;var f=function(){function d(i,s){this.subjectFactory=i,this.selector=s}return d.prototype.call=function(i,s){var o=this.selector,r=this.subjectFactory(),u=o(r).subscribe(i);return u.add(s.subscribe(r)),u},d}();return kr.MulticastOperator=f,kr}var kc;function Cd(){if(kc)return Pi;kc=1;var c=Id(),m=Bf(),f=Vr();function d(){return new f.Subject}function i(){return function(s){return m.refCount()(c.multicast(d)(s))}}return Pi.share=i,Pi}var Lc;function jd(){if(Lc)return Ai;Lc=1;var c=Cd();function m(){return c.share()(this)}return Ai.share=m,Ai}var Bc;function qd(){if(Bc)return Cc;Bc=1;var c=_e(),m=jd();return c.Observable.prototype.share=m.share,Cc}var Dc={},Ii={},br={},mr={},Uc;function Md(){if(Uc)return mr;Uc=1;var c=mr&&mr.__extends||function(f,d){for(var i in d)d.hasOwnProperty(i)&&(f[i]=d[i]);function s(){this.constructor=f}f.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)},m=function(f){c(d,f);function d(){var i=f.call(this,"argument out of range");this.name=i.name="ArgumentOutOfRangeError",this.stack=i.stack,this.message=i.message}return d}(Error);return mr.ArgumentOutOfRangeError=m,mr}var Nc;function kd(){if(Nc)return br;Nc=1;var c=br&&br.__extends||function(r,u){for(var n in u)u.hasOwnProperty(n)&&(r[n]=u[n]);function e(){this.constructor=r}r.prototype=u===null?Object.create(u):(e.prototype=u.prototype,new e)},m=Re(),f=Md(),d=Jr();function i(r){return function(u){return r===0?new d.EmptyObservable:u.lift(new s(r))}}br.take=i;var s=function(){function r(u){if(this.total=u,this.total<0)throw new f.ArgumentOutOfRangeError}return r.prototype.call=function(u,n){return n.subscribe(new o(u,this.total))},r}(),o=function(r){c(u,r);function u(n,e){r.call(this,n),this.total=e,this.count=0}return u.prototype._next=function(n){var e=this.total,t=++this.count;t<=e&&(this.destination.next(n),t===e&&(this.destination.complete(),this.unsubscribe()))},u}(m.Subscriber);return br}var Fc;function Ld(){if(Fc)return Ii;Fc=1;var c=kd();function m(f){return c.take(f)(this)}return Ii.take=m,Ii}var $c;function Bd(){if($c)return Dc;$c=1;var c=_e(),m=Ld();return c.Observable.prototype.take=m.take,Dc}var Wc={},Ci={},Oe={},Hc;function Dd(){if(Hc)return Oe;Hc=1;var c=Oe&&Oe.__extends||function(E,R){for(var A in R)R.hasOwnProperty(A)&&(E[A]=R[A]);function U(){this.constructor=E}E.prototype=R===null?Object.create(R):(U.prototype=R.prototype,new U)},m=Ce(),f=Bo(),d=Gr(),i=_e(),s=Re(),o=kf();function r(){if(m.root.XMLHttpRequest)return new m.root.XMLHttpRequest;if(m.root.XDomainRequest)return new m.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function u(){if(m.root.XMLHttpRequest)return new m.root.XMLHttpRequest;var E=void 0;try{for(var R=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],A=0;A<3;A++)try{if(E=R[A],new m.root.ActiveXObject(E))break}catch{}return new m.root.ActiveXObject(E)}catch{throw new Error("XMLHttpRequest is not supported by your browser")}}function n(E,R){return R===void 0&&(R=null),new S({method:"GET",url:E,headers:R})}Oe.ajaxGet=n;function e(E,R,A){return new S({method:"POST",url:E,body:R,headers:A})}Oe.ajaxPost=e;function t(E,R){return new S({method:"DELETE",url:E,headers:R})}Oe.ajaxDelete=t;function l(E,R,A){return new S({method:"PUT",url:E,body:R,headers:A})}Oe.ajaxPut=l;function a(E,R,A){return new S({method:"PATCH",url:E,body:R,headers:A})}Oe.ajaxPatch=a;var h=o.map(function(E,R){return E.response});function p(E,R){return h(new S({method:"GET",url:E,responseType:"json",headers:R}))}Oe.ajaxGetJSON=p;var S=function(E){c(R,E);function R(A){E.call(this);var U={async:!0,createXHR:function(){return this.crossDomain?r.call(this):u()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if(typeof A=="string")U.url=A;else for(var F in A)A.hasOwnProperty(F)&&(U[F]=A[F]);this.request=U}return R.prototype._subscribe=function(A){return new _(A,this.request)},R.create=function(){var A=function(U){return new R(U)};return A.get=n,A.post=e,A.delete=t,A.put=l,A.patch=a,A.getJSON=p,A}(),R}(i.Observable);Oe.AjaxObservable=S;var _=function(E){c(R,E);function R(A,U){E.call(this,A),this.request=U,this.done=!1;var F=U.headers=U.headers||{};!U.crossDomain&&!F["X-Requested-With"]&&(F["X-Requested-With"]="XMLHttpRequest"),!("Content-Type"in F)&&!(m.root.FormData&&U.body instanceof m.root.FormData)&&typeof U.body<"u"&&(F["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),U.body=this.serializeBody(U.body,U.headers["Content-Type"]),this.send()}return R.prototype.next=function(A){this.done=!0;var U=this,F=U.xhr,Q=U.request,ee=U.destination,re=new v(A,F,Q);ee.next(re)},R.prototype.send=function(){var A=this,U=A.request,F=A.request,Q=F.user,ee=F.method,re=F.url,J=F.async,j=F.password,C=F.headers,H=F.body,K=U.createXHR,D=f.tryCatch(K).call(U);if(D===d.errorObject)this.error(d.errorObject.e);else{this.xhr=D,this.setupEvents(D,U);var N=void 0;if(Q?N=f.tryCatch(D.open).call(D,ee,re,J,Q,j):N=f.tryCatch(D.open).call(D,ee,re,J),N===d.errorObject)return this.error(d.errorObject.e),null;if(J&&(D.timeout=U.timeout,D.responseType=U.responseType),"withCredentials"in D&&(D.withCredentials=!!U.withCredentials),this.setHeaders(D,C),N=H?f.tryCatch(D.send).call(D,H):f.tryCatch(D.send).call(D),N===d.errorObject)return this.error(d.errorObject.e),null}return D},R.prototype.serializeBody=function(A,U){if(!A||typeof A=="string")return A;if(m.root.FormData&&A instanceof m.root.FormData)return A;if(U){var F=U.indexOf(";");F!==-1&&(U=U.substring(0,F))}switch(U){case"application/x-www-form-urlencoded":return Object.keys(A).map(function(Q){return encodeURIComponent(Q)+"="+encodeURIComponent(A[Q])}).join("&");case"application/json":return JSON.stringify(A);default:return A}},R.prototype.setHeaders=function(A,U){for(var F in U)U.hasOwnProperty(F)&&A.setRequestHeader(F,U[F])},R.prototype.setupEvents=function(A,U){var F=U.progressSubscriber;function Q(j){var C=Q,H=C.subscriber,K=C.progressSubscriber,D=C.request;K&&K.error(j),H.error(new x(this,D))}if(A.ontimeout=Q,Q.request=U,Q.subscriber=this,Q.progressSubscriber=F,A.upload&&"withCredentials"in A){if(F){var ee;ee=function(j){var C=ee.progressSubscriber;C.next(j)},m.root.XDomainRequest?A.onprogress=ee:A.upload.onprogress=ee,ee.progressSubscriber=F}var re;re=function(j){var C=re,H=C.progressSubscriber,K=C.subscriber,D=C.request;H&&H.error(j),K.error(new T("ajax error",this,D))},A.onerror=re,re.request=U,re.subscriber=this,re.progressSubscriber=F}function J(j){var C=J,H=C.subscriber,K=C.progressSubscriber,D=C.request;if(this.readyState===4){var N=this.status===1223?204:this.status,W=this.responseType==="text"?this.response||this.responseText:this.response;N===0&&(N=W?200:0),200<=N&&N<300?(K&&K.complete(),H.next(j),H.complete()):(K&&K.error(j),H.error(new T("ajax error "+N,this,D)))}}A.onreadystatechange=J,J.subscriber=this,J.progressSubscriber=F,J.request=U},R.prototype.unsubscribe=function(){var A=this,U=A.done,F=A.xhr;!U&&F&&F.readyState!==4&&typeof F.abort=="function"&&F.abort(),E.prototype.unsubscribe.call(this)},R}(s.Subscriber);Oe.AjaxSubscriber=_;var v=function(){function E(R,A,U){this.originalEvent=R,this.xhr=A,this.request=U,this.status=A.status,this.responseType=A.responseType||U.responseType,this.response=b(this.responseType,A)}return E}();Oe.AjaxResponse=v;var T=function(E){c(R,E);function R(A,U,F){E.call(this,A),this.message=A,this.xhr=U,this.request=F,this.status=U.status,this.responseType=U.responseType||F.responseType,this.response=b(this.responseType,U)}return R}(Error);Oe.AjaxError=T;function b(E,R){switch(E){case"json":return"response"in R?R.responseType?R.response:JSON.parse(R.response||R.responseText||"null"):JSON.parse(R.responseText||"null");case"xml":return R.responseXML;case"text":default:return"response"in R?R.response:R.responseText}}var x=function(E){c(R,E);function R(A,U){E.call(this,"ajax timeout",A,U)}return R}(T);return Oe.AjaxTimeoutError=x,Oe}var Gc;function Ud(){if(Gc)return Ci;Gc=1;var c=Dd();return Ci.ajax=c.AjaxObservable.create,Ci}var Vc;function Nd(){if(Vc)return Wc;Vc=1;var c=_e(),m=Ud();return c.Observable.ajax=m.ajax,Wc}var Kc={},ji={},Yc;function Fd(){if(Yc)return ji;Yc=1;var c=Jr();return ji.empty=c.EmptyObservable.create,ji}var zc;function $d(){if(zc)return Kc;zc=1;var c=_e(),m=Fd();return c.Observable.empty=m.empty,Kc}var Jc={},qi={},_r={},wr={},Xc;function Wd(){if(Xc)return wr;Xc=1;var c=wr&&wr.__extends||function(o,r){for(var u in r)r.hasOwnProperty(u)&&(o[u]=r[u]);function n(){this.constructor=o}o.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)},m=Ce(),f=_e(),d=function(o){c(r,o);function r(u,n){o.call(this),this.promise=u,this.scheduler=n}return r.create=function(u,n){return new r(u,n)},r.prototype._subscribe=function(u){var n=this,e=this.promise,t=this.scheduler;if(t==null)this._isScalar?u.closed||(u.next(this.value),u.complete()):e.then(function(l){n.value=l,n._isScalar=!0,u.closed||(u.next(l),u.complete())},function(l){u.closed||u.error(l)}).then(null,function(l){m.root.setTimeout(function(){throw l})});else if(this._isScalar){if(!u.closed)return t.schedule(i,0,{value:this.value,subscriber:u})}else e.then(function(l){n.value=l,n._isScalar=!0,u.closed||u.add(t.schedule(i,0,{value:l,subscriber:u}))},function(l){u.closed||u.add(t.schedule(s,0,{err:l,subscriber:u}))}).then(null,function(l){m.root.setTimeout(function(){throw l})})},r}(f.Observable);wr.PromiseObservable=d;function i(o){var r=o.value,u=o.subscriber;u.closed||(u.next(r),u.complete())}function s(o){var r=o.err,u=o.subscriber;u.closed||u.error(r)}return wr}var gr={},Qc;function Hd(){if(Qc)return gr;Qc=1;var c=gr&&gr.__extends||function(l,a){for(var h in a)a.hasOwnProperty(h)&&(l[h]=a[h]);function p(){this.constructor=l}l.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)},m=Ce(),f=_e(),d=No(),i=function(l){c(a,l);function a(h,p){if(l.call(this),this.scheduler=p,h==null)throw new Error("iterator cannot be null.");this.iterator=r(h)}return a.create=function(h,p){return new a(h,p)},a.dispatch=function(h){var p=h.index,S=h.hasError,_=h.iterator,v=h.subscriber;if(S){v.error(h.error);return}var T=_.next();if(T.done){v.complete();return}if(v.next(T.value),h.index=p+1,v.closed){typeof _.return=="function"&&_.return();return}this.schedule(h)},a.prototype._subscribe=function(h){var p=0,S=this,_=S.iterator,v=S.scheduler;if(v)return v.schedule(a.dispatch,0,{index:p,iterator:_,subscriber:h});do{var T=_.next();if(T.done){h.complete();break}else h.next(T.value);if(h.closed){typeof _.return=="function"&&_.return();break}}while(!0)},a}(f.Observable);gr.IteratorObservable=i;var s=function(){function l(a,h,p){h===void 0&&(h=0),p===void 0&&(p=a.length),this.str=a,this.idx=h,this.len=p}return l.prototype[d.iterator]=function(){return this},l.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},l}(),o=function(){function l(a,h,p){h===void 0&&(h=0),p===void 0&&(p=n(a)),this.arr=a,this.idx=h,this.len=p}return l.prototype[d.iterator]=function(){return this},l.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},l}();function r(l){var a=l[d.iterator];if(!a&&typeof l=="string")return new s(l);if(!a&&l.length!==void 0)return new o(l);if(!a)throw new TypeError("object is not iterable");return l[d.iterator]()}var u=Math.pow(2,53)-1;function n(l){var a=+l.length;return isNaN(a)?0:a===0||!e(a)?a:(a=t(a)*Math.floor(Math.abs(a)),a<=0?0:a>u?u:a)}function e(l){return typeof l=="number"&&m.root.isFinite(l)}function t(l){var a=+l;return a===0||isNaN(a)?a:a<0?-1:1}return gr}var Sr={},Zc;function Gd(){if(Zc)return Sr;Zc=1;var c=Sr&&Sr.__extends||function(s,o){for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r]);function u(){this.constructor=s}s.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)},m=_e(),f=qf(),d=Jr(),i=function(s){c(o,s);function o(r,u){s.call(this),this.arrayLike=r,this.scheduler=u,!u&&r.length===1&&(this._isScalar=!0,this.value=r[0])}return o.create=function(r,u){var n=r.length;return n===0?new d.EmptyObservable:n===1?new f.ScalarObservable(r[0],u):new o(r,u)},o.dispatch=function(r){var u=r.arrayLike,n=r.index,e=r.length,t=r.subscriber;if(!t.closed){if(n>=e){t.complete();return}t.next(u[n]),r.index=n+1,this.schedule(r)}},o.prototype._subscribe=function(r){var u=0,n=this,e=n.arrayLike,t=n.scheduler,l=e.length;if(t)return t.schedule(o.dispatch,0,{arrayLike:e,index:u,length:l,subscriber:r});for(var a=0;a<l&&!r.closed;a++)r.next(e[a]);r.complete()},o}(m.Observable);return Sr.ArrayLikeObservable=i,Sr}var qe={},el;function Vd(){if(el)return qe;el=1;var c=qe&&qe.__extends||function(r,u){for(var n in u)u.hasOwnProperty(n)&&(r[n]=u[n]);function e(){this.constructor=r}r.prototype=u===null?Object.create(u):(e.prototype=u.prototype,new e)},m=Re(),f=Mf();function d(r,u){return u===void 0&&(u=0),function(e){return e.lift(new i(r,u))}}qe.observeOn=d;var i=function(){function r(u,n){n===void 0&&(n=0),this.scheduler=u,this.delay=n}return r.prototype.call=function(u,n){return n.subscribe(new s(u,this.scheduler,this.delay))},r}();qe.ObserveOnOperator=i;var s=function(r){c(u,r);function u(n,e,t){t===void 0&&(t=0),r.call(this,n),this.scheduler=e,this.delay=t}return u.dispatch=function(n){var e=n.notification,t=n.destination;e.observe(t),this.unsubscribe()},u.prototype.scheduleMessage=function(n){this.add(this.scheduler.schedule(u.dispatch,this.delay,new o(n,this.destination)))},u.prototype._next=function(n){this.scheduleMessage(f.Notification.createNext(n))},u.prototype._error=function(n){this.scheduleMessage(f.Notification.createError(n))},u.prototype._complete=function(){this.scheduleMessage(f.Notification.createComplete())},u}(m.Subscriber);qe.ObserveOnSubscriber=s;var o=function(){function r(u,n){this.notification=u,this.destination=n}return r}();return qe.ObserveOnMessage=o,qe}var rl;function Kd(){if(rl)return _r;rl=1;var c=_r&&_r.__extends||function(a,h){for(var p in h)h.hasOwnProperty(p)&&(a[p]=h[p]);function S(){this.constructor=a}a.prototype=h===null?Object.create(h):(S.prototype=h.prototype,new S)},m=Hr(),f=Cf(),d=jf(),i=Wd(),s=Hd(),o=Fo(),r=Gd(),u=No(),n=_e(),e=Vd(),t=Uo(),l=function(a){c(h,a);function h(p,S){a.call(this,null),this.ish=p,this.scheduler=S}return h.create=function(p,S){if(p!=null){if(typeof p[t.observable]=="function")return p instanceof n.Observable&&!S?p:new h(p,S);if(m.isArray(p))return new o.ArrayObservable(p,S);if(d.isPromise(p))return new i.PromiseObservable(p,S);if(typeof p[u.iterator]=="function"||typeof p=="string")return new s.IteratorObservable(p,S);if(f.isArrayLike(p))return new r.ArrayLikeObservable(p,S)}throw new TypeError((p!==null&&typeof p||p)+" is not observable")},h.prototype._subscribe=function(p){var S=this.ish,_=this.scheduler;return _==null?S[t.observable]().subscribe(p):S[t.observable]().subscribe(new e.ObserveOnSubscriber(p,_,0))},h}(n.Observable);return _r.FromObservable=l,_r}var tl;function Yd(){if(tl)return qi;tl=1;var c=Kd();return qi.from=c.FromObservable.create,qi}var nl;function zd(){if(nl)return Jc;nl=1;var c=_e(),m=Yd();return c.Observable.from=m.from,Jc}var il={},Mi={},Er={},ki={},ol;function Jd(){if(ol)return ki;ol=1;var c=Hr();function m(f){return!c.isArray(f)&&f-parseFloat(f)+1>=0}return ki.isNumeric=m,ki}var al;function Xd(){if(al)return Er;al=1;var c=Er&&Er.__extends||function(s,o){for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r]);function u(){this.constructor=s}s.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)},m=Jd(),f=_e(),d=Kr(),i=function(s){c(o,s);function o(r,u){r===void 0&&(r=0),u===void 0&&(u=d.async),s.call(this),this.period=r,this.scheduler=u,(!m.isNumeric(r)||r<0)&&(this.period=0),(!u||typeof u.schedule!="function")&&(this.scheduler=d.async)}return o.create=function(r,u){return r===void 0&&(r=0),u===void 0&&(u=d.async),new o(r,u)},o.dispatch=function(r){var u=r.index,n=r.subscriber,e=r.period;n.next(u),!n.closed&&(r.index+=1,this.schedule(r,e))},o.prototype._subscribe=function(r){var u=0,n=this.period,e=this.scheduler;r.add(e.schedule(o.dispatch,n,{index:u,subscriber:r,period:n}))},o}(f.Observable);return Er.IntervalObservable=i,Er}var sl;function Qd(){if(sl)return Mi;sl=1;var c=Xd();return Mi.interval=c.IntervalObservable.create,Mi}var ul;function Zd(){if(ul)return il;ul=1;var c=_e(),m=Qd();return c.Observable.interval=m.interval,il}var cl={},Li={},ll;function ep(){if(ll)return Li;ll=1;var c=Fo();return Li.of=c.ArrayObservable.of,Li}var fl;function rp(){if(fl)return cl;fl=1;var c=_e(),m=ep();return c.Observable.of=m.of,cl}var hl={},Bi={},Or={},dl;function tp(){if(dl)return Or;dl=1;var c=Or&&Or.__extends||function(d,i){for(var s in i)i.hasOwnProperty(s)&&(d[s]=i[s]);function o(){this.constructor=d}d.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},m=_e(),f=function(d){c(i,d);function i(s,o){d.call(this),this.error=s,this.scheduler=o}return i.create=function(s,o){return new i(s,o)},i.dispatch=function(s){var o=s.error,r=s.subscriber;r.error(o)},i.prototype._subscribe=function(s){var o=this.error,r=this.scheduler;if(s.syncErrorThrowable=!0,r)return r.schedule(i.dispatch,0,{error:o,subscriber:s});s.error(o)},i}(m.Observable);return Or.ErrorObservable=f,Or}var pl;function np(){if(pl)return Bi;pl=1;var c=tp();return Bi._throw=c.ErrorObservable.create,Bi}var vl;function ip(){if(vl)return hl;vl=1;var c=_e(),m=np();return c.Observable.throw=m._throw,hl}var Di={},Ui={},Ni={exports:{}},Fi={exports:{}},yl;function op(){return yl||(yl=1,function(c){function m(f){if(Array.isArray(f))return f}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(Fi)),Fi.exports}var $i={exports:{}},bl;function Df(){return bl||(bl=1,function(c){function m(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}($i)),$i.exports}var Wi={exports:{}},Hi={exports:{}},ml;function Uf(){return ml||(ml=1,function(c){function m(f,d){(d==null||d>f.length)&&(d=f.length);for(var i=0,s=Array(d);i<d;i++)s[i]=f[i];return s}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(Hi)),Hi.exports}var _l;function Nf(){return _l||(_l=1,function(c){var m=Uf();function f(d,i){if(d){if(typeof d=="string")return m(d,i);var s={}.toString.call(d).slice(8,-1);return s==="Object"&&d.constructor&&(s=d.constructor.name),s==="Map"||s==="Set"?Array.from(d):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?m(d,i):void 0}}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports}(Wi)),Wi.exports}var Gi={exports:{}},wl;function ap(){return wl||(wl=1,function(c){function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(Gi)),Gi.exports}var gl;function sp(){return gl||(gl=1,function(c){var m=op(),f=Df(),d=Nf(),i=ap();function s(o){return m(o)||f(o)||d(o)||i()}c.exports=s,c.exports.__esModule=!0,c.exports.default=c.exports}(Ni)),Ni.exports}var Sl;function up(){return Sl||(Sl=1,function(c){var m=Ar();Object.defineProperty(c,"__esModule",{value:!0}),c.default=d;var f=m(sp());function d(i){if(i)if(~i.indexOf(".")){var s=i.split(".").reverse(),o=(0,f.default)(s),r=o[0],u=o.slice(1);return{extname:"."+r,name:u.reverse().join(".")}}else return{extname:"",name:i};else return{extname:"",name:""}}}(Ui)),Ui}var El;function cp(){return El||(El=1,function(c){var m=Ar();Object.defineProperty(c,"__esModule",{value:!0}),c.default=d;var f=m(up());function d(i){var s=[];return i.forEach(function(o){for(var r=(0,f.default)(o),u=r.extname,n=r.name,e=0,t=o;s.includes(t);)t=[n,"(".concat(++e,")")].filter(function(l){return l}).join(" ")+u;s.push(t)}),s}}(Di)),Di}var Rr={},Vi={exports:{}},Ol;function lp(){return Ol||(Ol=1,function(c){var m=Ge().default;function f(){c.exports=f=function(){return i},c.exports.__esModule=!0,c.exports.default=c.exports;var d,i={},s=Object.prototype,o=s.hasOwnProperty,r=Object.defineProperty||function(D,N,W){D[N]=W.value},u=typeof Symbol=="function"?Symbol:{},n=u.iterator||"@@iterator",e=u.asyncIterator||"@@asyncIterator",t=u.toStringTag||"@@toStringTag";function l(D,N,W){return Object.defineProperty(D,N,{value:W,enumerable:!0,configurable:!0,writable:!0}),D[N]}try{l({},"")}catch{l=function(W,X,oe){return W[X]=oe}}function a(D,N,W,X){var oe=N&&N.prototype instanceof b?N:b,te=Object.create(oe.prototype),se=new H(X||[]);return r(te,"_invoke",{value:re(D,W,se)}),te}function h(D,N,W){try{return{type:"normal",arg:D.call(N,W)}}catch(X){return{type:"throw",arg:X}}}i.wrap=a;var p="suspendedStart",S="suspendedYield",_="executing",v="completed",T={};function b(){}function x(){}function E(){}var R={};l(R,n,function(){return this});var A=Object.getPrototypeOf,U=A&&A(A(K([])));U&&U!==s&&o.call(U,n)&&(R=U);var F=E.prototype=b.prototype=Object.create(R);function Q(D){["next","throw","return"].forEach(function(N){l(D,N,function(W){return this._invoke(N,W)})})}function ee(D,N){function W(oe,te,se,fe){var ye=h(D[oe],D,te);if(ye.type!=="throw"){var he=ye.arg,ve=he.value;return ve&&m(ve)=="object"&&o.call(ve,"__await")?N.resolve(ve.__await).then(function(de){W("next",de,se,fe)},function(de){W("throw",de,se,fe)}):N.resolve(ve).then(function(de){he.value=de,se(he)},function(de){return W("throw",de,se,fe)})}fe(ye.arg)}var X;r(this,"_invoke",{value:function(te,se){function fe(){return new N(function(ye,he){W(te,se,ye,he)})}return X=X?X.then(fe,fe):fe()}})}function re(D,N,W){var X=p;return function(oe,te){if(X===_)throw Error("Generator is already running");if(X===v){if(oe==="throw")throw te;return{value:d,done:!0}}for(W.method=oe,W.arg=te;;){var se=W.delegate;if(se){var fe=J(se,W);if(fe){if(fe===T)continue;return fe}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(X===p)throw X=v,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);X=_;var ye=h(D,N,W);if(ye.type==="normal"){if(X=W.done?v:S,ye.arg===T)continue;return{value:ye.arg,done:W.done}}ye.type==="throw"&&(X=v,W.method="throw",W.arg=ye.arg)}}}function J(D,N){var W=N.method,X=D.iterator[W];if(X===d)return N.delegate=null,W==="throw"&&D.iterator.return&&(N.method="return",N.arg=d,J(D,N),N.method==="throw")||W!=="return"&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+W+"' method")),T;var oe=h(X,D.iterator,N.arg);if(oe.type==="throw")return N.method="throw",N.arg=oe.arg,N.delegate=null,T;var te=oe.arg;return te?te.done?(N[D.resultName]=te.value,N.next=D.nextLoc,N.method!=="return"&&(N.method="next",N.arg=d),N.delegate=null,T):te:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,T)}function j(D){var N={tryLoc:D[0]};1 in D&&(N.catchLoc=D[1]),2 in D&&(N.finallyLoc=D[2],N.afterLoc=D[3]),this.tryEntries.push(N)}function C(D){var N=D.completion||{};N.type="normal",delete N.arg,D.completion=N}function H(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(j,this),this.reset(!0)}function K(D){if(D||D===""){var N=D[n];if(N)return N.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var W=-1,X=function oe(){for(;++W<D.length;)if(o.call(D,W))return oe.value=D[W],oe.done=!1,oe;return oe.value=d,oe.done=!0,oe};return X.next=X}}throw new TypeError(m(D)+" is not iterable")}return x.prototype=E,r(F,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:x,configurable:!0}),x.displayName=l(E,t,"GeneratorFunction"),i.isGeneratorFunction=function(D){var N=typeof D=="function"&&D.constructor;return!!N&&(N===x||(N.displayName||N.name)==="GeneratorFunction")},i.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,E):(D.__proto__=E,l(D,t,"GeneratorFunction")),D.prototype=Object.create(F),D},i.awrap=function(D){return{__await:D}},Q(ee.prototype),l(ee.prototype,e,function(){return this}),i.AsyncIterator=ee,i.async=function(D,N,W,X,oe){oe===void 0&&(oe=Promise);var te=new ee(a(D,N,W,X),oe);return i.isGeneratorFunction(N)?te:te.next().then(function(se){return se.done?se.value:te.next()})},Q(F),l(F,t,"Generator"),l(F,n,function(){return this}),l(F,"toString",function(){return"[object Generator]"}),i.keys=function(D){var N=Object(D),W=[];for(var X in N)W.push(X);return W.reverse(),function oe(){for(;W.length;){var te=W.pop();if(te in N)return oe.value=te,oe.done=!1,oe}return oe.done=!0,oe}},i.values=K,H.prototype={constructor:H,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(C),!N)for(var W in this)W.charAt(0)==="t"&&o.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=d)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var W=this;function X(he,ve){return se.type="throw",se.arg=N,W.next=he,ve&&(W.method="next",W.arg=d),!!ve}for(var oe=this.tryEntries.length-1;oe>=0;--oe){var te=this.tryEntries[oe],se=te.completion;if(te.tryLoc==="root")return X("end");if(te.tryLoc<=this.prev){var fe=o.call(te,"catchLoc"),ye=o.call(te,"finallyLoc");if(fe&&ye){if(this.prev<te.catchLoc)return X(te.catchLoc,!0);if(this.prev<te.finallyLoc)return X(te.finallyLoc)}else if(fe){if(this.prev<te.catchLoc)return X(te.catchLoc,!0)}else{if(!ye)throw Error("try statement without catch or finally");if(this.prev<te.finallyLoc)return X(te.finallyLoc)}}}},abrupt:function(N,W){for(var X=this.tryEntries.length-1;X>=0;--X){var oe=this.tryEntries[X];if(oe.tryLoc<=this.prev&&o.call(oe,"finallyLoc")&&this.prev<oe.finallyLoc){var te=oe;break}}te&&(N==="break"||N==="continue")&&te.tryLoc<=W&&W<=te.finallyLoc&&(te=null);var se=te?te.completion:{};return se.type=N,se.arg=W,te?(this.method="next",this.next=te.finallyLoc,T):this.complete(se)},complete:function(N,W){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&W&&(this.next=W),T},finish:function(N){for(var W=this.tryEntries.length-1;W>=0;--W){var X=this.tryEntries[W];if(X.finallyLoc===N)return this.complete(X.completion,X.afterLoc),C(X),T}},catch:function(N){for(var W=this.tryEntries.length-1;W>=0;--W){var X=this.tryEntries[W];if(X.tryLoc===N){var oe=X.completion;if(oe.type==="throw"){var te=oe.arg;C(X)}return te}}throw Error("illegal catch attempt")},delegateYield:function(N,W,X){return this.delegate={iterator:K(N),resultName:W,nextLoc:X},this.method==="next"&&(this.arg=d),T}},i}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports}(Vi)),Vi.exports}var Ki,Rl;function fp(){if(Rl)return Ki;Rl=1;var c=lp()();Ki=c;try{regeneratorRuntime=c}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=c:Function("r","regeneratorRuntime = r")(c)}return Ki}var Yi={exports:{}},zi={exports:{}},xl;function hp(){return xl||(xl=1,function(c){function m(f,d){return d.get?d.get.call(f):d.value}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(zi)),zi.exports}var Ji={exports:{}},Xi={exports:{}},Tl;function dp(){return Tl||(Tl=1,function(c){function m(f,d,i){if(typeof f=="function"?f===d:f.has(d))return arguments.length<3?d:i;throw new TypeError("Private element is not present on this object")}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(Xi)),Xi.exports}var Al;function Ff(){return Al||(Al=1,function(c){var m=dp();function f(d,i){return d.get(m(d,i))}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports}(Ji)),Ji.exports}var Pl;function $f(){return Pl||(Pl=1,function(c){var m=hp(),f=Ff();function d(i,s){var o=f(s,i);return m(i,o)}c.exports=d,c.exports.__esModule=!0,c.exports.default=c.exports}(Yi)),Yi.exports}var Qi={exports:{}},Zi={exports:{}},Il;function pp(){return Il||(Il=1,function(c){function m(f,d,i){if(d.set)d.set.call(f,i);else{if(!d.writable)throw new TypeError("attempted to set read only private field");d.value=i}}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(Zi)),Zi.exports}var Cl;function Wf(){return Cl||(Cl=1,function(c){var m=pp(),f=Ff();function d(i,s,o){var r=f(s,i);return m(i,r,o),o}c.exports=d,c.exports.__esModule=!0,c.exports.default=c.exports}(Qi)),Qi.exports}var eo={exports:{}},ro={exports:{}},jl;function vp(){return jl||(jl=1,function(c){var m=Uf();function f(d){if(Array.isArray(d))return m(d)}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports}(ro)),ro.exports}var to={exports:{}},ql;function yp(){return ql||(ql=1,function(c){function m(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(to)),to.exports}var Ml;function bp(){return Ml||(Ml=1,function(c){var m=vp(),f=Df(),d=Nf(),i=yp();function s(o){return m(o)||f(o)||d(o)||i()}c.exports=s,c.exports.__esModule=!0,c.exports.default=c.exports}(eo)),eo.exports}var no={exports:{}},kl;function mp(){return kl||(kl=1,function(c){function m(d,i,s,o,r,u,n){try{var e=d[u](n),t=e.value}catch(l){return void s(l)}e.done?i(t):Promise.resolve(t).then(o,r)}function f(d){return function(){var i=this,s=arguments;return new Promise(function(o,r){var u=d.apply(i,s);function n(t){m(u,o,r,n,e,"next",t)}function e(t){m(u,o,r,n,e,"throw",t)}n(void 0)})}}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports}(no)),no.exports}var io={},xr={},Ll;function _p(){if(Ll)return xr;Ll=1,xr.byteLength=r,xr.toByteArray=n,xr.fromByteArray=l;for(var c=[],m=[],f=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=d.length;i<s;++i)c[i]=d[i],m[d.charCodeAt(i)]=i;m[45]=62,m[95]=63;function o(a){var h=a.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=a.indexOf("=");p===-1&&(p=h);var S=p===h?0:4-p%4;return[p,S]}function r(a){var h=o(a),p=h[0],S=h[1];return(p+S)*3/4-S}function u(a,h,p){return(h+p)*3/4-p}function n(a){var h,p=o(a),S=p[0],_=p[1],v=new f(u(a,S,_)),T=0,b=_>0?S-4:S,x;for(x=0;x<b;x+=4)h=m[a.charCodeAt(x)]<<18|m[a.charCodeAt(x+1)]<<12|m[a.charCodeAt(x+2)]<<6|m[a.charCodeAt(x+3)],v[T++]=h>>16&255,v[T++]=h>>8&255,v[T++]=h&255;return _===2&&(h=m[a.charCodeAt(x)]<<2|m[a.charCodeAt(x+1)]>>4,v[T++]=h&255),_===1&&(h=m[a.charCodeAt(x)]<<10|m[a.charCodeAt(x+1)]<<4|m[a.charCodeAt(x+2)]>>2,v[T++]=h>>8&255,v[T++]=h&255),v}function e(a){return c[a>>18&63]+c[a>>12&63]+c[a>>6&63]+c[a&63]}function t(a,h,p){for(var S,_=[],v=h;v<p;v+=3)S=(a[v]<<16&16711680)+(a[v+1]<<8&65280)+(a[v+2]&255),_.push(e(S));return _.join("")}function l(a){for(var h,p=a.length,S=p%3,_=[],v=16383,T=0,b=p-S;T<b;T+=v)_.push(t(a,T,T+v>b?b:T+v));return S===1?(h=a[p-1],_.push(c[h>>2]+c[h<<4&63]+"==")):S===2&&(h=(a[p-2]<<8)+a[p-1],_.push(c[h>>10]+c[h>>4&63]+c[h<<2&63]+"=")),_.join("")}return xr}var Lr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Bl;function wp(){return Bl||(Bl=1,Lr.read=function(c,m,f,d,i){var s,o,r=i*8-d-1,u=(1<<r)-1,n=u>>1,e=-7,t=f?i-1:0,l=f?-1:1,a=c[m+t];for(t+=l,s=a&(1<<-e)-1,a>>=-e,e+=r;e>0;s=s*256+c[m+t],t+=l,e-=8);for(o=s&(1<<-e)-1,s>>=-e,e+=d;e>0;o=o*256+c[m+t],t+=l,e-=8);if(s===0)s=1-n;else{if(s===u)return o?NaN:(a?-1:1)*(1/0);o=o+Math.pow(2,d),s=s-n}return(a?-1:1)*o*Math.pow(2,s-d)},Lr.write=function(c,m,f,d,i,s){var o,r,u,n=s*8-i-1,e=(1<<n)-1,t=e>>1,l=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,a=d?0:s-1,h=d?1:-1,p=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(r=isNaN(m)?1:0,o=e):(o=Math.floor(Math.log(m)/Math.LN2),m*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+t>=1?m+=l/u:m+=l*Math.pow(2,1-t),m*u>=2&&(o++,u/=2),o+t>=e?(r=0,o=e):o+t>=1?(r=(m*u-1)*Math.pow(2,i),o=o+t):(r=m*Math.pow(2,t-1)*Math.pow(2,i),o=0));i>=8;c[f+a]=r&255,a+=h,r/=256,i-=8);for(o=o<<i|r,n+=i;n>0;c[f+a]=o&255,a+=h,o/=256,n-=8);c[f+a-h]|=p*128}),Lr}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Dl;function gp(){return Dl||(Dl=1,function(c){const m=_p(),f=wp(),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;c.Buffer=r,c.SlowBuffer=v,c.INSPECT_MAX_BYTES=50;const i=2147483647;c.kMaxLength=i,r.TYPED_ARRAY_SUPPORT=s(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const P=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(P,y),P.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function o(P){if(P>i)throw new RangeError('The value "'+P+'" is invalid for option "size"');const y=new Uint8Array(P);return Object.setPrototypeOf(y,r.prototype),y}function r(P,y,w){if(typeof P=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return t(P)}return u(P,y,w)}r.poolSize=8192;function u(P,y,w){if(typeof P=="string")return l(P,y);if(ArrayBuffer.isView(P))return h(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(O(P,ArrayBuffer)||P&&O(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(O(P,SharedArrayBuffer)||P&&O(P.buffer,SharedArrayBuffer)))return p(P,y,w);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const q=P.valueOf&&P.valueOf();if(q!=null&&q!==P)return r.from(q,y,w);const k=S(P);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return r.from(P[Symbol.toPrimitive]("string"),y,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}r.from=function(P,y,w){return u(P,y,w)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array);function n(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function e(P,y,w){return n(P),P<=0?o(P):y!==void 0?typeof w=="string"?o(P).fill(y,w):o(P).fill(y):o(P)}r.alloc=function(P,y,w){return e(P,y,w)};function t(P){return n(P),o(P<0?0:_(P)|0)}r.allocUnsafe=function(P){return t(P)},r.allocUnsafeSlow=function(P){return t(P)};function l(P,y){if((typeof y!="string"||y==="")&&(y="utf8"),!r.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const w=T(P,y)|0;let q=o(w);const k=q.write(P,y);return k!==w&&(q=q.slice(0,k)),q}function a(P){const y=P.length<0?0:_(P.length)|0,w=o(y);for(let q=0;q<y;q+=1)w[q]=P[q]&255;return w}function h(P){if(O(P,Uint8Array)){const y=new Uint8Array(P);return p(y.buffer,y.byteOffset,y.byteLength)}return a(P)}function p(P,y,w){if(y<0||P.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<y+(w||0))throw new RangeError('"length" is outside of buffer bounds');let q;return y===void 0&&w===void 0?q=new Uint8Array(P):w===void 0?q=new Uint8Array(P,y):q=new Uint8Array(P,y,w),Object.setPrototypeOf(q,r.prototype),q}function S(P){if(r.isBuffer(P)){const y=_(P.length)|0,w=o(y);return w.length===0||P.copy(w,0,0,y),w}if(P.length!==void 0)return typeof P.length!="number"||M(P.length)?o(0):a(P);if(P.type==="Buffer"&&Array.isArray(P.data))return a(P.data)}function _(P){if(P>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return P|0}function v(P){return+P!=P&&(P=0),r.alloc(+P)}r.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==r.prototype},r.compare=function(y,w){if(O(y,Uint8Array)&&(y=r.from(y,y.offset,y.byteLength)),O(w,Uint8Array)&&(w=r.from(w,w.offset,w.byteLength)),!r.isBuffer(y)||!r.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===w)return 0;let q=y.length,k=w.length;for(let $=0,Y=Math.min(q,k);$<Y;++$)if(y[$]!==w[$]){q=y[$],k=w[$];break}return q<k?-1:k<q?1:0},r.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(y,w){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return r.alloc(0);let q;if(w===void 0)for(w=0,q=0;q<y.length;++q)w+=y[q].length;const k=r.allocUnsafe(w);let $=0;for(q=0;q<y.length;++q){let Y=y[q];if(O(Y,Uint8Array))$+Y.length>k.length?(r.isBuffer(Y)||(Y=r.from(Y)),Y.copy(k,$)):Uint8Array.prototype.set.call(k,Y,$);else if(r.isBuffer(Y))Y.copy(k,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=Y.length}return k};function T(P,y){if(r.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||O(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);const w=P.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&w===0)return 0;let k=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return ce(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return I(P).length;default:if(k)return q?-1:ce(P).length;y=(""+y).toLowerCase(),k=!0}}r.byteLength=T;function b(P,y,w){let q=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,y>>>=0,w<=y))return"";for(P||(P="utf8");;)switch(P){case"hex":return D(this,y,w);case"utf8":case"utf-8":return J(this,y,w);case"ascii":return H(this,y,w);case"latin1":case"binary":return K(this,y,w);case"base64":return re(this,y,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,y,w);default:if(q)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),q=!0}}r.prototype._isBuffer=!0;function x(P,y,w){const q=P[y];P[y]=P[w],P[w]=q}r.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<y;w+=2)x(this,w,w+1);return this},r.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<y;w+=4)x(this,w,w+3),x(this,w+1,w+2);return this},r.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<y;w+=8)x(this,w,w+7),x(this,w+1,w+6),x(this,w+2,w+5),x(this,w+3,w+4);return this},r.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?J(this,0,y):b.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(y){if(!r.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:r.compare(this,y)===0},r.prototype.inspect=function(){let y="";const w=c.INSPECT_MAX_BYTES;return y=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(y+=" ... "),"<Buffer "+y+">"},d&&(r.prototype[d]=r.prototype.inspect),r.prototype.compare=function(y,w,q,k,$){if(O(y,Uint8Array)&&(y=r.from(y,y.offset,y.byteLength)),!r.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(w===void 0&&(w=0),q===void 0&&(q=y?y.length:0),k===void 0&&(k=0),$===void 0&&($=this.length),w<0||q>y.length||k<0||$>this.length)throw new RangeError("out of range index");if(k>=$&&w>=q)return 0;if(k>=$)return-1;if(w>=q)return 1;if(w>>>=0,q>>>=0,k>>>=0,$>>>=0,this===y)return 0;let Y=$-k,ae=q-w;const le=Math.min(Y,ae),pe=this.slice(k,$),me=y.slice(w,q);for(let be=0;be<le;++be)if(pe[be]!==me[be]){Y=pe[be],ae=me[be];break}return Y<ae?-1:ae<Y?1:0};function E(P,y,w,q,k){if(P.length===0)return-1;if(typeof w=="string"?(q=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,M(w)&&(w=k?0:P.length-1),w<0&&(w=P.length+w),w>=P.length){if(k)return-1;w=P.length-1}else if(w<0)if(k)w=0;else return-1;if(typeof y=="string"&&(y=r.from(y,q)),r.isBuffer(y))return y.length===0?-1:R(P,y,w,q,k);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(P,y,w):Uint8Array.prototype.lastIndexOf.call(P,y,w):R(P,[y],w,q,k);throw new TypeError("val must be string, number or Buffer")}function R(P,y,w,q,k){let $=1,Y=P.length,ae=y.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(P.length<2||y.length<2)return-1;$=2,Y/=2,ae/=2,w/=2}function le(me,be){return $===1?me[be]:me.readUInt16BE(be*$)}let pe;if(k){let me=-1;for(pe=w;pe<Y;pe++)if(le(P,pe)===le(y,me===-1?0:pe-me)){if(me===-1&&(me=pe),pe-me+1===ae)return me*$}else me!==-1&&(pe-=pe-me),me=-1}else for(w+ae>Y&&(w=Y-ae),pe=w;pe>=0;pe--){let me=!0;for(let be=0;be<ae;be++)if(le(P,pe+be)!==le(y,be)){me=!1;break}if(me)return pe}return-1}r.prototype.includes=function(y,w,q){return this.indexOf(y,w,q)!==-1},r.prototype.indexOf=function(y,w,q){return E(this,y,w,q,!0)},r.prototype.lastIndexOf=function(y,w,q){return E(this,y,w,q,!1)};function A(P,y,w,q){w=Number(w)||0;const k=P.length-w;q?(q=Number(q),q>k&&(q=k)):q=k;const $=y.length;q>$/2&&(q=$/2);let Y;for(Y=0;Y<q;++Y){const ae=parseInt(y.substr(Y*2,2),16);if(M(ae))return Y;P[w+Y]=ae}return Y}function U(P,y,w,q){return g(ce(y,P.length-w),P,w,q)}function F(P,y,w,q){return g(L(y),P,w,q)}function Q(P,y,w,q){return g(I(y),P,w,q)}function ee(P,y,w,q){return g(B(y,P.length-w),P,w,q)}r.prototype.write=function(y,w,q,k){if(w===void 0)k="utf8",q=this.length,w=0;else if(q===void 0&&typeof w=="string")k=w,q=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(q)?(q=q>>>0,k===void 0&&(k="utf8")):(k=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-w;if((q===void 0||q>$)&&(q=$),y.length>0&&(q<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");let Y=!1;for(;;)switch(k){case"hex":return A(this,y,w,q);case"utf8":case"utf-8":return U(this,y,w,q);case"ascii":case"latin1":case"binary":return F(this,y,w,q);case"base64":return Q(this,y,w,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,y,w,q);default:if(Y)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),Y=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(P,y,w){return y===0&&w===P.length?m.fromByteArray(P):m.fromByteArray(P.slice(y,w))}function J(P,y,w){w=Math.min(P.length,w);const q=[];let k=y;for(;k<w;){const $=P[k];let Y=null,ae=$>239?4:$>223?3:$>191?2:1;if(k+ae<=w){let le,pe,me,be;switch(ae){case 1:$<128&&(Y=$);break;case 2:le=P[k+1],(le&192)===128&&(be=($&31)<<6|le&63,be>127&&(Y=be));break;case 3:le=P[k+1],pe=P[k+2],(le&192)===128&&(pe&192)===128&&(be=($&15)<<12|(le&63)<<6|pe&63,be>2047&&(be<55296||be>57343)&&(Y=be));break;case 4:le=P[k+1],pe=P[k+2],me=P[k+3],(le&192)===128&&(pe&192)===128&&(me&192)===128&&(be=($&15)<<18|(le&63)<<12|(pe&63)<<6|me&63,be>65535&&be<1114112&&(Y=be))}}Y===null?(Y=65533,ae=1):Y>65535&&(Y-=65536,q.push(Y>>>10&1023|55296),Y=56320|Y&1023),q.push(Y),k+=ae}return C(q)}const j=4096;function C(P){const y=P.length;if(y<=j)return String.fromCharCode.apply(String,P);let w="",q=0;for(;q<y;)w+=String.fromCharCode.apply(String,P.slice(q,q+=j));return w}function H(P,y,w){let q="";w=Math.min(P.length,w);for(let k=y;k<w;++k)q+=String.fromCharCode(P[k]&127);return q}function K(P,y,w){let q="";w=Math.min(P.length,w);for(let k=y;k<w;++k)q+=String.fromCharCode(P[k]);return q}function D(P,y,w){const q=P.length;(!y||y<0)&&(y=0),(!w||w<0||w>q)&&(w=q);let k="";for(let $=y;$<w;++$)k+=G[P[$]];return k}function N(P,y,w){const q=P.slice(y,w);let k="";for(let $=0;$<q.length-1;$+=2)k+=String.fromCharCode(q[$]+q[$+1]*256);return k}r.prototype.slice=function(y,w){const q=this.length;y=~~y,w=w===void 0?q:~~w,y<0?(y+=q,y<0&&(y=0)):y>q&&(y=q),w<0?(w+=q,w<0&&(w=0)):w>q&&(w=q),w<y&&(w=y);const k=this.subarray(y,w);return Object.setPrototypeOf(k,r.prototype),k};function W(P,y,w){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+y>w)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUintLE=r.prototype.readUIntLE=function(y,w,q){y=y>>>0,w=w>>>0,q||W(y,w,this.length);let k=this[y],$=1,Y=0;for(;++Y<w&&($*=256);)k+=this[y+Y]*$;return k},r.prototype.readUintBE=r.prototype.readUIntBE=function(y,w,q){y=y>>>0,w=w>>>0,q||W(y,w,this.length);let k=this[y+--w],$=1;for(;w>0&&($*=256);)k+=this[y+--w]*$;return k},r.prototype.readUint8=r.prototype.readUInt8=function(y,w){return y=y>>>0,w||W(y,1,this.length),this[y]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(y,w){return y=y>>>0,w||W(y,2,this.length),this[y]|this[y+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(y,w){return y=y>>>0,w||W(y,2,this.length),this[y]<<8|this[y+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(y,w){return y=y>>>0,w||W(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(y,w){return y=y>>>0,w||W(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},r.prototype.readBigUInt64LE=Z(function(y){y=y>>>0,z(y,"offset");const w=this[y],q=this[y+7];(w===void 0||q===void 0)&&V(y,this.length-8);const k=w+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,$=this[++y]+this[++y]*2**8+this[++y]*2**16+q*2**24;return BigInt(k)+(BigInt($)<<BigInt(32))}),r.prototype.readBigUInt64BE=Z(function(y){y=y>>>0,z(y,"offset");const w=this[y],q=this[y+7];(w===void 0||q===void 0)&&V(y,this.length-8);const k=w*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],$=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+q;return(BigInt(k)<<BigInt(32))+BigInt($)}),r.prototype.readIntLE=function(y,w,q){y=y>>>0,w=w>>>0,q||W(y,w,this.length);let k=this[y],$=1,Y=0;for(;++Y<w&&($*=256);)k+=this[y+Y]*$;return $*=128,k>=$&&(k-=Math.pow(2,8*w)),k},r.prototype.readIntBE=function(y,w,q){y=y>>>0,w=w>>>0,q||W(y,w,this.length);let k=w,$=1,Y=this[y+--k];for(;k>0&&($*=256);)Y+=this[y+--k]*$;return $*=128,Y>=$&&(Y-=Math.pow(2,8*w)),Y},r.prototype.readInt8=function(y,w){return y=y>>>0,w||W(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},r.prototype.readInt16LE=function(y,w){y=y>>>0,w||W(y,2,this.length);const q=this[y]|this[y+1]<<8;return q&32768?q|4294901760:q},r.prototype.readInt16BE=function(y,w){y=y>>>0,w||W(y,2,this.length);const q=this[y+1]|this[y]<<8;return q&32768?q|4294901760:q},r.prototype.readInt32LE=function(y,w){return y=y>>>0,w||W(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},r.prototype.readInt32BE=function(y,w){return y=y>>>0,w||W(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},r.prototype.readBigInt64LE=Z(function(y){y=y>>>0,z(y,"offset");const w=this[y],q=this[y+7];(w===void 0||q===void 0)&&V(y,this.length-8);const k=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(q<<24);return(BigInt(k)<<BigInt(32))+BigInt(w+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),r.prototype.readBigInt64BE=Z(function(y){y=y>>>0,z(y,"offset");const w=this[y],q=this[y+7];(w===void 0||q===void 0)&&V(y,this.length-8);const k=(w<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(k)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+q)}),r.prototype.readFloatLE=function(y,w){return y=y>>>0,w||W(y,4,this.length),f.read(this,y,!0,23,4)},r.prototype.readFloatBE=function(y,w){return y=y>>>0,w||W(y,4,this.length),f.read(this,y,!1,23,4)},r.prototype.readDoubleLE=function(y,w){return y=y>>>0,w||W(y,8,this.length),f.read(this,y,!0,52,8)},r.prototype.readDoubleBE=function(y,w){return y=y>>>0,w||W(y,8,this.length),f.read(this,y,!1,52,8)};function X(P,y,w,q,k,$){if(!r.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>k||y<$)throw new RangeError('"value" argument is out of bounds');if(w+q>P.length)throw new RangeError("Index out of range")}r.prototype.writeUintLE=r.prototype.writeUIntLE=function(y,w,q,k){if(y=+y,w=w>>>0,q=q>>>0,!k){const ae=Math.pow(2,8*q)-1;X(this,y,w,q,ae,0)}let $=1,Y=0;for(this[w]=y&255;++Y<q&&($*=256);)this[w+Y]=y/$&255;return w+q},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(y,w,q,k){if(y=+y,w=w>>>0,q=q>>>0,!k){const ae=Math.pow(2,8*q)-1;X(this,y,w,q,ae,0)}let $=q-1,Y=1;for(this[w+$]=y&255;--$>=0&&(Y*=256);)this[w+$]=y/Y&255;return w+q},r.prototype.writeUint8=r.prototype.writeUInt8=function(y,w,q){return y=+y,w=w>>>0,q||X(this,y,w,1,255,0),this[w]=y&255,w+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(y,w,q){return y=+y,w=w>>>0,q||X(this,y,w,2,65535,0),this[w]=y&255,this[w+1]=y>>>8,w+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(y,w,q){return y=+y,w=w>>>0,q||X(this,y,w,2,65535,0),this[w]=y>>>8,this[w+1]=y&255,w+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(y,w,q){return y=+y,w=w>>>0,q||X(this,y,w,4,4294967295,0),this[w+3]=y>>>24,this[w+2]=y>>>16,this[w+1]=y>>>8,this[w]=y&255,w+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(y,w,q){return y=+y,w=w>>>0,q||X(this,y,w,4,4294967295,0),this[w]=y>>>24,this[w+1]=y>>>16,this[w+2]=y>>>8,this[w+3]=y&255,w+4};function oe(P,y,w,q,k){ge(y,q,k,P,w,7);let $=Number(y&BigInt(4294967295));P[w++]=$,$=$>>8,P[w++]=$,$=$>>8,P[w++]=$,$=$>>8,P[w++]=$;let Y=Number(y>>BigInt(32)&BigInt(4294967295));return P[w++]=Y,Y=Y>>8,P[w++]=Y,Y=Y>>8,P[w++]=Y,Y=Y>>8,P[w++]=Y,w}function te(P,y,w,q,k){ge(y,q,k,P,w,7);let $=Number(y&BigInt(4294967295));P[w+7]=$,$=$>>8,P[w+6]=$,$=$>>8,P[w+5]=$,$=$>>8,P[w+4]=$;let Y=Number(y>>BigInt(32)&BigInt(4294967295));return P[w+3]=Y,Y=Y>>8,P[w+2]=Y,Y=Y>>8,P[w+1]=Y,Y=Y>>8,P[w]=Y,w+8}r.prototype.writeBigUInt64LE=Z(function(y,w=0){return oe(this,y,w,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=Z(function(y,w=0){return te(this,y,w,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(y,w,q,k){if(y=+y,w=w>>>0,!k){const le=Math.pow(2,8*q-1);X(this,y,w,q,le-1,-le)}let $=0,Y=1,ae=0;for(this[w]=y&255;++$<q&&(Y*=256);)y<0&&ae===0&&this[w+$-1]!==0&&(ae=1),this[w+$]=(y/Y>>0)-ae&255;return w+q},r.prototype.writeIntBE=function(y,w,q,k){if(y=+y,w=w>>>0,!k){const le=Math.pow(2,8*q-1);X(this,y,w,q,le-1,-le)}let $=q-1,Y=1,ae=0;for(this[w+$]=y&255;--$>=0&&(Y*=256);)y<0&&ae===0&&this[w+$+1]!==0&&(ae=1),this[w+$]=(y/Y>>0)-ae&255;return w+q},r.prototype.writeInt8=function(y,w,q){return y=+y,w=w>>>0,q||X(this,y,w,1,127,-128),y<0&&(y=255+y+1),this[w]=y&255,w+1},r.prototype.writeInt16LE=function(y,w,q){return y=+y,w=w>>>0,q||X(this,y,w,2,32767,-32768),this[w]=y&255,this[w+1]=y>>>8,w+2},r.prototype.writeInt16BE=function(y,w,q){return y=+y,w=w>>>0,q||X(this,y,w,2,32767,-32768),this[w]=y>>>8,this[w+1]=y&255,w+2},r.prototype.writeInt32LE=function(y,w,q){return y=+y,w=w>>>0,q||X(this,y,w,4,2147483647,-2147483648),this[w]=y&255,this[w+1]=y>>>8,this[w+2]=y>>>16,this[w+3]=y>>>24,w+4},r.prototype.writeInt32BE=function(y,w,q){return y=+y,w=w>>>0,q||X(this,y,w,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[w]=y>>>24,this[w+1]=y>>>16,this[w+2]=y>>>8,this[w+3]=y&255,w+4},r.prototype.writeBigInt64LE=Z(function(y,w=0){return oe(this,y,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=Z(function(y,w=0){return te(this,y,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function se(P,y,w,q,k,$){if(w+q>P.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function fe(P,y,w,q,k){return y=+y,w=w>>>0,k||se(P,y,w,4),f.write(P,y,w,q,23,4),w+4}r.prototype.writeFloatLE=function(y,w,q){return fe(this,y,w,!0,q)},r.prototype.writeFloatBE=function(y,w,q){return fe(this,y,w,!1,q)};function ye(P,y,w,q,k){return y=+y,w=w>>>0,k||se(P,y,w,8),f.write(P,y,w,q,52,8),w+8}r.prototype.writeDoubleLE=function(y,w,q){return ye(this,y,w,!0,q)},r.prototype.writeDoubleBE=function(y,w,q){return ye(this,y,w,!1,q)},r.prototype.copy=function(y,w,q,k){if(!r.isBuffer(y))throw new TypeError("argument should be a Buffer");if(q||(q=0),!k&&k!==0&&(k=this.length),w>=y.length&&(w=y.length),w||(w=0),k>0&&k<q&&(k=q),k===q||y.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),y.length-w<k-q&&(k=y.length-w+q);const $=k-q;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,q,k):Uint8Array.prototype.set.call(y,this.subarray(q,k),w),$},r.prototype.fill=function(y,w,q,k){if(typeof y=="string"){if(typeof w=="string"?(k=w,w=0,q=this.length):typeof q=="string"&&(k=q,q=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!r.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(y.length===1){const Y=y.charCodeAt(0);(k==="utf8"&&Y<128||k==="latin1")&&(y=Y)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(w<0||this.length<w||this.length<q)throw new RangeError("Out of range index");if(q<=w)return this;w=w>>>0,q=q===void 0?this.length:q>>>0,y||(y=0);let $;if(typeof y=="number")for($=w;$<q;++$)this[$]=y;else{const Y=r.isBuffer(y)?y:r.from(y,k),ae=Y.length;if(ae===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for($=0;$<q-w;++$)this[$+w]=Y[$%ae]}return this};const he={};function ve(P,y,w){he[P]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(k){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:k,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}ve("ERR_BUFFER_OUT_OF_BOUNDS",function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ve("ERR_INVALID_ARG_TYPE",function(P,y){return`The "${P}" argument must be of type number. Received type ${typeof y}`},TypeError),ve("ERR_OUT_OF_RANGE",function(P,y,w){let q=`The value of "${P}" is out of range.`,k=w;return Number.isInteger(w)&&Math.abs(w)>2**32?k=de(String(w)):typeof w=="bigint"&&(k=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(k=de(k)),k+="n"),q+=` It must be ${y}. Received ${k}`,q},RangeError);function de(P){let y="",w=P.length;const q=P[0]==="-"?1:0;for(;w>=q+4;w-=3)y=`_${P.slice(w-3,w)}${y}`;return`${P.slice(0,w)}${y}`}function we(P,y,w){z(y,"offset"),(P[y]===void 0||P[y+w]===void 0)&&V(y,P.length-(w+1))}function ge(P,y,w,q,k,$){if(P>w||P<y){const Y=typeof y=="bigint"?"n":"";let ae;throw y===0||y===BigInt(0)?ae=`>= 0${Y} and < 2${Y} ** ${($+1)*8}${Y}`:ae=`>= -(2${Y} ** ${($+1)*8-1}${Y}) and < 2 ** ${($+1)*8-1}${Y}`,new he.ERR_OUT_OF_RANGE("value",ae,P)}we(q,k,$)}function z(P,y){if(typeof P!="number")throw new he.ERR_INVALID_ARG_TYPE(y,"number",P)}function V(P,y,w){throw Math.floor(P)!==P?(z(P,w),new he.ERR_OUT_OF_RANGE("offset","an integer",P)):y<0?new he.ERR_BUFFER_OUT_OF_BOUNDS:new he.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${y}`,P)}const ie=/[^+/0-9A-Za-z-_]/g;function ue(P){if(P=P.split("=")[0],P=P.trim().replace(ie,""),P.length<2)return"";for(;P.length%4!==0;)P=P+"=";return P}function ce(P,y){y=y||1/0;let w;const q=P.length;let k=null;const $=[];for(let Y=0;Y<q;++Y){if(w=P.charCodeAt(Y),w>55295&&w<57344){if(!k){if(w>56319){(y-=3)>-1&&$.push(239,191,189);continue}else if(Y+1===q){(y-=3)>-1&&$.push(239,191,189);continue}k=w;continue}if(w<56320){(y-=3)>-1&&$.push(239,191,189),k=w;continue}w=(k-55296<<10|w-56320)+65536}else k&&(y-=3)>-1&&$.push(239,191,189);if(k=null,w<128){if((y-=1)<0)break;$.push(w)}else if(w<2048){if((y-=2)<0)break;$.push(w>>6|192,w&63|128)}else if(w<65536){if((y-=3)<0)break;$.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((y-=4)<0)break;$.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return $}function L(P){const y=[];for(let w=0;w<P.length;++w)y.push(P.charCodeAt(w)&255);return y}function B(P,y){let w,q,k;const $=[];for(let Y=0;Y<P.length&&!((y-=2)<0);++Y)w=P.charCodeAt(Y),q=w>>8,k=w%256,$.push(k),$.push(q);return $}function I(P){return m.toByteArray(ue(P))}function g(P,y,w,q){let k;for(k=0;k<q&&!(k+w>=y.length||k>=P.length);++k)y[k+w]=P[k];return k}function O(P,y){return P instanceof y||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===y.name}function M(P){return P!==P}const G=function(){const P="0123456789abcdef",y=new Array(256);for(let w=0;w<16;++w){const q=w*16;for(let k=0;k<16;++k)y[q+k]=P[w]+P[k]}return y}();function Z(P){return typeof BigInt>"u"?ne:P}function ne(){throw new Error("BigInt not supported")}}(io)),io}function Br(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var oo={exports:{}},Ul;function Hf(){return Ul||(Ul=1,function(c,m){(function(f){c.exports=f()})(function(){return function(){function f(d,i,s){function o(n,e){if(!i[n]){if(!d[n]){var t=typeof Br=="function"&&Br;if(!e&&t)return t(n,!0);if(r)return r(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var a=i[n]={exports:{}};d[n][0].call(a.exports,function(h){var p=d[n][1][h];return o(p||h)},a,a.exports,f,d,i,s)}return i[n].exports}for(var r=typeof Br=="function"&&Br,u=0;u<s.length;u++)o(s[u]);return o}return f}()({1:[function(f,d,i){var s=this&&this.__awaiter||function(t,l,a,h){function p(S){return S instanceof a?S:new a(function(_){_(S)})}return new(a||(a=Promise))(function(S,_){function v(x){try{b(h.next(x))}catch(E){_(E)}}function T(x){try{b(h.throw(x))}catch(E){_(E)}}function b(x){x.done?S(x.value):p(x.value).then(v,T)}b((h=h.apply(t,l||[])).next())})},o=this&&this.__generator||function(t,l){var a={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},h,p,S,_;return _={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function v(b){return function(x){return T([b,x])}}function T(b){if(h)throw new TypeError("Generator is already executing.");for(;_&&(_=0,b[0]&&(a=0)),a;)try{if(h=1,p&&(S=b[0]&2?p.return:b[0]?p.throw||((S=p.return)&&S.call(p),0):p.next)&&!(S=S.call(p,b[1])).done)return S;switch(p=0,S&&(b=[b[0]&2,S.value]),b[0]){case 0:case 1:S=b;break;case 4:return a.label++,{value:b[1],done:!1};case 5:a.label++,p=b[1],b=[0];continue;case 7:b=a.ops.pop(),a.trys.pop();continue;default:if(S=a.trys,!(S=S.length>0&&S[S.length-1])&&(b[0]===6||b[0]===2)){a=0;continue}if(b[0]===3&&(!S||b[1]>S[0]&&b[1]<S[3])){a.label=b[1];break}if(b[0]===6&&a.label<S[1]){a.label=S[1],S=b;break}if(S&&a.label<S[2]){a.label=S[2],a.ops.push(b);break}S[2]&&a.ops.pop(),a.trys.pop();continue}b=l.call(t,a)}catch(x){b=[6,x],p=0}finally{h=S=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.PayloadAssembler=void 0;var r=f("../subscribableStream"),u=f("../payloads"),n=f("../contentStream"),e=function(){function t(l,a){if(this.streamManager=l,this._byteOrderMark=65279,this._utf="utf8",a.header?(this.id=a.header.id,this.payloadType=a.header.payloadType,this.contentLength=a.header.payloadLength,this.end=a.header.end):this.id=a.id,!this.id)throw Error("An ID must be supplied when creating an assembler.");this._onCompleted=a.onCompleted}return t.prototype.getPayloadStream=function(){return this.stream||(this.stream=this.createPayloadStream()),this.stream},t.prototype.onReceive=function(l,a,h){this.end=l.end,l.payloadType===u.PayloadTypes.response||l.payloadType===u.PayloadTypes.request?this.process(a).then().catch():l.end&&a.end()},t.prototype.close=function(){this.streamManager.closeStream(this.id)},t.prototype.createPayloadStream=function(){return new r.SubscribableStream},t.prototype.payloadFromJson=function(l){return JSON.parse(l.charCodeAt(0)===this._byteOrderMark?l.slice(1):l)},t.prototype.stripBOM=function(l){return l.charCodeAt(0)===this._byteOrderMark?l.slice(1):l},t.prototype.process=function(l){return s(this,void 0,void 0,function(){var a,h;return o(this,function(p){switch(p.label){case 0:return a=l.read(l.length),a?(h=a.toString(this._utf),this.payloadType!==u.PayloadTypes.request?[3,2]:[4,this.processRequest(h)]):[2];case 1:return p.sent(),[3,4];case 2:return this.payloadType!==u.PayloadTypes.response?[3,4]:[4,this.processResponse(h)];case 3:p.sent(),p.label=4;case 4:return[2]}})})},t.prototype.processResponse=function(l){return s(this,void 0,void 0,function(){var a,h;return o(this,function(p){switch(p.label){case 0:return a=this.payloadFromJson(this.stripBOM(l)),h={streams:[],statusCode:a.statusCode},[4,this.processStreams(a,h)];case 1:return p.sent(),[2]}})})},t.prototype.processRequest=function(l){return s(this,void 0,void 0,function(){var a,h;return o(this,function(p){switch(p.label){case 0:return a=this.payloadFromJson(l),h={streams:[],path:a.path,verb:a.verb},[4,this.processStreams(a,h)];case 1:return p.sent(),[2]}})})},t.prototype.processStreams=function(l,a){var h;return s(this,void 0,void 0,function(){var p=this;return o(this,function(S){switch(S.label){case 0:return(h=l.streams)===null||h===void 0||h.forEach(function(_){var v,T=(v=_.type)!==null&&v!==void 0?v:_.contentType,b=p.streamManager.getPayloadAssembler(_.id);b.payloadType=T,b.contentLength=_.length,a.streams.push(new n.ContentStream(_.id,b))}),[4,this._onCompleted(this.id,a)];case 1:return S.sent(),[2]}})})},t}();i.PayloadAssembler=e},{"../contentStream":2,"../payloads":16,"../subscribableStream":27}],2:[function(f,d,i){var s=this&&this.__awaiter||function(u,n,e,t){function l(a){return a instanceof e?a:new e(function(h){h(a)})}return new(e||(e=Promise))(function(a,h){function p(v){try{_(t.next(v))}catch(T){h(T)}}function S(v){try{_(t.throw(v))}catch(T){h(T)}}function _(v){v.done?a(v.value):l(v.value).then(p,S)}_((t=t.apply(u,n||[])).next())})},o=this&&this.__generator||function(u,n){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,l,a,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(_){return function(v){return S([_,v])}}function S(_){if(t)throw new TypeError("Generator is already executing.");for(;h&&(h=0,_[0]&&(e=0)),e;)try{if(t=1,l&&(a=_[0]&2?l.return:_[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,_[1])).done)return a;switch(l=0,a&&(_=[_[0]&2,a.value]),_[0]){case 0:case 1:a=_;break;case 4:return e.label++,{value:_[1],done:!1};case 5:e.label++,l=_[1],_=[0];continue;case 7:_=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(_[0]===6||_[0]===2)){e=0;continue}if(_[0]===3&&(!a||_[1]>a[0]&&_[1]<a[3])){e.label=_[1];break}if(_[0]===6&&e.label<a[1]){e.label=a[1],a=_;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(_);break}a[2]&&e.ops.pop(),e.trys.pop();continue}_=n.call(u,e)}catch(v){_=[6,v],l=0}finally{t=a=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.ContentStream=void 0;var r=function(){function u(n,e){if(!e)throw Error("Null Argument Exception");this.id=n,this.assembler=e}return Object.defineProperty(u.prototype,"contentType",{get:function(){return this.assembler.payloadType},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"length",{get:function(){return this.assembler.contentLength},enumerable:!1,configurable:!0}),u.prototype.getStream=function(){return this.stream||(this.stream=this.assembler.getPayloadStream()),this.stream},u.prototype.cancel=function(){this.assembler.close()},u.prototype.readAsString=function(){return s(this,void 0,void 0,function(){var n;return o(this,function(e){switch(e.label){case 0:return[4,this.readAll()];case 1:return n=e.sent().bufferArray,[2,(n||[]).map(function(t){return t.toString("utf8")}).join("")]}})})},u.prototype.readAsJson=function(){return s(this,void 0,void 0,function(){var n;return o(this,function(e){switch(e.label){case 0:return[4,this.readAsString()];case 1:return n=e.sent(),[2,JSON.parse(n)]}})})},u.prototype.readAll=function(){return s(this,void 0,void 0,function(){var n,e,t,l,a,h=this;return o(this,function(p){switch(p.label){case 0:for(n=[],e=0,t=this.getStream();e<t.length;)l=t.read(t.length),n.push(l),e+=l.length;return e<this.length?(a=new Promise(function(S){var _=function(v){return function(T){n.push(T),e+=T.length,e===v.length&&S(!0)}};t.subscribe(_(h))}),[4,a]):[3,2];case 1:p.sent(),p.label=2;case 2:return[2,{bufferArray:n,size:e}]}})})},u}();i.ContentStream=r},{}],3:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CancelDisassembler=void 0;var s=function(){function o(r,u,n){this.sender=r,this.id=u,this.payloadType=n}return o.prototype.disassemble=function(){var r={payloadType:this.payloadType,payloadLength:0,id:this.id,end:!0};this.sender.sendPayload(r)},o}();i.CancelDisassembler=s},{}],4:[function(f,d,i){var s=this&&this.__extends||function(){var t=function(l,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&(h[S]=p[S])},t(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");t(l,a);function h(){this.constructor=l}l.prototype=a===null?Object.create(a):(h.prototype=a.prototype,new h)}}(),o=this&&this.__awaiter||function(t,l,a,h){function p(S){return S instanceof a?S:new a(function(_){_(S)})}return new(a||(a=Promise))(function(S,_){function v(x){try{b(h.next(x))}catch(E){_(E)}}function T(x){try{b(h.throw(x))}catch(E){_(E)}}function b(x){x.done?S(x.value):p(x.value).then(v,T)}b((h=h.apply(t,l||[])).next())})},r=this&&this.__generator||function(t,l){var a={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},h,p,S,_;return _={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function v(b){return function(x){return T([b,x])}}function T(b){if(h)throw new TypeError("Generator is already executing.");for(;_&&(_=0,b[0]&&(a=0)),a;)try{if(h=1,p&&(S=b[0]&2?p.return:b[0]?p.throw||((S=p.return)&&S.call(p),0):p.next)&&!(S=S.call(p,b[1])).done)return S;switch(p=0,S&&(b=[b[0]&2,S.value]),b[0]){case 0:case 1:S=b;break;case 4:return a.label++,{value:b[1],done:!1};case 5:a.label++,p=b[1],b=[0];continue;case 7:b=a.ops.pop(),a.trys.pop();continue;default:if(S=a.trys,!(S=S.length>0&&S[S.length-1])&&(b[0]===6||b[0]===2)){a=0;continue}if(b[0]===3&&(!S||b[1]>S[0]&&b[1]<S[3])){a.label=b[1];break}if(b[0]===6&&a.label<S[1]){a.label=S[1],S=b;break}if(S&&a.label<S[2]){a.label=S[2],a.ops.push(b);break}S[2]&&a.ops.pop(),a.trys.pop();continue}b=l.call(t,a)}catch(x){b=[6,x],p=0}finally{h=S=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.HttpContentStreamDisassembler=void 0;var u=f("./payloadDisassembler"),n=f("../payloads"),e=function(t){s(l,t);function l(a,h){var p=t.call(this,a,h.id)||this;return p.payloadType=n.PayloadTypes.stream,p.contentStream=h,p}return l.prototype.getStream=function(){return o(this,void 0,void 0,function(){var a;return r(this,function(h){return a=this.contentStream.content.getStream(),[2,{stream:a,streamLength:a.length}]})})},l}(u.PayloadDisassembler);i.HttpContentStreamDisassembler=e},{"../payloads":16,"./payloadDisassembler":5}],5:[function(f,d,i){var s=this&&this.__awaiter||function(n,e,t,l){function a(h){return h instanceof t?h:new t(function(p){p(h)})}return new(t||(t=Promise))(function(h,p){function S(T){try{v(l.next(T))}catch(b){p(b)}}function _(T){try{v(l.throw(T))}catch(b){p(b)}}function v(T){T.done?h(T.value):a(T.value).then(S,_)}v((l=l.apply(n,e||[])).next())})},o=this&&this.__generator||function(n,e){var t={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,a,h,p;return p={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function S(v){return function(T){return _([v,T])}}function _(v){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(t=0)),t;)try{if(l=1,a&&(h=v[0]&2?a.return:v[0]?a.throw||((h=a.return)&&h.call(a),0):a.next)&&!(h=h.call(a,v[1])).done)return h;switch(a=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,a=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(h=t.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){t.label=v[1];break}if(v[0]===6&&t.label<h[1]){t.label=h[1],h=v;break}if(h&&t.label<h[2]){t.label=h[2],t.ops.push(v);break}h[2]&&t.ops.pop(),t.trys.pop();continue}v=e.call(n,t)}catch(T){v=[6,T],a=0}finally{l=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.PayloadDisassembler=void 0;var r=f("../subscribableStream"),u=function(){function n(e,t){this.sender=e,this.id=t}return n.serialize=function(e){var t=new r.SubscribableStream;return t.write(JSON.stringify(e)),t.end(),{stream:t,streamLength:t.length}},n.prototype.disassemble=function(){return s(this,void 0,void 0,function(){var e,t,l;return o(this,function(a){switch(a.label){case 0:return[4,this.getStream()];case 1:return e=a.sent(),t=e.stream,l=e.streamLength,this.stream=t,this.streamLength=l,[2,this.send()]}})})},n.prototype.send=function(){return s(this,void 0,void 0,function(){var e;return o(this,function(t){return e={payloadType:this.payloadType,payloadLength:this.streamLength,id:this.id,end:!0},this.sender.sendPayload(e,this.stream),[2]})})},n}();i.PayloadDisassembler=u},{"../subscribableStream":27}],6:[function(f,d,i){var s=this&&this.__extends||function(){var t=function(l,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&(h[S]=p[S])},t(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");t(l,a);function h(){this.constructor=l}l.prototype=a===null?Object.create(a):(h.prototype=a.prototype,new h)}}(),o=this&&this.__awaiter||function(t,l,a,h){function p(S){return S instanceof a?S:new a(function(_){_(S)})}return new(a||(a=Promise))(function(S,_){function v(x){try{b(h.next(x))}catch(E){_(E)}}function T(x){try{b(h.throw(x))}catch(E){_(E)}}function b(x){x.done?S(x.value):p(x.value).then(v,T)}b((h=h.apply(t,l||[])).next())})},r=this&&this.__generator||function(t,l){var a={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},h,p,S,_;return _={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function v(b){return function(x){return T([b,x])}}function T(b){if(h)throw new TypeError("Generator is already executing.");for(;_&&(_=0,b[0]&&(a=0)),a;)try{if(h=1,p&&(S=b[0]&2?p.return:b[0]?p.throw||((S=p.return)&&S.call(p),0):p.next)&&!(S=S.call(p,b[1])).done)return S;switch(p=0,S&&(b=[b[0]&2,S.value]),b[0]){case 0:case 1:S=b;break;case 4:return a.label++,{value:b[1],done:!1};case 5:a.label++,p=b[1],b=[0];continue;case 7:b=a.ops.pop(),a.trys.pop();continue;default:if(S=a.trys,!(S=S.length>0&&S[S.length-1])&&(b[0]===6||b[0]===2)){a=0;continue}if(b[0]===3&&(!S||b[1]>S[0]&&b[1]<S[3])){a.label=b[1];break}if(b[0]===6&&a.label<S[1]){a.label=S[1],S=b;break}if(S&&a.label<S[2]){a.label=S[2],a.ops.push(b);break}S[2]&&a.ops.pop(),a.trys.pop();continue}b=l.call(t,a)}catch(x){b=[6,x],p=0}finally{h=S=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.RequestDisassembler=void 0;var u=f("../payloads/payloadTypes"),n=f("./payloadDisassembler"),e=function(t){s(l,t);function l(a,h,p){var S=t.call(this,a,h)||this;return S.request=p,S.payloadType=u.PayloadTypes.request,S}return l.prototype.getStream=function(){var a,h,p,S;return o(this,void 0,void 0,function(){var _;return r(this,function(v){return _={verb:(a=this.request)===null||a===void 0?void 0:a.verb,path:(h=this.request)===null||h===void 0?void 0:h.path,streams:[]},(S=(p=this.request)===null||p===void 0?void 0:p.streams)===null||S===void 0||S.forEach(function(T){_.streams.push(T.description)}),[2,n.PayloadDisassembler.serialize(_)]})})},l}(n.PayloadDisassembler);i.RequestDisassembler=e},{"../payloads/payloadTypes":19,"./payloadDisassembler":5}],7:[function(f,d,i){var s=this&&this.__extends||function(){var t=function(l,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&(h[S]=p[S])},t(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");t(l,a);function h(){this.constructor=l}l.prototype=a===null?Object.create(a):(h.prototype=a.prototype,new h)}}(),o=this&&this.__awaiter||function(t,l,a,h){function p(S){return S instanceof a?S:new a(function(_){_(S)})}return new(a||(a=Promise))(function(S,_){function v(x){try{b(h.next(x))}catch(E){_(E)}}function T(x){try{b(h.throw(x))}catch(E){_(E)}}function b(x){x.done?S(x.value):p(x.value).then(v,T)}b((h=h.apply(t,l||[])).next())})},r=this&&this.__generator||function(t,l){var a={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},h,p,S,_;return _={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function v(b){return function(x){return T([b,x])}}function T(b){if(h)throw new TypeError("Generator is already executing.");for(;_&&(_=0,b[0]&&(a=0)),a;)try{if(h=1,p&&(S=b[0]&2?p.return:b[0]?p.throw||((S=p.return)&&S.call(p),0):p.next)&&!(S=S.call(p,b[1])).done)return S;switch(p=0,S&&(b=[b[0]&2,S.value]),b[0]){case 0:case 1:S=b;break;case 4:return a.label++,{value:b[1],done:!1};case 5:a.label++,p=b[1],b=[0];continue;case 7:b=a.ops.pop(),a.trys.pop();continue;default:if(S=a.trys,!(S=S.length>0&&S[S.length-1])&&(b[0]===6||b[0]===2)){a=0;continue}if(b[0]===3&&(!S||b[1]>S[0]&&b[1]<S[3])){a.label=b[1];break}if(b[0]===6&&a.label<S[1]){a.label=S[1],S=b;break}if(S&&a.label<S[2]){a.label=S[2],a.ops.push(b);break}S[2]&&a.ops.pop(),a.trys.pop();continue}b=l.call(t,a)}catch(x){b=[6,x],p=0}finally{h=S=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.ResponseDisassembler=void 0;var u=f("../payloads/payloadTypes"),n=f("./payloadDisassembler"),e=function(t){s(l,t);function l(a,h,p){var S=t.call(this,a,h)||this;return S.payloadType=u.PayloadTypes.response,S.response=p,S}return l.prototype.getStream=function(){var a;return o(this,void 0,void 0,function(){var h;return r(this,function(p){return h={statusCode:this.response.statusCode,streams:[]},(a=this.response.streams)===null||a===void 0||a.forEach(function(S){var _=S.description;h.streams.push({id:_.id,contentType:_.type,length:_.length})}),[2,n.PayloadDisassembler.serialize(h)]})})},l}(n.PayloadDisassembler);i.ResponseDisassembler=e},{"../payloads/payloadTypes":19,"./payloadDisassembler":5}],8:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HttpContent=i.HttpContentStream=void 0;var s=f("./utilities/protocol-base"),o=function(){function u(n){var e,t,l,a,h,p;this.content=n,this.id=(0,s.generateGuid)(),this.description={id:this.id,type:(l=(t=(e=this.content)===null||e===void 0?void 0:e.headers)===null||t===void 0?void 0:t.type)!==null&&l!==void 0?l:"unknown",length:(p=(h=(a=this.content)===null||a===void 0?void 0:a.headers)===null||h===void 0?void 0:h.contentLength)!==null&&p!==void 0?p:0}}return u}();i.HttpContentStream=o;var r=function(){function u(n,e){this.headers=n,this.stream=e}return u.prototype.getStream=function(){return this.stream},u}();i.HttpContent=r},{"./utilities/protocol-base":28}],9:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.WebSocketClient=i.BrowserWebSocket=i.SubscribableStream=i.StreamingResponse=i.StreamingRequest=i.RequestHandler=i.HttpContent=i.ContentStream=void 0;var s=f("./contentStream");Object.defineProperty(i,"ContentStream",{enumerable:!0,get:function(){return s.ContentStream}});var o=f("./httpContentStream");Object.defineProperty(i,"HttpContent",{enumerable:!0,get:function(){return o.HttpContent}});var r=f("./requestHandler");Object.defineProperty(i,"RequestHandler",{enumerable:!0,get:function(){return r.RequestHandler}});var u=f("./streamingRequest");Object.defineProperty(i,"StreamingRequest",{enumerable:!0,get:function(){return u.StreamingRequest}});var n=f("./streamingResponse");Object.defineProperty(i,"StreamingResponse",{enumerable:!0,get:function(){return n.StreamingResponse}});var e=f("./subscribableStream");Object.defineProperty(i,"SubscribableStream",{enumerable:!0,get:function(){return e.SubscribableStream}});var t=f("./webSocket/index-browser");Object.defineProperty(i,"BrowserWebSocket",{enumerable:!0,get:function(){return t.BrowserWebSocket}}),Object.defineProperty(i,"WebSocketClient",{enumerable:!0,get:function(){return t.WebSocketClient}})},{"./contentStream":2,"./httpContentStream":8,"./requestHandler":24,"./streamingRequest":25,"./streamingResponse":26,"./subscribableStream":27,"./webSocket/index-browser":31}],10:[function(f,d,i){var s=this&&this.__createBinding||(Object.create?function(r,u,n,e){e===void 0&&(e=n);var t=Object.getOwnPropertyDescriptor(u,n);(!t||("get"in t?!u.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return u[n]}}),Object.defineProperty(r,e,t)}:function(r,u,n,e){e===void 0&&(e=n),r[e]=u[n]}),o=this&&this.__exportStar||function(r,u){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(u,n)&&s(u,r,n)};Object.defineProperty(i,"__esModule",{value:!0}),o(f("./payloadReceiver"),i),o(f("./payloadSender"),i),o(f("./transportDisconnectedEvent"),i),o(f("./transportDisconnectedEventHandler"),i)},{"./payloadReceiver":11,"./payloadSender":12,"./transportDisconnectedEvent":13,"./transportDisconnectedEventHandler":14}],11:[function(f,d,i){var s=this&&this.__awaiter||function(l,a,h,p){function S(_){return _ instanceof h?_:new h(function(v){v(_)})}return new(h||(h=Promise))(function(_,v){function T(E){try{x(p.next(E))}catch(R){v(R)}}function b(E){try{x(p.throw(E))}catch(R){v(R)}}function x(E){E.done?_(E.value):S(E.value).then(T,b)}x((p=p.apply(l,a||[])).next())})},o=this&&this.__generator||function(l,a){var h={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},p,S,_,v;return v={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function T(x){return function(E){return b([x,E])}}function b(x){if(p)throw new TypeError("Generator is already executing.");for(;v&&(v=0,x[0]&&(h=0)),h;)try{if(p=1,S&&(_=x[0]&2?S.return:x[0]?S.throw||((_=S.return)&&_.call(S),0):S.next)&&!(_=_.call(S,x[1])).done)return _;switch(S=0,_&&(x=[x[0]&2,_.value]),x[0]){case 0:case 1:_=x;break;case 4:return h.label++,{value:x[1],done:!1};case 5:h.label++,S=x[1],x=[0];continue;case 7:x=h.ops.pop(),h.trys.pop();continue;default:if(_=h.trys,!(_=_.length>0&&_[_.length-1])&&(x[0]===6||x[0]===2)){h=0;continue}if(x[0]===3&&(!_||x[1]>_[0]&&x[1]<_[3])){h.label=x[1];break}if(x[0]===6&&h.label<_[1]){h.label=_[1],_=x;break}if(_&&h.label<_[2]){h.label=_[2],h.ops.push(x);break}_[2]&&h.ops.pop(),h.trys.pop();continue}x=a.call(l,h)}catch(E){x=[6,E],S=0}finally{p=_=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.PayloadReceiver=void 0;var r=f("../payloads/payloadTypes"),u=f("../payloads/headerSerializer"),n=f("../payloads/payloadConstants"),e=f("./transportDisconnectedEvent"),t=function(){function l(){}return Object.defineProperty(l.prototype,"isConnected",{get:function(){return this._receiver!=null},enumerable:!1,configurable:!0}),l.prototype.connect=function(a){return this._receiver=a,this.receivePackets()},l.prototype.subscribe=function(a,h){this._getStream=a,this._receiveAction=h},l.prototype.disconnect=function(a){var h,p;if(a===void 0&&(a=e.TransportDisconnectedEvent.Empty),!!this.isConnected)try{this._receiver.close(),(h=this.disconnected)===null||h===void 0||h.call(this,this,a)}catch(S){(p=this.disconnected)===null||p===void 0||p.call(this,this,new e.TransportDisconnectedEvent(S.message))}finally{this._receiver=null}},l.prototype.receivePackets=function(){return s(this,void 0,void 0,function(){var a,h,p,S,_,v,T,b,x;return o(this,function(E){switch(E.label){case 0:if(!this.isConnected)return[3,11];E.label=1;case 1:E.trys.push([1,9,,10]),a=0,E.label=2;case 2:return a<n.PayloadConstants.MaxHeaderLength?(h=this,[4,this._receiver.receive(n.PayloadConstants.MaxHeaderLength-a)]):[3,4];case 3:return h._receiveHeaderBuffer=E.sent(),this._receiveHeaderBuffer&&(a+=this._receiveHeaderBuffer.length),[3,2];case 4:if(p=u.HeaderSerializer.deserialize(this._receiveHeaderBuffer),S=p.payloadType===r.PayloadTypes.stream,!(p.payloadLength>0))return[3,8];_=0,v=this._getStream(p),E.label=5;case 5:return _<p.payloadLength&&_<n.PayloadConstants.MaxPayloadLength?(T=Math.min(p.payloadLength-_,n.PayloadConstants.MaxPayloadLength),b=this,[4,this._receiver.receive(T)]):[3,7];case 6:return b._receivePayloadBuffer=E.sent(),_+=this._receivePayloadBuffer.byteLength,v.write(this._receivePayloadBuffer),S&&this._receiveAction(p,v,_),[3,5];case 7:S||this._receiveAction(p,v,_),E.label=8;case 8:return[3,10];case 9:return x=E.sent(),this.disconnect(new e.TransportDisconnectedEvent(x.message)),[3,10];case 10:return[3,0];case 11:return[2]}})})},l}();i.PayloadReceiver=t},{"../payloads/headerSerializer":15,"../payloads/payloadConstants":18,"../payloads/payloadTypes":19,"./transportDisconnectedEvent":13}],12:[function(f,d,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.PayloadSender=void 0;var o=f("../payloads/headerSerializer"),r=f("../payloads/payloadConstants"),u=f("./transportDisconnectedEvent"),n=function(){function e(){}return Object.defineProperty(e.prototype,"isConnected",{get:function(){return this._sender!=null},enumerable:!1,configurable:!0}),e.prototype.connect=function(t){this._sender=t},e.prototype.sendPayload=function(t,l,a){var h={header:t,payload:l,sentCallback:a};this.writePacket(h)},e.prototype.disconnect=function(t){var l,a;if(t===void 0&&(t=u.TransportDisconnectedEvent.Empty),!!this.isConnected)try{this._sender.close(),(l=this.disconnected)===null||l===void 0||l.call(this,this,t)}catch(h){(a=this.disconnected)===null||a===void 0||a.call(this,this,new u.TransportDisconnectedEvent(h.message))}finally{this._sender=null}},e.prototype.writePacket=function(t){try{if(t.header.payloadLength>0&&t.payload){for(var l=t.header.payloadLength;l>0;){var a=l<=r.PayloadConstants.MaxPayloadLength?l:r.PayloadConstants.MaxPayloadLength,h=t.payload.read(a),p=t.header;p.payloadLength=a,p.end=l<=r.PayloadConstants.MaxPayloadLength;var S=s.alloc(r.PayloadConstants.MaxHeaderLength);o.HeaderSerializer.serialize(p,S),this._sender.send(S),this._sender.send(h),l-=h.length}t.sentCallback&&t.sentCallback()}}catch(_){this.disconnect(new u.TransportDisconnectedEvent(_.message))}},e}();i.PayloadSender=n}).call(this)}).call(this,f("buffer").Buffer)},{"../payloads/headerSerializer":15,"../payloads/payloadConstants":18,"./transportDisconnectedEvent":13,buffer:35}],13:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.TransportDisconnectedEvent=void 0;var s=function(){function o(r){this.reason=r}return o.Empty=new o,o}();i.TransportDisconnectedEvent=s},{}],14:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0})},{}],15:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderSerializer=void 0;var s=f("./payloadConstants"),o=function(){function r(){}return r.serialize=function(u,n){n.write(u.payloadType,this.TypeOffset,1,this.Encoding),n.write(this.Delimiter,this.TypeDelimiterOffset,1,this.Encoding),n.write(this.headerLengthPadder(u.payloadLength,this.LengthLength,"0"),this.LengthOffset,this.LengthLength,this.Encoding),n.write(this.Delimiter,this.LengthDelimeterOffset,1,this.Encoding),n.write(u.id,this.IdOffset),n.write(this.Delimiter,this.IdDelimeterOffset,1,this.Encoding),n.write(u.end?this.End:this.NotEnd,this.EndOffset),n.write(this.Terminator,this.TerminatorOffset)},r.deserialize=function(u){var n=u.toString(this.Encoding),e=n.split(this.Delimiter);if(e.length!==4)throw Error("Cannot parse header, header is malformed. Header: ".concat(n));var t=e[0],l=e[1],a=e[2],h=e[3],p=h===`1
`,S=Number(l),_={end:p,payloadLength:S,payloadType:t,id:a};if(!(_.payloadLength<=s.PayloadConstants.MaxPayloadLength&&_.payloadLength>=s.PayloadConstants.MinLength))throw Error("Header length of ".concat(_.payloadLength," is missing or malformed"));if(_.payloadType.length!==this.TypeDelimiterOffset)throw Error("Header type '".concat(_.payloadType.length,"' is missing or malformed."));if(!_.id||!_.id.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)||_.id.length!==this.IdLength)throw Error("Header ID '".concat(_.id,"' is missing or malformed."));if(!(h===`0
`||h===`1
`))throw Error("Header End is missing or not a valid value. Header end: '".concat(h,"'"));return _},r.headerLengthPadder=function(u,n,e){var t=Array(n+1).join(e),l=u.toString();return(t+l).slice(l.length)},r.Delimiter=".",r.Terminator=`
`,r.End="1",r.NotEnd="0",r.TypeOffset=0,r.TypeDelimiterOffset=1,r.LengthOffset=2,r.LengthLength=6,r.LengthDelimeterOffset=8,r.IdOffset=9,r.IdLength=36,r.IdDelimeterOffset=45,r.EndOffset=46,r.TerminatorOffset=47,r.Encoding="utf8",r}();i.HeaderSerializer=o},{"./payloadConstants":18}],16:[function(f,d,i){var s=this&&this.__createBinding||(Object.create?function(r,u,n,e){e===void 0&&(e=n);var t=Object.getOwnPropertyDescriptor(u,n);(!t||("get"in t?!u.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return u[n]}}),Object.defineProperty(r,e,t)}:function(r,u,n,e){e===void 0&&(e=n),r[e]=u[n]}),o=this&&this.__exportStar||function(r,u){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(u,n)&&s(u,r,n)};Object.defineProperty(i,"__esModule",{value:!0}),o(f("./headerSerializer"),i),o(f("./streamManager"),i),o(f("./payloadAssemblerManager"),i),o(f("./payloadTypes"),i),o(f("./requestManager"),i),o(f("./sendOperations"),i),o(f("./streamManager"),i)},{"./headerSerializer":15,"./payloadAssemblerManager":17,"./payloadTypes":19,"./requestManager":20,"./sendOperations":21,"./streamManager":22}],17:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.PayloadAssemblerManager=void 0;var s=f("../assemblers/payloadAssembler"),o=f("./payloadTypes"),r=function(){function u(n,e,t){this.streamManager=n,this.onReceiveResponse=e,this.onReceiveRequest=t,this.activeAssemblers={}}return u.prototype.getPayloadStream=function(n){if(n.payloadType===o.PayloadTypes.stream)return this.streamManager.getPayloadStream(n);if(!this.activeAssemblers[n.id]){var e=this.createPayloadAssembler(n);if(e)return this.activeAssemblers[n.id]=e,e.getPayloadStream()}},u.prototype.onReceive=function(n,e,t){if(n.payloadType===o.PayloadTypes.stream)this.streamManager.onReceive(n,e,t);else{if(this.activeAssemblers&&this.activeAssemblers[n.id]){var l=this.activeAssemblers[n.id];l.onReceive(n,e,t)}n.end&&delete this.activeAssemblers[n.id]}},u.prototype.createPayloadAssembler=function(n){if(n.payloadType===o.PayloadTypes.request)return new s.PayloadAssembler(this.streamManager,{header:n,onCompleted:this.onReceiveRequest});if(n.payloadType===o.PayloadTypes.response)return new s.PayloadAssembler(this.streamManager,{header:n,onCompleted:this.onReceiveResponse})},u}();i.PayloadAssemblerManager=r},{"../assemblers/payloadAssembler":1,"./payloadTypes":19}],18:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.PayloadConstants=void 0,function(s){s[s.MaxPayloadLength=4096]="MaxPayloadLength",s[s.MaxHeaderLength=48]="MaxHeaderLength",s[s.MaxLength=999999]="MaxLength",s[s.MinLength=0]="MinLength"}(i.PayloadConstants||(i.PayloadConstants={}))},{}],19:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.PayloadTypes=void 0,function(s){s.request="A",s.response="B",s.stream="S",s.cancelAll="X",s.cancelStream="C"}(i.PayloadTypes||(i.PayloadTypes={}))},{}],20:[function(f,d,i){var s=this&&this.__awaiter||function(n,e,t,l){function a(h){return h instanceof t?h:new t(function(p){p(h)})}return new(t||(t=Promise))(function(h,p){function S(T){try{v(l.next(T))}catch(b){p(b)}}function _(T){try{v(l.throw(T))}catch(b){p(b)}}function v(T){T.done?h(T.value):a(T.value).then(S,_)}v((l=l.apply(n,e||[])).next())})},o=this&&this.__generator||function(n,e){var t={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,a,h,p;return p={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function S(v){return function(T){return _([v,T])}}function _(v){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(t=0)),t;)try{if(l=1,a&&(h=v[0]&2?a.return:v[0]?a.throw||((h=a.return)&&h.call(a),0):a.next)&&!(h=h.call(a,v[1])).done)return h;switch(a=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,a=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(h=t.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){t.label=v[1];break}if(v[0]===6&&t.label<h[1]){t.label=h[1],h=v;break}if(h&&t.label<h[2]){t.label=h[2],t.ops.push(v);break}h[2]&&t.ops.pop(),t.trys.pop();continue}v=e.call(n,t)}catch(T){v=[6,T],a=0}finally{l=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.RequestManager=void 0;var r=function(){function n(){}return n}(),u=function(){function n(){this._pendingRequests={}}return n.prototype.pendingRequestCount=function(){return Object.keys(this._pendingRequests).length},n.prototype.signalResponse=function(e,t){return s(this,void 0,void 0,function(){var l;return o(this,function(a){return l=this._pendingRequests[e],l?(l.resolve(t),delete this._pendingRequests[e],[2,!0]):[2,!1]})})},n.prototype.getResponse=function(e){var t=this._pendingRequests[e];if(t)return Promise.reject("requestId '".concat(e,"' already exists in RequestManager"));t=new r,t.requestId=e;var l=new Promise(function(a,h){t.resolve=a,t.reject=h});return this._pendingRequests[e]=t,l},n.prototype.rejectAllResponses=function(e){var t=this;Object.entries(this._pendingRequests).forEach(function(l){var a=l[0],h=l[1].reject;h(e),delete t._pendingRequests[a]})},n}();i.RequestManager=u},{}],21:[function(f,d,i){var s=this&&this.__awaiter||function(a,h,p,S){function _(v){return v instanceof p?v:new p(function(T){T(v)})}return new(p||(p=Promise))(function(v,T){function b(R){try{E(S.next(R))}catch(A){T(A)}}function x(R){try{E(S.throw(R))}catch(A){T(A)}}function E(R){R.done?v(R.value):_(R.value).then(b,x)}E((S=S.apply(a,h||[])).next())})},o=this&&this.__generator||function(a,h){var p={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},S,_,v,T;return T={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function b(E){return function(R){return x([E,R])}}function x(E){if(S)throw new TypeError("Generator is already executing.");for(;T&&(T=0,E[0]&&(p=0)),p;)try{if(S=1,_&&(v=E[0]&2?_.return:E[0]?_.throw||((v=_.return)&&v.call(_),0):_.next)&&!(v=v.call(_,E[1])).done)return v;switch(_=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return p.label++,{value:E[1],done:!1};case 5:p.label++,_=E[1],E=[0];continue;case 7:E=p.ops.pop(),p.trys.pop();continue;default:if(v=p.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){p=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){p.label=E[1];break}if(E[0]===6&&p.label<v[1]){p.label=v[1],v=E;break}if(v&&p.label<v[2]){p.label=v[2],p.ops.push(E);break}v[2]&&p.ops.pop(),p.trys.pop();continue}E=h.call(a,p)}catch(R){E=[6,R],_=0}finally{S=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.SendOperations=void 0;var r=f("../disassemblers/cancelDisassembler"),u=f("../disassemblers/httpContentStreamDisassembler"),n=f("../disassemblers/requestDisassembler"),e=f("../disassemblers/responseDisassembler"),t=f("./payloadTypes"),l=function(){function a(h){this.payloadSender=h}return a.prototype.sendRequest=function(h,p){return s(this,void 0,void 0,function(){var S,_=this;return o(this,function(v){switch(v.label){case 0:return S=new n.RequestDisassembler(this.payloadSender,h,p),[4,S.disassemble()];case 1:return v.sent(),p.streams&&p.streams.forEach(function(T){return s(_,void 0,void 0,function(){return o(this,function(b){switch(b.label){case 0:return[4,new u.HttpContentStreamDisassembler(this.payloadSender,T).disassemble()];case 1:return b.sent(),[2]}})})}),[2]}})})},a.prototype.sendResponse=function(h,p){return s(this,void 0,void 0,function(){var S,_=this;return o(this,function(v){switch(v.label){case 0:return S=new e.ResponseDisassembler(this.payloadSender,h,p),[4,S.disassemble()];case 1:return v.sent(),p.streams&&p.streams.forEach(function(T){return s(_,void 0,void 0,function(){return o(this,function(b){switch(b.label){case 0:return[4,new u.HttpContentStreamDisassembler(this.payloadSender,T).disassemble()];case 1:return b.sent(),[2]}})})}),[2]}})})},a.prototype.sendCancelStream=function(h){return s(this,void 0,void 0,function(){var p;return o(this,function(S){return p=new r.CancelDisassembler(this.payloadSender,h,t.PayloadTypes.cancelStream),p.disassemble(),[2]})})},a}();i.SendOperations=l},{"../disassemblers/cancelDisassembler":3,"../disassemblers/httpContentStreamDisassembler":4,"../disassemblers/requestDisassembler":6,"../disassemblers/responseDisassembler":7,"./payloadTypes":19}],22:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.StreamManager=void 0;var s=f("../assemblers/payloadAssembler"),o=function(){function r(u){this.onCancelStream=u,this.activeAssemblers=[]}return r.prototype.getPayloadAssembler=function(u){if(this.activeAssemblers[u])return this.activeAssemblers[u];var n=new s.PayloadAssembler(this,{id:u});return this.activeAssemblers[u]=n,n},r.prototype.getPayloadStream=function(u){var n=this.getPayloadAssembler(u.id);return n.getPayloadStream()},r.prototype.onReceive=function(u,n,e){this.activeAssemblers[u.id]&&this.activeAssemblers[u.id].onReceive(u,n,e)},r.prototype.closeStream=function(u){if(this.activeAssemblers[u]){var n=this.activeAssemblers[u];this.activeAssemblers.splice(this.activeAssemblers.indexOf(u),1);var e=n.getPayloadStream();(n.contentLength&&e.length<n.contentLength||!n.end)&&this.onCancelStream(n)}else return},r}();i.StreamManager=o},{"../assemblers/payloadAssembler":1}],23:[function(f,d,i){var s=this&&this.__awaiter||function(l,a,h,p){function S(_){return _ instanceof h?_:new h(function(v){v(_)})}return new(h||(h=Promise))(function(_,v){function T(E){try{x(p.next(E))}catch(R){v(R)}}function b(E){try{x(p.throw(E))}catch(R){v(R)}}function x(E){E.done?_(E.value):S(E.value).then(T,b)}x((p=p.apply(l,a||[])).next())})},o=this&&this.__generator||function(l,a){var h={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},p,S,_,v;return v={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function T(x){return function(E){return b([x,E])}}function b(x){if(p)throw new TypeError("Generator is already executing.");for(;v&&(v=0,x[0]&&(h=0)),h;)try{if(p=1,S&&(_=x[0]&2?S.return:x[0]?S.throw||((_=S.return)&&_.call(S),0):S.next)&&!(_=_.call(S,x[1])).done)return _;switch(S=0,_&&(x=[x[0]&2,_.value]),x[0]){case 0:case 1:_=x;break;case 4:return h.label++,{value:x[1],done:!1};case 5:h.label++,S=x[1],x=[0];continue;case 7:x=h.ops.pop(),h.trys.pop();continue;default:if(_=h.trys,!(_=_.length>0&&_[_.length-1])&&(x[0]===6||x[0]===2)){h=0;continue}if(x[0]===3&&(!_||x[1]>_[0]&&x[1]<_[3])){h.label=x[1];break}if(x[0]===6&&h.label<_[1]){h.label=_[1],_=x;break}if(_&&h.label<_[2]){h.label=_[2],h.ops.push(x);break}_[2]&&h.ops.pop(),h.trys.pop();continue}x=a.call(l,h)}catch(E){x=[6,E],S=0}finally{p=_=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.ProtocolAdapter=void 0;var r=f("./payloads/payloadAssemblerManager"),u=f("./payloads/sendOperations"),n=f("./payloads/streamManager"),e=f("./utilities/protocol-base"),t=function(){function l(a,h,p,S){var _=this;this.requestHandler=a,this.requestManager=h,this.payloadSender=p,this.payloadReceiver=S,this.sendOperations=new u.SendOperations(this.payloadSender),this.streamManager=new n.StreamManager(this.onCancelStream),this.assemblerManager=new r.PayloadAssemblerManager(this.streamManager,function(v,T){return _.onReceiveResponse(v,T)},function(v,T){return _.onReceiveRequest(v,T)}),this.payloadReceiver.subscribe(function(v){return _.assemblerManager.getPayloadStream(v)},function(v,T,b){return _.assemblerManager.onReceive(v,T,b)})}return l.prototype.sendRequest=function(a){return s(this,void 0,void 0,function(){var h,p;return o(this,function(S){switch(S.label){case 0:return h=(0,e.generateGuid)(),p=this.requestManager.getResponse(h),[4,this.sendOperations.sendRequest(h,a)];case 1:return S.sent(),[2,p]}})})},l.prototype.onReceiveRequest=function(a,h){return s(this,void 0,void 0,function(){var p;return o(this,function(S){switch(S.label){case 0:return this.requestHandler?[4,this.requestHandler.processRequest(h)]:[3,3];case 1:return p=S.sent(),p?[4,this.sendOperations.sendResponse(a,p)]:[3,3];case 2:S.sent(),S.label=3;case 3:return[2]}})})},l.prototype.onReceiveResponse=function(a,h){return s(this,void 0,void 0,function(){return o(this,function(p){switch(p.label){case 0:return[4,this.requestManager.signalResponse(a,h)];case 1:return p.sent(),[2]}})})},l.prototype.onCancelStream=function(a){this.sendOperations.sendCancelStream(a.id).catch()},l}();i.ProtocolAdapter=t},{"./payloads/payloadAssemblerManager":17,"./payloads/sendOperations":21,"./payloads/streamManager":22,"./utilities/protocol-base":28}],24:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RequestHandler=void 0;var s=function(){function o(){}return o}();i.RequestHandler=s},{}],25:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.StreamingRequest=void 0;var s=f("./httpContentStream"),o=f("./subscribableStream"),r=function(){function u(){this.streams=[]}return u.create=function(n,e,t){var l=new u;return l.verb=n,l.path=e,t&&l.setBody(t),l},u.prototype.addStream=function(n){if(!n)throw new Error("Argument Undefined Exception: content undefined.");this.streams.push(new s.HttpContentStream(n))},u.prototype.setBody=function(n){if(typeof n=="string"){var e=new o.SubscribableStream;e.write(n,"utf8"),this.addStream(new s.HttpContent({type:"application/json; charset=utf-8",contentLength:e.length},e))}else typeof n=="object"&&this.addStream(n)},u}();i.StreamingRequest=r},{"./httpContentStream":8,"./subscribableStream":27}],26:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.StreamingResponse=void 0;var s=f("./httpContentStream"),o=f("./subscribableStream"),r=function(){function u(){this.streams=[]}return u.create=function(n,e){var t=new u;return t.statusCode=n,e&&t.addStream(e),t},u.prototype.addStream=function(n){this.streams.push(new s.HttpContentStream(n))},u.prototype.setBody=function(n){var e=new o.SubscribableStream;e.write(JSON.stringify(n),"utf8"),this.addStream(new s.HttpContent({type:"application/json; charset=utf-8",contentLength:e.length},e))},u}();i.StreamingResponse=r},{"./httpContentStream":8,"./subscribableStream":27}],27:[function(f,d,i){(function(s){(function(){var o=this&&this.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(l[h]=a[h])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function l(){this.constructor=e}e.prototype=t===null?Object.create(t):(l.prototype=t.prototype,new l)}}();Object.defineProperty(i,"__esModule",{value:!0}),i.SubscribableStream=void 0;var r=f("stream"),u=function(n){o(e,n);function e(t){var l=n.call(this,t)||this;return l.length=0,l.bufferList=[],l}return e.prototype._write=function(t,l,a){var h=s.from(t);this.bufferList.push(h),this.length+=t.length,this._onData&&this._onData(h),a()},e.prototype._read=function(t){if(this.bufferList.length===0)this.push(null);else for(var l=0;l<t&&this.bufferList.length>0;){var a=this.bufferList[0];this.push(a),this.bufferList.splice(0,1),l+=a.length}},e.prototype.subscribe=function(t){this._onData=t},e}(r.Duplex);i.SubscribableStream=u}).call(this)}).call(this,f("buffer").Buffer)},{buffer:35,stream:41}],28:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.generateGuid=void 0;var s=f("uuid");function o(){return(0,s.v4)()}i.generateGuid=o},{uuid:58}],29:[function(f,d,i){var s=this&&this.__awaiter||function(u,n,e,t){function l(a){return a instanceof e?a:new e(function(h){h(a)})}return new(e||(e=Promise))(function(a,h){function p(v){try{_(t.next(v))}catch(T){h(T)}}function S(v){try{_(t.throw(v))}catch(T){h(T)}}function _(v){v.done?a(v.value):l(v.value).then(p,S)}_((t=t.apply(u,n||[])).next())})},o=this&&this.__generator||function(u,n){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,l,a,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(_){return function(v){return S([_,v])}}function S(_){if(t)throw new TypeError("Generator is already executing.");for(;h&&(h=0,_[0]&&(e=0)),e;)try{if(t=1,l&&(a=_[0]&2?l.return:_[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,_[1])).done)return a;switch(l=0,a&&(_=[_[0]&2,a.value]),_[0]){case 0:case 1:a=_;break;case 4:return e.label++,{value:_[1],done:!1};case 5:e.label++,l=_[1],_=[0];continue;case 7:_=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(_[0]===6||_[0]===2)){e=0;continue}if(_[0]===3&&(!a||_[1]>a[0]&&_[1]<a[3])){e.label=_[1];break}if(_[0]===6&&e.label<a[1]){e.label=a[1],a=_;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(_);break}a[2]&&e.ops.pop(),e.trys.pop();continue}_=n.call(u,e)}catch(v){_=[6,v],l=0}finally{t=a=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.BrowserWebSocket=void 0;var r=function(){function u(n){n&&(this.webSocket=n)}return u.prototype.connect=function(n){return s(this,void 0,void 0,function(){var e,t;return o(this,function(l){return this.webSocket||(this.webSocket=new WebSocket(n)),this.webSocket.onerror=function(a){t(a)},this.webSocket.onopen=function(a){e(a)},[2,new Promise(function(a,h){e=a,t=h})]})})},Object.defineProperty(u.prototype,"isConnected",{get:function(){return this.webSocket.readyState===1},enumerable:!1,configurable:!0}),u.prototype.write=function(n){this.webSocket.send(n)},u.prototype.close=function(){this.webSocket.close()},u.prototype.setOnMessageHandler=function(n){var e="buffer",t=[];this.webSocket.onmessage=function(l){var a=new FileReader,h={buffer:null};t.push(h),a.onload=function(p){var S=p.target;if(h[e]=S.result,t[0]===h)for(;0<t.length&&t[0][e];)n(t[0][e]),t.splice(0,1)},a.readAsArrayBuffer(l.data)}},u.prototype.setOnErrorHandler=function(n){this.webSocket.onerror=function(e){e&&n(e)}},u.prototype.setOnCloseHandler=function(n){this.webSocket.onclose=n},u}();i.BrowserWebSocket=r},{}],30:[function(f,d,i){var s=this&&this.__awaiter||function(a,h,p,S){function _(v){return v instanceof p?v:new p(function(T){T(v)})}return new(p||(p=Promise))(function(v,T){function b(R){try{E(S.next(R))}catch(A){T(A)}}function x(R){try{E(S.throw(R))}catch(A){T(A)}}function E(R){R.done?v(R.value):_(R.value).then(b,x)}E((S=S.apply(a,h||[])).next())})},o=this&&this.__generator||function(a,h){var p={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},S,_,v,T;return T={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function b(E){return function(R){return x([E,R])}}function x(E){if(S)throw new TypeError("Generator is already executing.");for(;T&&(T=0,E[0]&&(p=0)),p;)try{if(S=1,_&&(v=E[0]&2?_.return:E[0]?_.throw||((v=_.return)&&v.call(_),0):_.next)&&!(v=v.call(_,E[1])).done)return v;switch(_=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return p.label++,{value:E[1],done:!1};case 5:p.label++,_=E[1],E=[0];continue;case 7:E=p.ops.pop(),p.trys.pop();continue;default:if(v=p.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){p=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){p.label=E[1];break}if(E[0]===6&&p.label<v[1]){p.label=v[1],v=E;break}if(v&&p.label<v[2]){p.label=v[2],p.ops.push(E);break}v[2]&&p.ops.pop(),p.trys.pop();continue}E=h.call(a,p)}catch(R){E=[6,R],_=0}finally{S=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.WebSocketClient=void 0;var r=f("./browserWebSocket"),u=f("../payloadTransport"),n=f("../protocolAdapter"),e=f("../payloads"),t=f("./webSocketTransport"),l=function(){function a(h){var p=h.url,S=h.requestHandler,_=h.disconnectionHandler,v=_===void 0?null:_;this._url=p,this._requestHandler=S,this._disconnectionHandler=v,this._requestManager=new e.RequestManager,this._sender=new u.PayloadSender,this._sender.disconnected=this.onConnectionDisconnected.bind(this),this._receiver=new u.PayloadReceiver,this._receiver.disconnected=this.onConnectionDisconnected.bind(this),this._protocolAdapter=new n.ProtocolAdapter(this._requestHandler,this._requestManager,this._sender,this._receiver)}return a.prototype.connect=function(){return s(this,void 0,void 0,function(){var h,p;return o(this,function(S){switch(S.label){case 0:return h=new r.BrowserWebSocket,[4,h.connect(this._url)];case 1:return S.sent(),p=new t.WebSocketTransport(h),this._sender.connect(p),this._receiver.connect(p),[2]}})})},a.prototype.disconnect=function(){this._sender.disconnect(new u.TransportDisconnectedEvent("Disconnect was called.")),this._receiver.disconnect(new u.TransportDisconnectedEvent("Disconnect was called."))},a.prototype.send=function(h){return s(this,void 0,void 0,function(){return o(this,function(p){return[2,this._protocolAdapter.sendRequest(h)]})})},a.prototype.onConnectionDisconnected=function(h,p){if(this._requestManager.rejectAllResponses(new Error("Disconnect was called.")),this._disconnectionHandler!=null){this._disconnectionHandler("Disconnected");return}throw new Error("Unable to re-connect client to transport for url ".concat(this._url,". Sender: '").concat(JSON.stringify(h),"'. Args:' ").concat(JSON.stringify(p)))},a}();i.WebSocketClient=l},{"../payloadTransport":10,"../payloads":16,"../protocolAdapter":23,"./browserWebSocket":29,"./webSocketTransport":32}],31:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.WebSocketTransport=i.WebSocketClient=i.BrowserWebSocket=void 0;var s=f("./browserWebSocket");Object.defineProperty(i,"BrowserWebSocket",{enumerable:!0,get:function(){return s.BrowserWebSocket}});var o=f("./browserWebSocketClient");Object.defineProperty(i,"WebSocketClient",{enumerable:!0,get:function(){return o.WebSocketClient}});var r=f("./webSocketTransport");Object.defineProperty(i,"WebSocketTransport",{enumerable:!0,get:function(){return r.WebSocketTransport}})},{"./browserWebSocket":29,"./browserWebSocketClient":30,"./webSocketTransport":32}],32:[function(f,d,i){(function(s){(function(){var o=this&&this.__awaiter||function(n,e,t,l){function a(h){return h instanceof t?h:new t(function(p){p(h)})}return new(t||(t=Promise))(function(h,p){function S(T){try{v(l.next(T))}catch(b){p(b)}}function _(T){try{v(l.throw(T))}catch(b){p(b)}}function v(T){T.done?h(T.value):a(T.value).then(S,_)}v((l=l.apply(n,e||[])).next())})},r=this&&this.__generator||function(n,e){var t={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,a,h,p;return p={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function S(v){return function(T){return _([v,T])}}function _(v){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(t=0)),t;)try{if(l=1,a&&(h=v[0]&2?a.return:v[0]?a.throw||((h=a.return)&&h.call(a),0):a.next)&&!(h=h.call(a,v[1])).done)return h;switch(a=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,a=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(h=t.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){t.label=v[1];break}if(v[0]===6&&t.label<h[1]){t.label=h[1],h=v;break}if(h&&t.label<h[2]){t.label=h[2],t.ops.push(v);break}h[2]&&t.ops.pop(),t.trys.pop();continue}v=e.call(n,t)}catch(T){v=[6,T],a=0}finally{l=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.WebSocketTransport=void 0;var u=function(){function n(e){var t=this;this.ws=e,this._queue=[],this._activeOffset=0,this._activeReceiveCount=0,this.ws.setOnMessageHandler(function(l){t.onReceive(l)}),this.ws.setOnErrorHandler(function(l){t.onError(l)}),this.ws.setOnCloseHandler(function(){t.onClose()})}return n.prototype.send=function(e){var t;return!((t=this.ws)===null||t===void 0)&&t.isConnected?(this.ws.write(e),e.length):0},Object.defineProperty(n.prototype,"isConnected",{get:function(){var e;return!!(!((e=this.ws)===null||e===void 0)&&e.isConnected)},enumerable:!1,configurable:!0}),n.prototype.close=function(){var e;!((e=this.ws)===null||e===void 0)&&e.isConnected&&this.ws.close()},n.prototype.receive=function(e){return o(this,void 0,void 0,function(){var t,l=this;return r(this,function(a){if(this._activeReceiveResolve)throw new Error("Cannot call receive more than once before it has returned.");return this._activeReceiveCount=e,t=new Promise(function(h,p){l._activeReceiveResolve=h,l._activeReceiveReject=p}),this.trySignalData(),[2,t]})})},n.prototype.onReceive=function(e){this._queue&&e&&e.byteLength>0&&(this._queue.push(s.from(e)),this.trySignalData())},n.prototype.onClose=function(){this._activeReceiveReject&&this._activeReceiveReject(new Error("Socket was closed.")),this._active=null,this._activeOffset=0,this._activeReceiveResolve=null,this._activeReceiveReject=null,this._activeReceiveCount=0,this.ws=null},n.prototype.onError=function(e){this._activeReceiveReject&&this._activeReceiveReject(e),this.onClose()},n.prototype.trySignalData=function(){if(this._activeReceiveResolve&&(!this._active&&this._queue.length>0&&(this._active=this._queue.shift(),this._activeOffset=0),this._active)){if(this._activeOffset===0&&this._active.length===this._activeReceiveCount){var e=this._active;this._active=null,this._activeReceiveResolve(e)}else{var t=Math.min(this._activeReceiveCount,this._active.length-this._activeOffset),e=s.alloc(t);this._active.copy(e,0,this._activeOffset,this._activeOffset+t),this._activeOffset+=t,this._activeOffset>=this._active.length&&(this._active=null,this._activeOffset=0),this._activeReceiveResolve(e)}this._activeReceiveCount=0,this._activeReceiveReject=null,this._activeReceiveResolve=null}},n}();i.WebSocketTransport=u}).call(this)}).call(this,f("buffer").Buffer)},{buffer:35}],33:[function(f,d,i){},{}],34:[function(f,d,i){i.byteLength=l,i.toByteArray=h,i.fromByteArray=_;for(var s=[],o=[],r=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,e=u.length;n<e;++n)s[n]=u[n],o[u.charCodeAt(n)]=n;o[45]=62,o[95]=63;function t(v){var T=v.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=v.indexOf("=");b===-1&&(b=T);var x=b===T?0:4-b%4;return[b,x]}function l(v){var T=t(v),b=T[0],x=T[1];return(b+x)*3/4-x}function a(v,T,b){return(T+b)*3/4-b}function h(v){var T,b=t(v),x=b[0],E=b[1],R=new r(a(v,x,E)),A=0,U=E>0?x-4:x,F;for(F=0;F<U;F+=4)T=o[v.charCodeAt(F)]<<18|o[v.charCodeAt(F+1)]<<12|o[v.charCodeAt(F+2)]<<6|o[v.charCodeAt(F+3)],R[A++]=T>>16&255,R[A++]=T>>8&255,R[A++]=T&255;return E===2&&(T=o[v.charCodeAt(F)]<<2|o[v.charCodeAt(F+1)]>>4,R[A++]=T&255),E===1&&(T=o[v.charCodeAt(F)]<<10|o[v.charCodeAt(F+1)]<<4|o[v.charCodeAt(F+2)]>>2,R[A++]=T>>8&255,R[A++]=T&255),R}function p(v){return s[v>>18&63]+s[v>>12&63]+s[v>>6&63]+s[v&63]}function S(v,T,b){for(var x,E=[],R=T;R<b;R+=3)x=(v[R]<<16&16711680)+(v[R+1]<<8&65280)+(v[R+2]&255),E.push(p(x));return E.join("")}function _(v){for(var T,b=v.length,x=b%3,E=[],R=16383,A=0,U=b-x;A<U;A+=R)E.push(S(v,A,A+R>U?U:A+R));return x===1?(T=v[b-1],E.push(s[T>>2]+s[T<<4&63]+"==")):x===2&&(T=(v[b-2]<<8)+v[b-1],E.push(s[T>>10]+s[T>>4&63]+s[T<<2&63]+"=")),E.join("")}},{}],35:[function(f,d,i){(function(s){(function(){var o=f("base64-js"),r=f("ieee754");i.Buffer=t,i.SlowBuffer=x,i.INSPECT_MAX_BYTES=50;var u=2147483647;i.kMaxLength=u,t.TYPED_ARRAY_SUPPORT=n(),!t.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{var I=new Uint8Array(1);return I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},I.foo()===42}catch{return!1}}Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}});function e(I){if(I>u)throw new RangeError('The value "'+I+'" is invalid for option "size"');var g=new Uint8Array(I);return g.__proto__=t.prototype,g}function t(I,g,O){if(typeof I=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(I)}return l(I,g,O)}typeof Symbol<"u"&&Symbol.species!=null&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192;function l(I,g,O){if(typeof I=="string")return S(I,g);if(ArrayBuffer.isView(I))return _(I);if(I==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(L(I,ArrayBuffer)||I&&L(I.buffer,ArrayBuffer))return v(I,g,O);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var M=I.valueOf&&I.valueOf();if(M!=null&&M!==I)return t.from(M,g,O);var G=T(I);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return t.from(I[Symbol.toPrimitive]("string"),g,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}t.from=function(I,g,O){return l(I,g,O)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array;function a(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function h(I,g,O){return a(I),I<=0?e(I):g!==void 0?typeof O=="string"?e(I).fill(g,O):e(I).fill(g):e(I)}t.alloc=function(I,g,O){return h(I,g,O)};function p(I){return a(I),e(I<0?0:b(I)|0)}t.allocUnsafe=function(I){return p(I)},t.allocUnsafeSlow=function(I){return p(I)};function S(I,g){if((typeof g!="string"||g==="")&&(g="utf8"),!t.isEncoding(g))throw new TypeError("Unknown encoding: "+g);var O=E(I,g)|0,M=e(O),G=M.write(I,g);return G!==O&&(M=M.slice(0,G)),M}function _(I){for(var g=I.length<0?0:b(I.length)|0,O=e(g),M=0;M<g;M+=1)O[M]=I[M]&255;return O}function v(I,g,O){if(g<0||I.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(I.byteLength<g+(O||0))throw new RangeError('"length" is outside of buffer bounds');var M;return g===void 0&&O===void 0?M=new Uint8Array(I):O===void 0?M=new Uint8Array(I,g):M=new Uint8Array(I,g,O),M.__proto__=t.prototype,M}function T(I){if(t.isBuffer(I)){var g=b(I.length)|0,O=e(g);return O.length===0||I.copy(O,0,0,g),O}if(I.length!==void 0)return typeof I.length!="number"||B(I.length)?e(0):_(I);if(I.type==="Buffer"&&Array.isArray(I.data))return _(I.data)}function b(I){if(I>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return I|0}function x(I){return+I!=I&&(I=0),t.alloc(+I)}t.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==t.prototype},t.compare=function(g,O){if(L(g,Uint8Array)&&(g=t.from(g,g.offset,g.byteLength)),L(O,Uint8Array)&&(O=t.from(O,O.offset,O.byteLength)),!t.isBuffer(g)||!t.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===O)return 0;for(var M=g.length,G=O.length,Z=0,ne=Math.min(M,G);Z<ne;++Z)if(g[Z]!==O[Z]){M=g[Z],G=O[Z];break}return M<G?-1:G<M?1:0},t.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(g,O){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return t.alloc(0);var M;if(O===void 0)for(O=0,M=0;M<g.length;++M)O+=g[M].length;var G=t.allocUnsafe(O),Z=0;for(M=0;M<g.length;++M){var ne=g[M];if(L(ne,Uint8Array)&&(ne=t.from(ne)),!t.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(G,Z),Z+=ne.length}return G};function E(I,g){if(t.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||L(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);var O=I.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&O===0)return 0;for(var G=!1;;)switch(g){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return z(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return ue(I).length;default:if(G)return M?-1:z(I).length;g=(""+g).toLowerCase(),G=!0}}t.byteLength=E;function R(I,g,O){var M=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,g>>>=0,O<=g))return"";for(I||(I="utf8");;)switch(I){case"hex":return oe(this,g,O);case"utf8":case"utf-8":return K(this,g,O);case"ascii":return W(this,g,O);case"latin1":case"binary":return X(this,g,O);case"base64":return H(this,g,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,g,O);default:if(M)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),M=!0}}t.prototype._isBuffer=!0;function A(I,g,O){var M=I[g];I[g]=I[O],I[O]=M}t.prototype.swap16=function(){var g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<g;O+=2)A(this,O,O+1);return this},t.prototype.swap32=function(){var g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<g;O+=4)A(this,O,O+3),A(this,O+1,O+2);return this},t.prototype.swap64=function(){var g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<g;O+=8)A(this,O,O+7),A(this,O+1,O+6),A(this,O+2,O+5),A(this,O+3,O+4);return this},t.prototype.toString=function(){var g=this.length;return g===0?"":arguments.length===0?K(this,0,g):R.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(g){if(!t.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:t.compare(this,g)===0},t.prototype.inspect=function(){var g="",O=i.INSPECT_MAX_BYTES;return g=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(g+=" ... "),"<Buffer "+g+">"},t.prototype.compare=function(g,O,M,G,Z){if(L(g,Uint8Array)&&(g=t.from(g,g.offset,g.byteLength)),!t.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(O===void 0&&(O=0),M===void 0&&(M=g?g.length:0),G===void 0&&(G=0),Z===void 0&&(Z=this.length),O<0||M>g.length||G<0||Z>this.length)throw new RangeError("out of range index");if(G>=Z&&O>=M)return 0;if(G>=Z)return-1;if(O>=M)return 1;if(O>>>=0,M>>>=0,G>>>=0,Z>>>=0,this===g)return 0;for(var ne=Z-G,P=M-O,y=Math.min(ne,P),w=this.slice(G,Z),q=g.slice(O,M),k=0;k<y;++k)if(w[k]!==q[k]){ne=w[k],P=q[k];break}return ne<P?-1:P<ne?1:0};function U(I,g,O,M,G){if(I.length===0)return-1;if(typeof O=="string"?(M=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,B(O)&&(O=G?0:I.length-1),O<0&&(O=I.length+O),O>=I.length){if(G)return-1;O=I.length-1}else if(O<0)if(G)O=0;else return-1;if(typeof g=="string"&&(g=t.from(g,M)),t.isBuffer(g))return g.length===0?-1:F(I,g,O,M,G);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(I,g,O):Uint8Array.prototype.lastIndexOf.call(I,g,O):F(I,[g],O,M,G);throw new TypeError("val must be string, number or Buffer")}function F(I,g,O,M,G){var Z=1,ne=I.length,P=g.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(I.length<2||g.length<2)return-1;Z=2,ne/=2,P/=2,O/=2}function y(Y,ae){return Z===1?Y[ae]:Y.readUInt16BE(ae*Z)}var w;if(G){var q=-1;for(w=O;w<ne;w++)if(y(I,w)===y(g,q===-1?0:w-q)){if(q===-1&&(q=w),w-q+1===P)return q*Z}else q!==-1&&(w-=w-q),q=-1}else for(O+P>ne&&(O=ne-P),w=O;w>=0;w--){for(var k=!0,$=0;$<P;$++)if(y(I,w+$)!==y(g,$)){k=!1;break}if(k)return w}return-1}t.prototype.includes=function(g,O,M){return this.indexOf(g,O,M)!==-1},t.prototype.indexOf=function(g,O,M){return U(this,g,O,M,!0)},t.prototype.lastIndexOf=function(g,O,M){return U(this,g,O,M,!1)};function Q(I,g,O,M){O=Number(O)||0;var G=I.length-O;M?(M=Number(M),M>G&&(M=G)):M=G;var Z=g.length;M>Z/2&&(M=Z/2);for(var ne=0;ne<M;++ne){var P=parseInt(g.substr(ne*2,2),16);if(B(P))return ne;I[O+ne]=P}return ne}function ee(I,g,O,M){return ce(z(g,I.length-O),I,O,M)}function re(I,g,O,M){return ce(V(g),I,O,M)}function J(I,g,O,M){return re(I,g,O,M)}function j(I,g,O,M){return ce(ue(g),I,O,M)}function C(I,g,O,M){return ce(ie(g,I.length-O),I,O,M)}t.prototype.write=function(g,O,M,G){if(O===void 0)G="utf8",M=this.length,O=0;else if(M===void 0&&typeof O=="string")G=O,M=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(M)?(M=M>>>0,G===void 0&&(G="utf8")):(G=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Z=this.length-O;if((M===void 0||M>Z)&&(M=Z),g.length>0&&(M<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");for(var ne=!1;;)switch(G){case"hex":return Q(this,g,O,M);case"utf8":case"utf-8":return ee(this,g,O,M);case"ascii":return re(this,g,O,M);case"latin1":case"binary":return J(this,g,O,M);case"base64":return j(this,g,O,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,g,O,M);default:if(ne)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),ne=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(I,g,O){return g===0&&O===I.length?o.fromByteArray(I):o.fromByteArray(I.slice(g,O))}function K(I,g,O){O=Math.min(I.length,O);for(var M=[],G=g;G<O;){var Z=I[G],ne=null,P=Z>239?4:Z>223?3:Z>191?2:1;if(G+P<=O){var y,w,q,k;switch(P){case 1:Z<128&&(ne=Z);break;case 2:y=I[G+1],(y&192)===128&&(k=(Z&31)<<6|y&63,k>127&&(ne=k));break;case 3:y=I[G+1],w=I[G+2],(y&192)===128&&(w&192)===128&&(k=(Z&15)<<12|(y&63)<<6|w&63,k>2047&&(k<55296||k>57343)&&(ne=k));break;case 4:y=I[G+1],w=I[G+2],q=I[G+3],(y&192)===128&&(w&192)===128&&(q&192)===128&&(k=(Z&15)<<18|(y&63)<<12|(w&63)<<6|q&63,k>65535&&k<1114112&&(ne=k))}}ne===null?(ne=65533,P=1):ne>65535&&(ne-=65536,M.push(ne>>>10&1023|55296),ne=56320|ne&1023),M.push(ne),G+=P}return N(M)}var D=4096;function N(I){var g=I.length;if(g<=D)return String.fromCharCode.apply(String,I);for(var O="",M=0;M<g;)O+=String.fromCharCode.apply(String,I.slice(M,M+=D));return O}function W(I,g,O){var M="";O=Math.min(I.length,O);for(var G=g;G<O;++G)M+=String.fromCharCode(I[G]&127);return M}function X(I,g,O){var M="";O=Math.min(I.length,O);for(var G=g;G<O;++G)M+=String.fromCharCode(I[G]);return M}function oe(I,g,O){var M=I.length;(!g||g<0)&&(g=0),(!O||O<0||O>M)&&(O=M);for(var G="",Z=g;Z<O;++Z)G+=ge(I[Z]);return G}function te(I,g,O){for(var M=I.slice(g,O),G="",Z=0;Z<M.length;Z+=2)G+=String.fromCharCode(M[Z]+M[Z+1]*256);return G}t.prototype.slice=function(g,O){var M=this.length;g=~~g,O=O===void 0?M:~~O,g<0?(g+=M,g<0&&(g=0)):g>M&&(g=M),O<0?(O+=M,O<0&&(O=0)):O>M&&(O=M),O<g&&(O=g);var G=this.subarray(g,O);return G.__proto__=t.prototype,G};function se(I,g,O){if(I%1!==0||I<0)throw new RangeError("offset is not uint");if(I+g>O)throw new RangeError("Trying to access beyond buffer length")}t.prototype.readUIntLE=function(g,O,M){g=g>>>0,O=O>>>0,M||se(g,O,this.length);for(var G=this[g],Z=1,ne=0;++ne<O&&(Z*=256);)G+=this[g+ne]*Z;return G},t.prototype.readUIntBE=function(g,O,M){g=g>>>0,O=O>>>0,M||se(g,O,this.length);for(var G=this[g+--O],Z=1;O>0&&(Z*=256);)G+=this[g+--O]*Z;return G},t.prototype.readUInt8=function(g,O){return g=g>>>0,O||se(g,1,this.length),this[g]},t.prototype.readUInt16LE=function(g,O){return g=g>>>0,O||se(g,2,this.length),this[g]|this[g+1]<<8},t.prototype.readUInt16BE=function(g,O){return g=g>>>0,O||se(g,2,this.length),this[g]<<8|this[g+1]},t.prototype.readUInt32LE=function(g,O){return g=g>>>0,O||se(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},t.prototype.readUInt32BE=function(g,O){return g=g>>>0,O||se(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},t.prototype.readIntLE=function(g,O,M){g=g>>>0,O=O>>>0,M||se(g,O,this.length);for(var G=this[g],Z=1,ne=0;++ne<O&&(Z*=256);)G+=this[g+ne]*Z;return Z*=128,G>=Z&&(G-=Math.pow(2,8*O)),G},t.prototype.readIntBE=function(g,O,M){g=g>>>0,O=O>>>0,M||se(g,O,this.length);for(var G=O,Z=1,ne=this[g+--G];G>0&&(Z*=256);)ne+=this[g+--G]*Z;return Z*=128,ne>=Z&&(ne-=Math.pow(2,8*O)),ne},t.prototype.readInt8=function(g,O){return g=g>>>0,O||se(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},t.prototype.readInt16LE=function(g,O){g=g>>>0,O||se(g,2,this.length);var M=this[g]|this[g+1]<<8;return M&32768?M|4294901760:M},t.prototype.readInt16BE=function(g,O){g=g>>>0,O||se(g,2,this.length);var M=this[g+1]|this[g]<<8;return M&32768?M|4294901760:M},t.prototype.readInt32LE=function(g,O){return g=g>>>0,O||se(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},t.prototype.readInt32BE=function(g,O){return g=g>>>0,O||se(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},t.prototype.readFloatLE=function(g,O){return g=g>>>0,O||se(g,4,this.length),r.read(this,g,!0,23,4)},t.prototype.readFloatBE=function(g,O){return g=g>>>0,O||se(g,4,this.length),r.read(this,g,!1,23,4)},t.prototype.readDoubleLE=function(g,O){return g=g>>>0,O||se(g,8,this.length),r.read(this,g,!0,52,8)},t.prototype.readDoubleBE=function(g,O){return g=g>>>0,O||se(g,8,this.length),r.read(this,g,!1,52,8)};function fe(I,g,O,M,G,Z){if(!t.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>G||g<Z)throw new RangeError('"value" argument is out of bounds');if(O+M>I.length)throw new RangeError("Index out of range")}t.prototype.writeUIntLE=function(g,O,M,G){if(g=+g,O=O>>>0,M=M>>>0,!G){var Z=Math.pow(2,8*M)-1;fe(this,g,O,M,Z,0)}var ne=1,P=0;for(this[O]=g&255;++P<M&&(ne*=256);)this[O+P]=g/ne&255;return O+M},t.prototype.writeUIntBE=function(g,O,M,G){if(g=+g,O=O>>>0,M=M>>>0,!G){var Z=Math.pow(2,8*M)-1;fe(this,g,O,M,Z,0)}var ne=M-1,P=1;for(this[O+ne]=g&255;--ne>=0&&(P*=256);)this[O+ne]=g/P&255;return O+M},t.prototype.writeUInt8=function(g,O,M){return g=+g,O=O>>>0,M||fe(this,g,O,1,255,0),this[O]=g&255,O+1},t.prototype.writeUInt16LE=function(g,O,M){return g=+g,O=O>>>0,M||fe(this,g,O,2,65535,0),this[O]=g&255,this[O+1]=g>>>8,O+2},t.prototype.writeUInt16BE=function(g,O,M){return g=+g,O=O>>>0,M||fe(this,g,O,2,65535,0),this[O]=g>>>8,this[O+1]=g&255,O+2},t.prototype.writeUInt32LE=function(g,O,M){return g=+g,O=O>>>0,M||fe(this,g,O,4,4294967295,0),this[O+3]=g>>>24,this[O+2]=g>>>16,this[O+1]=g>>>8,this[O]=g&255,O+4},t.prototype.writeUInt32BE=function(g,O,M){return g=+g,O=O>>>0,M||fe(this,g,O,4,4294967295,0),this[O]=g>>>24,this[O+1]=g>>>16,this[O+2]=g>>>8,this[O+3]=g&255,O+4},t.prototype.writeIntLE=function(g,O,M,G){if(g=+g,O=O>>>0,!G){var Z=Math.pow(2,8*M-1);fe(this,g,O,M,Z-1,-Z)}var ne=0,P=1,y=0;for(this[O]=g&255;++ne<M&&(P*=256);)g<0&&y===0&&this[O+ne-1]!==0&&(y=1),this[O+ne]=(g/P>>0)-y&255;return O+M},t.prototype.writeIntBE=function(g,O,M,G){if(g=+g,O=O>>>0,!G){var Z=Math.pow(2,8*M-1);fe(this,g,O,M,Z-1,-Z)}var ne=M-1,P=1,y=0;for(this[O+ne]=g&255;--ne>=0&&(P*=256);)g<0&&y===0&&this[O+ne+1]!==0&&(y=1),this[O+ne]=(g/P>>0)-y&255;return O+M},t.prototype.writeInt8=function(g,O,M){return g=+g,O=O>>>0,M||fe(this,g,O,1,127,-128),g<0&&(g=255+g+1),this[O]=g&255,O+1},t.prototype.writeInt16LE=function(g,O,M){return g=+g,O=O>>>0,M||fe(this,g,O,2,32767,-32768),this[O]=g&255,this[O+1]=g>>>8,O+2},t.prototype.writeInt16BE=function(g,O,M){return g=+g,O=O>>>0,M||fe(this,g,O,2,32767,-32768),this[O]=g>>>8,this[O+1]=g&255,O+2},t.prototype.writeInt32LE=function(g,O,M){return g=+g,O=O>>>0,M||fe(this,g,O,4,2147483647,-2147483648),this[O]=g&255,this[O+1]=g>>>8,this[O+2]=g>>>16,this[O+3]=g>>>24,O+4},t.prototype.writeInt32BE=function(g,O,M){return g=+g,O=O>>>0,M||fe(this,g,O,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[O]=g>>>24,this[O+1]=g>>>16,this[O+2]=g>>>8,this[O+3]=g&255,O+4};function ye(I,g,O,M,G,Z){if(O+M>I.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function he(I,g,O,M,G){return g=+g,O=O>>>0,G||ye(I,g,O,4),r.write(I,g,O,M,23,4),O+4}t.prototype.writeFloatLE=function(g,O,M){return he(this,g,O,!0,M)},t.prototype.writeFloatBE=function(g,O,M){return he(this,g,O,!1,M)};function ve(I,g,O,M,G){return g=+g,O=O>>>0,G||ye(I,g,O,8),r.write(I,g,O,M,52,8),O+8}t.prototype.writeDoubleLE=function(g,O,M){return ve(this,g,O,!0,M)},t.prototype.writeDoubleBE=function(g,O,M){return ve(this,g,O,!1,M)},t.prototype.copy=function(g,O,M,G){if(!t.isBuffer(g))throw new TypeError("argument should be a Buffer");if(M||(M=0),!G&&G!==0&&(G=this.length),O>=g.length&&(O=g.length),O||(O=0),G>0&&G<M&&(G=M),G===M||g.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),g.length-O<G-M&&(G=g.length-O+M);var Z=G-M;if(this===g&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(O,M,G);else if(this===g&&M<O&&O<G)for(var ne=Z-1;ne>=0;--ne)g[ne+O]=this[ne+M];else Uint8Array.prototype.set.call(g,this.subarray(M,G),O);return Z},t.prototype.fill=function(g,O,M,G){if(typeof g=="string"){if(typeof O=="string"?(G=O,O=0,M=this.length):typeof M=="string"&&(G=M,M=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!t.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(g.length===1){var Z=g.charCodeAt(0);(G==="utf8"&&Z<128||G==="latin1")&&(g=Z)}}else typeof g=="number"&&(g=g&255);if(O<0||this.length<O||this.length<M)throw new RangeError("Out of range index");if(M<=O)return this;O=O>>>0,M=M===void 0?this.length:M>>>0,g||(g=0);var ne;if(typeof g=="number")for(ne=O;ne<M;++ne)this[ne]=g;else{var P=t.isBuffer(g)?g:t.from(g,G),y=P.length;if(y===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(ne=0;ne<M-O;++ne)this[ne+O]=P[ne%y]}return this};var de=/[^+/0-9A-Za-z-_]/g;function we(I){if(I=I.split("=")[0],I=I.trim().replace(de,""),I.length<2)return"";for(;I.length%4!==0;)I=I+"=";return I}function ge(I){return I<16?"0"+I.toString(16):I.toString(16)}function z(I,g){g=g||1/0;for(var O,M=I.length,G=null,Z=[],ne=0;ne<M;++ne){if(O=I.charCodeAt(ne),O>55295&&O<57344){if(!G){if(O>56319){(g-=3)>-1&&Z.push(239,191,189);continue}else if(ne+1===M){(g-=3)>-1&&Z.push(239,191,189);continue}G=O;continue}if(O<56320){(g-=3)>-1&&Z.push(239,191,189),G=O;continue}O=(G-55296<<10|O-56320)+65536}else G&&(g-=3)>-1&&Z.push(239,191,189);if(G=null,O<128){if((g-=1)<0)break;Z.push(O)}else if(O<2048){if((g-=2)<0)break;Z.push(O>>6|192,O&63|128)}else if(O<65536){if((g-=3)<0)break;Z.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((g-=4)<0)break;Z.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return Z}function V(I){for(var g=[],O=0;O<I.length;++O)g.push(I.charCodeAt(O)&255);return g}function ie(I,g){for(var O,M,G,Z=[],ne=0;ne<I.length&&!((g-=2)<0);++ne)O=I.charCodeAt(ne),M=O>>8,G=O%256,Z.push(G),Z.push(M);return Z}function ue(I){return o.toByteArray(we(I))}function ce(I,g,O,M){for(var G=0;G<M&&!(G+O>=g.length||G>=I.length);++G)g[G+O]=I[G];return G}function L(I,g){return I instanceof g||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===g.name}function B(I){return I!==I}}).call(this)}).call(this,f("buffer").Buffer)},{"base64-js":34,buffer:35,ieee754:37}],36:[function(f,d,i){var s=typeof Reflect=="object"?Reflect:null,o=s&&typeof s.apply=="function"?s.apply:function(A,U,F){return Function.prototype.apply.call(A,U,F)},r;s&&typeof s.ownKeys=="function"?r=s.ownKeys:Object.getOwnPropertySymbols?r=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:r=function(A){return Object.getOwnPropertyNames(A)};function u(R){console&&console.warn&&console.warn(R)}var n=Number.isNaN||function(A){return A!==A};function e(){e.init.call(this)}d.exports=e,d.exports.once=E,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var t=10;function l(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return t},set:function(R){if(typeof R!="number"||R<0||n(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");t=R}}),e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||n(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function a(R){return R._maxListeners===void 0?e.defaultMaxListeners:R._maxListeners}e.prototype.getMaxListeners=function(){return a(this)},e.prototype.emit=function(A){for(var U=[],F=1;F<arguments.length;F++)U.push(arguments[F]);var Q=A==="error",ee=this._events;if(ee!==void 0)Q=Q&&ee.error===void 0;else if(!Q)return!1;if(Q){var re;if(U.length>0&&(re=U[0]),re instanceof Error)throw re;var J=new Error("Unhandled error."+(re?" ("+re.message+")":""));throw J.context=re,J}var j=ee[A];if(j===void 0)return!1;if(typeof j=="function")o(j,this,U);else for(var C=j.length,H=T(j,C),F=0;F<C;++F)o(H[F],this,U);return!0};function h(R,A,U,F){var Q,ee,re;if(l(U),ee=R._events,ee===void 0?(ee=R._events=Object.create(null),R._eventsCount=0):(ee.newListener!==void 0&&(R.emit("newListener",A,U.listener?U.listener:U),ee=R._events),re=ee[A]),re===void 0)re=ee[A]=U,++R._eventsCount;else if(typeof re=="function"?re=ee[A]=F?[U,re]:[re,U]:F?re.unshift(U):re.push(U),Q=a(R),Q>0&&re.length>Q&&!re.warned){re.warned=!0;var J=new Error("Possible EventEmitter memory leak detected. "+re.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");J.name="MaxListenersExceededWarning",J.emitter=R,J.type=A,J.count=re.length,u(J)}return R}e.prototype.addListener=function(A,U){return h(this,A,U,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(A,U){return h(this,A,U,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(R,A,U){var F={fired:!1,wrapFn:void 0,target:R,type:A,listener:U},Q=p.bind(F);return Q.listener=U,F.wrapFn=Q,Q}e.prototype.once=function(A,U){return l(U),this.on(A,S(this,A,U)),this},e.prototype.prependOnceListener=function(A,U){return l(U),this.prependListener(A,S(this,A,U)),this},e.prototype.removeListener=function(A,U){var F,Q,ee,re,J;if(l(U),Q=this._events,Q===void 0)return this;if(F=Q[A],F===void 0)return this;if(F===U||F.listener===U)--this._eventsCount===0?this._events=Object.create(null):(delete Q[A],Q.removeListener&&this.emit("removeListener",A,F.listener||U));else if(typeof F!="function"){for(ee=-1,re=F.length-1;re>=0;re--)if(F[re]===U||F[re].listener===U){J=F[re].listener,ee=re;break}if(ee<0)return this;ee===0?F.shift():b(F,ee),F.length===1&&(Q[A]=F[0]),Q.removeListener!==void 0&&this.emit("removeListener",A,J||U)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(A){var U,F,Q;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[A]),this;if(arguments.length===0){var ee=Object.keys(F),re;for(Q=0;Q<ee.length;++Q)re=ee[Q],re!=="removeListener"&&this.removeAllListeners(re);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(U=F[A],typeof U=="function")this.removeListener(A,U);else if(U!==void 0)for(Q=U.length-1;Q>=0;Q--)this.removeListener(A,U[Q]);return this};function _(R,A,U){var F=R._events;if(F===void 0)return[];var Q=F[A];return Q===void 0?[]:typeof Q=="function"?U?[Q.listener||Q]:[Q]:U?x(Q):T(Q,Q.length)}e.prototype.listeners=function(A){return _(this,A,!0)},e.prototype.rawListeners=function(A){return _(this,A,!1)},e.listenerCount=function(R,A){return typeof R.listenerCount=="function"?R.listenerCount(A):v.call(R,A)},e.prototype.listenerCount=v;function v(R){var A=this._events;if(A!==void 0){var U=A[R];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}e.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function T(R,A){for(var U=new Array(A),F=0;F<A;++F)U[F]=R[F];return U}function b(R,A){for(;A+1<R.length;A++)R[A]=R[A+1];R.pop()}function x(R){for(var A=new Array(R.length),U=0;U<A.length;++U)A[U]=R[U].listener||R[U];return A}function E(R,A){return new Promise(function(U,F){function Q(){ee!==void 0&&R.removeListener("error",ee),U([].slice.call(arguments))}var ee;A!=="error"&&(ee=function(J){R.removeListener(A,Q),F(J)},R.once("error",ee)),R.once(A,Q)})}},{}],37:[function(f,d,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(s,o,r,u,n){var e,t,l=n*8-u-1,a=(1<<l)-1,h=a>>1,p=-7,S=r?n-1:0,_=r?-1:1,v=s[o+S];for(S+=_,e=v&(1<<-p)-1,v>>=-p,p+=l;p>0;e=e*256+s[o+S],S+=_,p-=8);for(t=e&(1<<-p)-1,e>>=-p,p+=u;p>0;t=t*256+s[o+S],S+=_,p-=8);if(e===0)e=1-h;else{if(e===a)return t?NaN:(v?-1:1)*(1/0);t=t+Math.pow(2,u),e=e-h}return(v?-1:1)*t*Math.pow(2,e-u)},i.write=function(s,o,r,u,n,e){var t,l,a,h=e*8-n-1,p=(1<<h)-1,S=p>>1,_=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=u?0:e-1,T=u?1:-1,b=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(l=isNaN(o)?1:0,t=p):(t=Math.floor(Math.log(o)/Math.LN2),o*(a=Math.pow(2,-t))<1&&(t--,a*=2),t+S>=1?o+=_/a:o+=_*Math.pow(2,1-S),o*a>=2&&(t++,a/=2),t+S>=p?(l=0,t=p):t+S>=1?(l=(o*a-1)*Math.pow(2,n),t=t+S):(l=o*Math.pow(2,S-1)*Math.pow(2,n),t=0));n>=8;s[r+v]=l&255,v+=T,l/=256,n-=8);for(t=t<<n|l,h+=n;h>0;s[r+v]=t&255,v+=T,t/=256,h-=8);s[r+v-T]|=b*128}},{}],38:[function(f,d,i){typeof Object.create=="function"?d.exports=function(o,r){r&&(o.super_=r,o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:d.exports=function(o,r){if(r){o.super_=r;var u=function(){};u.prototype=r.prototype,o.prototype=new u,o.prototype.constructor=o}}},{}],39:[function(f,d,i){var s=d.exports={},o,r;function u(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=u}catch{o=u}try{typeof clearTimeout=="function"?r=clearTimeout:r=n}catch{r=n}})();function e(b){if(o===setTimeout)return setTimeout(b,0);if((o===u||!o)&&setTimeout)return o=setTimeout,setTimeout(b,0);try{return o(b,0)}catch{try{return o.call(null,b,0)}catch{return o.call(this,b,0)}}}function t(b){if(r===clearTimeout)return clearTimeout(b);if((r===n||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(b);try{return r(b)}catch{try{return r.call(null,b)}catch{return r.call(this,b)}}}var l=[],a=!1,h,p=-1;function S(){!a||!h||(a=!1,h.length?l=h.concat(l):p=-1,l.length&&_())}function _(){if(!a){var b=e(S);a=!0;for(var x=l.length;x;){for(h=l,l=[];++p<x;)h&&h[p].run();p=-1,x=l.length}h=null,a=!1,t(b)}}s.nextTick=function(b){var x=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)x[E-1]=arguments[E];l.push(new v(b,x)),l.length===1&&!a&&e(_)};function v(b,x){this.fun=b,this.array=x}v.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function T(){}s.on=T,s.addListener=T,s.once=T,s.off=T,s.removeListener=T,s.removeAllListeners=T,s.emit=T,s.prependListener=T,s.prependOnceListener=T,s.listeners=function(b){return[]},s.binding=function(b){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(b){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],40:[function(f,d,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var s=f("buffer"),o=s.Buffer;function r(n,e){for(var t in n)e[t]=n[t]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?d.exports=s:(r(s,i),i.Buffer=u);function u(n,e,t){return o(n,e,t)}u.prototype=Object.create(o.prototype),r(o,u),u.from=function(n,e,t){if(typeof n=="number")throw new TypeError("Argument must not be a number");return o(n,e,t)},u.alloc=function(n,e,t){if(typeof n!="number")throw new TypeError("Argument must be a number");var l=o(n);return e!==void 0?typeof t=="string"?l.fill(e,t):l.fill(e):l.fill(0),l},u.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return o(n)},u.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(n)}},{buffer:35}],41:[function(f,d,i){d.exports=r;var s=f("events").EventEmitter,o=f("inherits");o(r,s),r.Readable=f("readable-stream/lib/_stream_readable.js"),r.Writable=f("readable-stream/lib/_stream_writable.js"),r.Duplex=f("readable-stream/lib/_stream_duplex.js"),r.Transform=f("readable-stream/lib/_stream_transform.js"),r.PassThrough=f("readable-stream/lib/_stream_passthrough.js"),r.finished=f("readable-stream/lib/internal/streams/end-of-stream.js"),r.pipeline=f("readable-stream/lib/internal/streams/pipeline.js"),r.Stream=r;function r(){s.call(this)}r.prototype.pipe=function(u,n){var e=this;function t(v){u.writable&&u.write(v)===!1&&e.pause&&e.pause()}e.on("data",t);function l(){e.readable&&e.resume&&e.resume()}u.on("drain",l),!u._isStdio&&(!n||n.end!==!1)&&(e.on("end",h),e.on("close",p));var a=!1;function h(){a||(a=!0,u.end())}function p(){a||(a=!0,typeof u.destroy=="function"&&u.destroy())}function S(v){if(_(),s.listenerCount(this,"error")===0)throw v}e.on("error",S),u.on("error",S);function _(){e.removeListener("data",t),u.removeListener("drain",l),e.removeListener("end",h),e.removeListener("close",p),e.removeListener("error",S),u.removeListener("error",S),e.removeListener("end",_),e.removeListener("close",_),u.removeListener("close",_)}return e.on("end",_),e.on("close",_),u.on("close",_),u.emit("pipe",e),u}},{events:36,inherits:38,"readable-stream/lib/_stream_duplex.js":43,"readable-stream/lib/_stream_passthrough.js":44,"readable-stream/lib/_stream_readable.js":45,"readable-stream/lib/_stream_transform.js":46,"readable-stream/lib/_stream_writable.js":47,"readable-stream/lib/internal/streams/end-of-stream.js":51,"readable-stream/lib/internal/streams/pipeline.js":53}],42:[function(f,d,i){function s(l,a){l.prototype=Object.create(a.prototype),l.prototype.constructor=l,l.__proto__=a}var o={};function r(l,a,h){h||(h=Error);function p(_,v,T){return typeof a=="string"?a:a(_,v,T)}var S=function(_){s(v,_);function v(T,b,x){return _.call(this,p(T,b,x))||this}return v}(h);S.prototype.name=h.name,S.prototype.code=l,o[l]=S}function u(l,a){if(Array.isArray(l)){var h=l.length;return l=l.map(function(p){return String(p)}),h>2?"one of ".concat(a," ").concat(l.slice(0,h-1).join(", "),", or ")+l[h-1]:h===2?"one of ".concat(a," ").concat(l[0]," or ").concat(l[1]):"of ".concat(a," ").concat(l[0])}else return"of ".concat(a," ").concat(String(l))}function n(l,a,h){return l.substr(0,a.length)===a}function e(l,a,h){return(h===void 0||h>l.length)&&(h=l.length),l.substring(h-a.length,h)===a}function t(l,a,h){return typeof h!="number"&&(h=0),h+a.length>l.length?!1:l.indexOf(a,h)!==-1}r("ERR_INVALID_OPT_VALUE",function(l,a){return'The value "'+a+'" is invalid for option "'+l+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(l,a,h){var p;typeof a=="string"&&n(a,"not ")?(p="must not be",a=a.replace(/^not /,"")):p="must be";var S;if(e(l," argument"))S="The ".concat(l," ").concat(p," ").concat(u(a,"type"));else{var _=t(l,".")?"property":"argument";S='The "'.concat(l,'" ').concat(_," ").concat(p," ").concat(u(a,"type"))}return S+=". Received type ".concat(typeof h),S},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),d.exports.codes=o},{}],43:[function(f,d,i){(function(s){(function(){var o=Object.keys||function(p){var S=[];for(var _ in p)S.push(_);return S};d.exports=l;var r=f("./_stream_readable"),u=f("./_stream_writable");f("inherits")(l,r);for(var n=o(u.prototype),e=0;e<n.length;e++){var t=n[e];l.prototype[t]||(l.prototype[t]=u.prototype[t])}function l(p){if(!(this instanceof l))return new l(p);r.call(this,p),u.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||s.nextTick(h,this)}function h(p){p.end()}Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(S){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=S,this._writableState.destroyed=S)}})}).call(this)}).call(this,f("_process"))},{"./_stream_readable":45,"./_stream_writable":47,_process:39,inherits:38}],44:[function(f,d,i){d.exports=o;var s=f("./_stream_transform");f("inherits")(o,s);function o(r){if(!(this instanceof o))return new o(r);s.call(this,r)}o.prototype._transform=function(r,u,n){n(null,r)}},{"./_stream_transform":46,inherits:38}],45:[function(f,d,i){(function(s,o){(function(){d.exports=C;var r;C.ReadableState=j,f("events").EventEmitter;var u=function(B,I){return B.listeners(I).length},n=f("./internal/streams/stream"),e=f("buffer").Buffer,t=o.Uint8Array||function(){};function l(L){return e.from(L)}function a(L){return e.isBuffer(L)||L instanceof t}var h=f("util"),p;h&&h.debuglog?p=h.debuglog("stream"):p=function(){};var S=f("./internal/streams/buffer_list"),_=f("./internal/streams/destroy"),v=f("./internal/streams/state"),T=v.getHighWaterMark,b=f("../errors").codes,x=b.ERR_INVALID_ARG_TYPE,E=b.ERR_STREAM_PUSH_AFTER_EOF,R=b.ERR_METHOD_NOT_IMPLEMENTED,A=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,U,F,Q;f("inherits")(C,n);var ee=_.errorOrDestroy,re=["error","close","destroy","pause","resume"];function J(L,B,I){if(typeof L.prependListener=="function")return L.prependListener(B,I);!L._events||!L._events[B]?L.on(B,I):Array.isArray(L._events[B])?L._events[B].unshift(I):L._events[B]=[I,L._events[B]]}function j(L,B,I){r=r||f("./_stream_duplex"),L=L||{},typeof I!="boolean"&&(I=B instanceof r),this.objectMode=!!L.objectMode,I&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=T(this,L,"readableHighWaterMark",I),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(U||(U=f("string_decoder/").StringDecoder),this.decoder=new U(L.encoding),this.encoding=L.encoding)}function C(L){if(r=r||f("./_stream_duplex"),!(this instanceof C))return new C(L);var B=this instanceof r;this._readableState=new j(L,this,B),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),n.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),C.prototype.destroy=_.destroy,C.prototype._undestroy=_.undestroy,C.prototype._destroy=function(L,B){B(L)},C.prototype.push=function(L,B){var I=this._readableState,g;return I.objectMode?g=!0:typeof L=="string"&&(B=B||I.defaultEncoding,B!==I.encoding&&(L=e.from(L,B),B=""),g=!0),H(this,L,B,!1,g)},C.prototype.unshift=function(L){return H(this,L,null,!0,!1)};function H(L,B,I,g,O){p("readableAddChunk",B);var M=L._readableState;if(B===null)M.reading=!1,oe(L,M);else{var G;if(O||(G=D(M,B)),G)ee(L,G);else if(M.objectMode||B&&B.length>0)if(typeof B!="string"&&!M.objectMode&&Object.getPrototypeOf(B)!==e.prototype&&(B=l(B)),g)M.endEmitted?ee(L,new A):K(L,M,B,!0);else if(M.ended)ee(L,new E);else{if(M.destroyed)return!1;M.reading=!1,M.decoder&&!I?(B=M.decoder.write(B),M.objectMode||B.length!==0?K(L,M,B,!1):fe(L,M)):K(L,M,B,!1)}else g||(M.reading=!1,fe(L,M))}return!M.ended&&(M.length<M.highWaterMark||M.length===0)}function K(L,B,I,g){B.flowing&&B.length===0&&!B.sync?(B.awaitDrain=0,L.emit("data",I)):(B.length+=B.objectMode?1:I.length,g?B.buffer.unshift(I):B.buffer.push(I),B.needReadable&&te(L)),fe(L,B)}function D(L,B){var I;return!a(B)&&typeof B!="string"&&B!==void 0&&!L.objectMode&&(I=new x("chunk",["string","Buffer","Uint8Array"],B)),I}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(L){U||(U=f("string_decoder/").StringDecoder);var B=new U(L);this._readableState.decoder=B,this._readableState.encoding=this._readableState.decoder.encoding;for(var I=this._readableState.buffer.head,g="";I!==null;)g+=B.write(I.data),I=I.next;return this._readableState.buffer.clear(),g!==""&&this._readableState.buffer.push(g),this._readableState.length=g.length,this};var N=1073741824;function W(L){return L>=N?L=N:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function X(L,B){return L<=0||B.length===0&&B.ended?0:B.objectMode?1:L!==L?B.flowing&&B.length?B.buffer.head.data.length:B.length:(L>B.highWaterMark&&(B.highWaterMark=W(L)),L<=B.length?L:B.ended?B.length:(B.needReadable=!0,0))}C.prototype.read=function(L){p("read",L),L=parseInt(L,10);var B=this._readableState,I=L;if(L!==0&&(B.emittedReadable=!1),L===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return p("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?ie(this):te(this),null;if(L=X(L,B),L===0&&B.ended)return B.length===0&&ie(this),null;var g=B.needReadable;p("need readable",g),(B.length===0||B.length-L<B.highWaterMark)&&(g=!0,p("length less than watermark",g)),B.ended||B.reading?(g=!1,p("reading or ended",g)):g&&(p("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(L=X(I,B)));var O;return L>0?O=V(L,B):O=null,O===null?(B.needReadable=B.length<=B.highWaterMark,L=0):(B.length-=L,B.awaitDrain=0),B.length===0&&(B.ended||(B.needReadable=!0),I!==L&&B.ended&&ie(this)),O!==null&&this.emit("data",O),O};function oe(L,B){if(p("onEofChunk"),!B.ended){if(B.decoder){var I=B.decoder.end();I&&I.length&&(B.buffer.push(I),B.length+=B.objectMode?1:I.length)}B.ended=!0,B.sync?te(L):(B.needReadable=!1,B.emittedReadable||(B.emittedReadable=!0,se(L)))}}function te(L){var B=L._readableState;p("emitReadable",B.needReadable,B.emittedReadable),B.needReadable=!1,B.emittedReadable||(p("emitReadable",B.flowing),B.emittedReadable=!0,s.nextTick(se,L))}function se(L){var B=L._readableState;p("emitReadable_",B.destroyed,B.length,B.ended),!B.destroyed&&(B.length||B.ended)&&(L.emit("readable"),B.emittedReadable=!1),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,z(L)}function fe(L,B){B.readingMore||(B.readingMore=!0,s.nextTick(ye,L,B))}function ye(L,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){var I=B.length;if(p("maybeReadMore read 0"),L.read(0),I===B.length)break}B.readingMore=!1}C.prototype._read=function(L){ee(this,new R("_read()"))},C.prototype.pipe=function(L,B){var I=this,g=this._readableState;switch(g.pipesCount){case 0:g.pipes=L;break;case 1:g.pipes=[g.pipes,L];break;default:g.pipes.push(L);break}g.pipesCount+=1,p("pipe count=%d opts=%j",g.pipesCount,B);var O=(!B||B.end!==!1)&&L!==s.stdout&&L!==s.stderr,M=O?Z:Y;g.endEmitted?s.nextTick(M):I.once("end",M),L.on("unpipe",G);function G(ae,le){p("onunpipe"),ae===I&&le&&le.hasUnpiped===!1&&(le.hasUnpiped=!0,y())}function Z(){p("onend"),L.end()}var ne=he(I);L.on("drain",ne);var P=!1;function y(){p("cleanup"),L.removeListener("close",k),L.removeListener("finish",$),L.removeListener("drain",ne),L.removeListener("error",q),L.removeListener("unpipe",G),I.removeListener("end",Z),I.removeListener("end",Y),I.removeListener("data",w),P=!0,g.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&ne()}I.on("data",w);function w(ae){p("ondata");var le=L.write(ae);p("dest.write",le),le===!1&&((g.pipesCount===1&&g.pipes===L||g.pipesCount>1&&ce(g.pipes,L)!==-1)&&!P&&(p("false write response, pause",g.awaitDrain),g.awaitDrain++),I.pause())}function q(ae){p("onerror",ae),Y(),L.removeListener("error",q),u(L,"error")===0&&ee(L,ae)}J(L,"error",q);function k(){L.removeListener("finish",$),Y()}L.once("close",k);function $(){p("onfinish"),L.removeListener("close",k),Y()}L.once("finish",$);function Y(){p("unpipe"),I.unpipe(L)}return L.emit("pipe",I),g.flowing||(p("pipe resume"),I.resume()),L};function he(L){return function(){var I=L._readableState;p("pipeOnDrain",I.awaitDrain),I.awaitDrain&&I.awaitDrain--,I.awaitDrain===0&&u(L,"data")&&(I.flowing=!0,z(L))}}C.prototype.unpipe=function(L){var B=this._readableState,I={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return L&&L!==B.pipes?this:(L||(L=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,L&&L.emit("unpipe",this,I),this);if(!L){var g=B.pipes,O=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var M=0;M<O;M++)g[M].emit("unpipe",this,{hasUnpiped:!1});return this}var G=ce(B.pipes,L);return G===-1?this:(B.pipes.splice(G,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),L.emit("unpipe",this,I),this)},C.prototype.on=function(L,B){var I=n.prototype.on.call(this,L,B),g=this._readableState;return L==="data"?(g.readableListening=this.listenerCount("readable")>0,g.flowing!==!1&&this.resume()):L==="readable"&&!g.endEmitted&&!g.readableListening&&(g.readableListening=g.needReadable=!0,g.flowing=!1,g.emittedReadable=!1,p("on readable",g.length,g.reading),g.length?te(this):g.reading||s.nextTick(de,this)),I},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(L,B){var I=n.prototype.removeListener.call(this,L,B);return L==="readable"&&s.nextTick(ve,this),I},C.prototype.removeAllListeners=function(L){var B=n.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&s.nextTick(ve,this),B};function ve(L){var B=L._readableState;B.readableListening=L.listenerCount("readable")>0,B.resumeScheduled&&!B.paused?B.flowing=!0:L.listenerCount("data")>0&&L.resume()}function de(L){p("readable nexttick read 0"),L.read(0)}C.prototype.resume=function(){var L=this._readableState;return L.flowing||(p("resume"),L.flowing=!L.readableListening,we(this,L)),L.paused=!1,this};function we(L,B){B.resumeScheduled||(B.resumeScheduled=!0,s.nextTick(ge,L,B))}function ge(L,B){p("resume",B.reading),B.reading||L.read(0),B.resumeScheduled=!1,L.emit("resume"),z(L),B.flowing&&!B.reading&&L.read(0)}C.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function z(L){var B=L._readableState;for(p("flow",B.flowing);B.flowing&&L.read()!==null;);}C.prototype.wrap=function(L){var B=this,I=this._readableState,g=!1;L.on("end",function(){if(p("wrapped end"),I.decoder&&!I.ended){var G=I.decoder.end();G&&G.length&&B.push(G)}B.push(null)}),L.on("data",function(G){if(p("wrapped data"),I.decoder&&(G=I.decoder.write(G)),!(I.objectMode&&G==null)&&!(!I.objectMode&&(!G||!G.length))){var Z=B.push(G);Z||(g=!0,L.pause())}});for(var O in L)this[O]===void 0&&typeof L[O]=="function"&&(this[O]=function(Z){return function(){return L[Z].apply(L,arguments)}}(O));for(var M=0;M<re.length;M++)L.on(re[M],this.emit.bind(this,re[M]));return this._read=function(G){p("wrapped _read",G),g&&(g=!1,L.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return F===void 0&&(F=f("./internal/streams/async_iterator")),F(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}}),C._fromList=V,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function V(L,B){if(B.length===0)return null;var I;return B.objectMode?I=B.buffer.shift():!L||L>=B.length?(B.decoder?I=B.buffer.join(""):B.buffer.length===1?I=B.buffer.first():I=B.buffer.concat(B.length),B.buffer.clear()):I=B.buffer.consume(L,B.decoder),I}function ie(L){var B=L._readableState;p("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,s.nextTick(ue,B,L))}function ue(L,B){if(p("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,B.readable=!1,B.emit("end"),L.autoDestroy)){var I=B._writableState;(!I||I.autoDestroy&&I.finished)&&B.destroy()}}typeof Symbol=="function"&&(C.from=function(L,B){return Q===void 0&&(Q=f("./internal/streams/from")),Q(C,L,B)});function ce(L,B){for(var I=0,g=L.length;I<g;I++)if(L[I]===B)return I;return-1}}).call(this)}).call(this,f("_process"),typeof Ee<"u"?Ee:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":42,"./_stream_duplex":43,"./internal/streams/async_iterator":48,"./internal/streams/buffer_list":49,"./internal/streams/destroy":50,"./internal/streams/from":52,"./internal/streams/state":54,"./internal/streams/stream":55,_process:39,buffer:35,events:36,inherits:38,"string_decoder/":56,util:33}],46:[function(f,d,i){d.exports=l;var s=f("../errors").codes,o=s.ERR_METHOD_NOT_IMPLEMENTED,r=s.ERR_MULTIPLE_CALLBACK,u=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,n=s.ERR_TRANSFORM_WITH_LENGTH_0,e=f("./_stream_duplex");f("inherits")(l,e);function t(p,S){var _=this._transformState;_.transforming=!1;var v=_.writecb;if(v===null)return this.emit("error",new r);_.writechunk=null,_.writecb=null,S!=null&&this.push(S),v(p);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function l(p){if(!(this instanceof l))return new l(p);e.call(this,p),this._transformState={afterTransform:t.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",a)}function a(){var p=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(S,_){h(p,S,_)}):h(this,null,null)}l.prototype.push=function(p,S){return this._transformState.needTransform=!1,e.prototype.push.call(this,p,S)},l.prototype._transform=function(p,S,_){_(new o("_transform()"))},l.prototype._write=function(p,S,_){var v=this._transformState;if(v.writecb=_,v.writechunk=p,v.writeencoding=S,!v.transforming){var T=this._readableState;(v.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},l.prototype._read=function(p){var S=this._transformState;S.writechunk!==null&&!S.transforming?(S.transforming=!0,this._transform(S.writechunk,S.writeencoding,S.afterTransform)):S.needTransform=!0},l.prototype._destroy=function(p,S){e.prototype._destroy.call(this,p,function(_){S(_)})};function h(p,S,_){if(S)return p.emit("error",S);if(_!=null&&p.push(_),p._writableState.length)throw new n;if(p._transformState.transforming)throw new u;return p.push(null)}},{"../errors":42,"./_stream_duplex":43,inherits:38}],47:[function(f,d,i){(function(s,o){(function(){d.exports=j;function r(z){var V=this;this.next=null,this.entry=null,this.finish=function(){ge(V,z)}}var u;j.WritableState=re;var n={deprecate:f("util-deprecate")},e=f("./internal/streams/stream"),t=f("buffer").Buffer,l=o.Uint8Array||function(){};function a(z){return t.from(z)}function h(z){return t.isBuffer(z)||z instanceof l}var p=f("./internal/streams/destroy"),S=f("./internal/streams/state"),_=S.getHighWaterMark,v=f("../errors").codes,T=v.ERR_INVALID_ARG_TYPE,b=v.ERR_METHOD_NOT_IMPLEMENTED,x=v.ERR_MULTIPLE_CALLBACK,E=v.ERR_STREAM_CANNOT_PIPE,R=v.ERR_STREAM_DESTROYED,A=v.ERR_STREAM_NULL_VALUES,U=v.ERR_STREAM_WRITE_AFTER_END,F=v.ERR_UNKNOWN_ENCODING,Q=p.errorOrDestroy;f("inherits")(j,e);function ee(){}function re(z,V,ie){u=u||f("./_stream_duplex"),z=z||{},typeof ie!="boolean"&&(ie=V instanceof u),this.objectMode=!!z.objectMode,ie&&(this.objectMode=this.objectMode||!!z.writableObjectMode),this.highWaterMark=_(this,z,"writableHighWaterMark",ie),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ue=z.decodeStrings===!1;this.decodeStrings=!ue,this.defaultEncoding=z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){oe(V,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}re.prototype.getBuffer=function(){for(var V=this.bufferedRequest,ie=[];V;)ie.push(V),V=V.next;return ie},function(){try{Object.defineProperty(re.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var J;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(V){return J.call(this,V)?!0:this!==j?!1:V&&V._writableState instanceof re}})):J=function(V){return V instanceof this};function j(z){u=u||f("./_stream_duplex");var V=this instanceof u;if(!V&&!J.call(j,this))return new j(z);this._writableState=new re(z,this,V),this.writable=!0,z&&(typeof z.write=="function"&&(this._write=z.write),typeof z.writev=="function"&&(this._writev=z.writev),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.final=="function"&&(this._final=z.final)),e.call(this)}j.prototype.pipe=function(){Q(this,new E)};function C(z,V){var ie=new U;Q(z,ie),s.nextTick(V,ie)}function H(z,V,ie,ue){var ce;return ie===null?ce=new A:typeof ie!="string"&&!V.objectMode&&(ce=new T("chunk",["string","Buffer"],ie)),ce?(Q(z,ce),s.nextTick(ue,ce),!1):!0}j.prototype.write=function(z,V,ie){var ue=this._writableState,ce=!1,L=!ue.objectMode&&h(z);return L&&!t.isBuffer(z)&&(z=a(z)),typeof V=="function"&&(ie=V,V=null),L?V="buffer":V||(V=ue.defaultEncoding),typeof ie!="function"&&(ie=ee),ue.ending?C(this,ie):(L||H(this,ue,z,ie))&&(ue.pendingcb++,ce=D(this,ue,L,z,V,ie)),ce},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var z=this._writableState;z.corked&&(z.corked--,!z.writing&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&fe(this,z))},j.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new F(V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function K(z,V,ie){return!z.objectMode&&z.decodeStrings!==!1&&typeof V=="string"&&(V=t.from(V,ie)),V}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function D(z,V,ie,ue,ce,L){if(!ie){var B=K(V,ue,ce);ue!==B&&(ie=!0,ce="buffer",ue=B)}var I=V.objectMode?1:ue.length;V.length+=I;var g=V.length<V.highWaterMark;if(g||(V.needDrain=!0),V.writing||V.corked){var O=V.lastBufferedRequest;V.lastBufferedRequest={chunk:ue,encoding:ce,isBuf:ie,callback:L,next:null},O?O.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else N(z,V,!1,I,ue,ce,L);return g}function N(z,V,ie,ue,ce,L,B){V.writelen=ue,V.writecb=B,V.writing=!0,V.sync=!0,V.destroyed?V.onwrite(new R("write")):ie?z._writev(ce,V.onwrite):z._write(ce,L,V.onwrite),V.sync=!1}function W(z,V,ie,ue,ce){--V.pendingcb,ie?(s.nextTick(ce,ue),s.nextTick(de,z,V),z._writableState.errorEmitted=!0,Q(z,ue)):(ce(ue),z._writableState.errorEmitted=!0,Q(z,ue),de(z,V))}function X(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}function oe(z,V){var ie=z._writableState,ue=ie.sync,ce=ie.writecb;if(typeof ce!="function")throw new x;if(X(ie),V)W(z,ie,ue,V,ce);else{var L=ye(ie)||z.destroyed;!L&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&fe(z,ie),ue?s.nextTick(te,z,ie,L,ce):te(z,ie,L,ce)}}function te(z,V,ie,ue){ie||se(z,V),V.pendingcb--,ue(),de(z,V)}function se(z,V){V.length===0&&V.needDrain&&(V.needDrain=!1,z.emit("drain"))}function fe(z,V){V.bufferProcessing=!0;var ie=V.bufferedRequest;if(z._writev&&ie&&ie.next){var ue=V.bufferedRequestCount,ce=new Array(ue),L=V.corkedRequestsFree;L.entry=ie;for(var B=0,I=!0;ie;)ce[B]=ie,ie.isBuf||(I=!1),ie=ie.next,B+=1;ce.allBuffers=I,N(z,V,!0,V.length,ce,"",L.finish),V.pendingcb++,V.lastBufferedRequest=null,L.next?(V.corkedRequestsFree=L.next,L.next=null):V.corkedRequestsFree=new r(V),V.bufferedRequestCount=0}else{for(;ie;){var g=ie.chunk,O=ie.encoding,M=ie.callback,G=V.objectMode?1:g.length;if(N(z,V,!1,G,g,O,M),ie=ie.next,V.bufferedRequestCount--,V.writing)break}ie===null&&(V.lastBufferedRequest=null)}V.bufferedRequest=ie,V.bufferProcessing=!1}j.prototype._write=function(z,V,ie){ie(new b("_write()"))},j.prototype._writev=null,j.prototype.end=function(z,V,ie){var ue=this._writableState;return typeof z=="function"?(ie=z,z=null,V=null):typeof V=="function"&&(ie=V,V=null),z!=null&&this.write(z,V),ue.corked&&(ue.corked=1,this.uncork()),ue.ending||we(this,ue,ie),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ye(z){return z.ending&&z.length===0&&z.bufferedRequest===null&&!z.finished&&!z.writing}function he(z,V){z._final(function(ie){V.pendingcb--,ie&&Q(z,ie),V.prefinished=!0,z.emit("prefinish"),de(z,V)})}function ve(z,V){!V.prefinished&&!V.finalCalled&&(typeof z._final=="function"&&!V.destroyed?(V.pendingcb++,V.finalCalled=!0,s.nextTick(he,z,V)):(V.prefinished=!0,z.emit("prefinish")))}function de(z,V){var ie=ye(V);if(ie&&(ve(z,V),V.pendingcb===0&&(V.finished=!0,z.emit("finish"),V.autoDestroy))){var ue=z._readableState;(!ue||ue.autoDestroy&&ue.endEmitted)&&z.destroy()}return ie}function we(z,V,ie){V.ending=!0,de(z,V),ie&&(V.finished?s.nextTick(ie):z.once("finish",ie)),V.ended=!0,z.writable=!1}function ge(z,V,ie){var ue=z.entry;for(z.entry=null;ue;){var ce=ue.callback;V.pendingcb--,ce(ie),ue=ue.next}V.corkedRequestsFree.next=z}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),j.prototype.destroy=p.destroy,j.prototype._undestroy=p.undestroy,j.prototype._destroy=function(z,V){V(z)}}).call(this)}).call(this,f("_process"),typeof Ee<"u"?Ee:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":42,"./_stream_duplex":43,"./internal/streams/destroy":50,"./internal/streams/state":54,"./internal/streams/stream":55,_process:39,buffer:35,inherits:38,"util-deprecate":57}],48:[function(f,d,i){(function(s){(function(){var o;function r(R,A,U){return A in R?Object.defineProperty(R,A,{value:U,enumerable:!0,configurable:!0,writable:!0}):R[A]=U,R}var u=f("./end-of-stream"),n=Symbol("lastResolve"),e=Symbol("lastReject"),t=Symbol("error"),l=Symbol("ended"),a=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function S(R,A){return{value:R,done:A}}function _(R){var A=R[n];if(A!==null){var U=R[p].read();U!==null&&(R[a]=null,R[n]=null,R[e]=null,A(S(U,!1)))}}function v(R){s.nextTick(_,R)}function T(R,A){return function(U,F){R.then(function(){if(A[l]){U(S(void 0,!0));return}A[h](U,F)},F)}}var b=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((o={get stream(){return this[p]},next:function(){var A=this,U=this[t];if(U!==null)return Promise.reject(U);if(this[l])return Promise.resolve(S(void 0,!0));if(this[p].destroyed)return new Promise(function(re,J){s.nextTick(function(){A[t]?J(A[t]):re(S(void 0,!0))})});var F=this[a],Q;if(F)Q=new Promise(T(F,this));else{var ee=this[p].read();if(ee!==null)return Promise.resolve(S(ee,!1));Q=new Promise(this[h])}return this[a]=Q,Q}},r(o,Symbol.asyncIterator,function(){return this}),r(o,"return",function(){var A=this;return new Promise(function(U,F){A[p].destroy(null,function(Q){if(Q){F(Q);return}U(S(void 0,!0))})})}),o),b),E=function(A){var U,F=Object.create(x,(U={},r(U,p,{value:A,writable:!0}),r(U,n,{value:null,writable:!0}),r(U,e,{value:null,writable:!0}),r(U,t,{value:null,writable:!0}),r(U,l,{value:A._readableState.endEmitted,writable:!0}),r(U,h,{value:function(ee,re){var J=F[p].read();J?(F[a]=null,F[n]=null,F[e]=null,ee(S(J,!1))):(F[n]=ee,F[e]=re)},writable:!0}),U));return F[a]=null,u(A,function(Q){if(Q&&Q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ee=F[e];ee!==null&&(F[a]=null,F[n]=null,F[e]=null,ee(Q)),F[t]=Q;return}var re=F[n];re!==null&&(F[a]=null,F[n]=null,F[e]=null,re(S(void 0,!0))),F[l]=!0}),A.on("readable",v.bind(null,F)),F};d.exports=E}).call(this)}).call(this,f("_process"))},{"./end-of-stream":51,_process:39}],49:[function(f,d,i){function s(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(_);v&&(b=b.filter(function(x){return Object.getOwnPropertyDescriptor(_,x).enumerable})),T.push.apply(T,b)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?s(Object(T),!0).forEach(function(b){r(_,b,T[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):s(Object(T)).forEach(function(b){Object.defineProperty(_,b,Object.getOwnPropertyDescriptor(T,b))})}return _}function r(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}function u(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function n(_,v){for(var T=0;T<v.length;T++){var b=v[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}function e(_,v,T){return v&&n(_.prototype,v),_}var t=f("buffer"),l=t.Buffer,a=f("util"),h=a.inspect,p=h&&h.custom||"inspect";function S(_,v,T){l.prototype.copy.call(_,v,T)}d.exports=function(){function _(){u(this,_),this.head=null,this.tail=null,this.length=0}return e(_,[{key:"push",value:function(T){var b={data:T,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(T){var b={data:T,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var T=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,T}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(T){if(this.length===0)return"";for(var b=this.head,x=""+b.data;b=b.next;)x+=T+b.data;return x}},{key:"concat",value:function(T){if(this.length===0)return l.alloc(0);for(var b=l.allocUnsafe(T>>>0),x=this.head,E=0;x;)S(x.data,b,E),E+=x.data.length,x=x.next;return b}},{key:"consume",value:function(T,b){var x;return T<this.head.data.length?(x=this.head.data.slice(0,T),this.head.data=this.head.data.slice(T)):T===this.head.data.length?x=this.shift():x=b?this._getString(T):this._getBuffer(T),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(T){var b=this.head,x=1,E=b.data;for(T-=E.length;b=b.next;){var R=b.data,A=T>R.length?R.length:T;if(A===R.length?E+=R:E+=R.slice(0,T),T-=A,T===0){A===R.length?(++x,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=R.slice(A));break}++x}return this.length-=x,E}},{key:"_getBuffer",value:function(T){var b=l.allocUnsafe(T),x=this.head,E=1;for(x.data.copy(b),T-=x.data.length;x=x.next;){var R=x.data,A=T>R.length?R.length:T;if(R.copy(b,b.length-T,0,A),T-=A,T===0){A===R.length?(++E,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=R.slice(A));break}++E}return this.length-=E,b}},{key:p,value:function(T,b){return h(this,o({},b,{depth:0,customInspect:!1}))}}]),_}()},{buffer:35,util:33}],50:[function(f,d,i){(function(s){(function(){function o(l,a){var h=this,p=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return p||S?(a?a(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(e,this,l)):s.nextTick(e,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(_){!a&&_?h._writableState?h._writableState.errorEmitted?s.nextTick(u,h):(h._writableState.errorEmitted=!0,s.nextTick(r,h,_)):s.nextTick(r,h,_):a?(s.nextTick(u,h),a(_)):s.nextTick(u,h)}),this)}function r(l,a){e(l,a),u(l)}function u(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function e(l,a){l.emit("error",a)}function t(l,a){var h=l._readableState,p=l._writableState;h&&h.autoDestroy||p&&p.autoDestroy?l.destroy(a):l.emit("error",a)}d.exports={destroy:o,undestroy:n,errorOrDestroy:t}}).call(this)}).call(this,f("_process"))},{_process:39}],51:[function(f,d,i){var s=f("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(e){var t=!1;return function(){if(!t){t=!0;for(var l=arguments.length,a=new Array(l),h=0;h<l;h++)a[h]=arguments[h];e.apply(this,a)}}}function r(){}function u(e){return e.setHeader&&typeof e.abort=="function"}function n(e,t,l){if(typeof t=="function")return n(e,null,t);t||(t={}),l=o(l||r);var a=t.readable||t.readable!==!1&&e.readable,h=t.writable||t.writable!==!1&&e.writable,p=function(){e.writable||_()},S=e._writableState&&e._writableState.finished,_=function(){h=!1,S=!0,a||l.call(e)},v=e._readableState&&e._readableState.endEmitted,T=function(){a=!1,v=!0,h||l.call(e)},b=function(A){l.call(e,A)},x=function(){var A;if(a&&!v)return(!e._readableState||!e._readableState.ended)&&(A=new s),l.call(e,A);if(h&&!S)return(!e._writableState||!e._writableState.ended)&&(A=new s),l.call(e,A)},E=function(){e.req.on("finish",_)};return u(e)?(e.on("complete",_),e.on("abort",x),e.req?E():e.on("request",E)):h&&!e._writableState&&(e.on("end",p),e.on("close",p)),e.on("end",T),e.on("finish",_),t.error!==!1&&e.on("error",b),e.on("close",x),function(){e.removeListener("complete",_),e.removeListener("abort",x),e.removeListener("request",E),e.req&&e.req.removeListener("finish",_),e.removeListener("end",p),e.removeListener("close",p),e.removeListener("finish",_),e.removeListener("end",T),e.removeListener("error",b),e.removeListener("close",x)}}d.exports=n},{"../../../errors":42}],52:[function(f,d,i){d.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],53:[function(f,d,i){var s;function o(_){var v=!1;return function(){v||(v=!0,_.apply(void 0,arguments))}}var r=f("../../../errors").codes,u=r.ERR_MISSING_ARGS,n=r.ERR_STREAM_DESTROYED;function e(_){if(_)throw _}function t(_){return _.setHeader&&typeof _.abort=="function"}function l(_,v,T,b){b=o(b);var x=!1;_.on("close",function(){x=!0}),s===void 0&&(s=f("./end-of-stream")),s(_,{readable:v,writable:T},function(R){if(R)return b(R);x=!0,b()});var E=!1;return function(R){if(!x&&!E){if(E=!0,t(_))return _.abort();if(typeof _.destroy=="function")return _.destroy();b(R||new n("pipe"))}}}function a(_){_()}function h(_,v){return _.pipe(v)}function p(_){return!_.length||typeof _[_.length-1]!="function"?e:_.pop()}function S(){for(var _=arguments.length,v=new Array(_),T=0;T<_;T++)v[T]=arguments[T];var b=p(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new u("streams");var x,E=v.map(function(R,A){var U=A<v.length-1,F=A>0;return l(R,U,F,function(Q){x||(x=Q),Q&&E.forEach(a),!U&&(E.forEach(a),b(x))})});return v.reduce(h)}d.exports=S},{"../../../errors":42,"./end-of-stream":51}],54:[function(f,d,i){var s=f("../../../errors").codes.ERR_INVALID_OPT_VALUE;function o(u,n,e){return u.highWaterMark!=null?u.highWaterMark:n?u[e]:null}function r(u,n,e,t){var l=o(n,t,e);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var a=t?e:"highWaterMark";throw new s(a,l)}return Math.floor(l)}return u.objectMode?16:16*1024}d.exports={getHighWaterMark:r}},{"../../../errors":42}],55:[function(f,d,i){d.exports=f("events").EventEmitter},{events:36}],56:[function(f,d,i){var s=f("safe-buffer").Buffer,o=s.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(E){if(!E)return"utf8";for(var R;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(R)return;E=(""+E).toLowerCase(),R=!0}}function u(E){var R=r(E);if(typeof R!="string"&&(s.isEncoding===o||!o(E)))throw new Error("Unknown encoding: "+E);return R||E}i.StringDecoder=n;function n(E){this.encoding=u(E);var R;switch(this.encoding){case"utf16le":this.text=S,this.end=_,R=4;break;case"utf8":this.fillLast=a,R=4;break;case"base64":this.text=v,this.end=T,R=3;break;default:this.write=b,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(R)}n.prototype.write=function(E){if(E.length===0)return"";var R,A;if(this.lastNeed){if(R=this.fillLast(E),R===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<E.length?R?R+this.text(E,A):this.text(E,A):R||""},n.prototype.end=p,n.prototype.text=h,n.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function e(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function t(E,R,A){var U=R.length-1;if(U<A)return 0;var F=e(R[U]);return F>=0?(F>0&&(E.lastNeed=F-1),F):--U<A||F===-2?0:(F=e(R[U]),F>=0?(F>0&&(E.lastNeed=F-2),F):--U<A||F===-2?0:(F=e(R[U]),F>=0?(F>0&&(F===2?F=0:E.lastNeed=F-3),F):0))}function l(E,R,A){if((R[0]&192)!==128)return E.lastNeed=0,"ï¿½";if(E.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return E.lastNeed=1,"ï¿½";if(E.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return E.lastNeed=2,"ï¿½"}}function a(E){var R=this.lastTotal-this.lastNeed,A=l(this,E);if(A!==void 0)return A;if(this.lastNeed<=E.length)return E.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,R,0,E.length),this.lastNeed-=E.length}function h(E,R){var A=t(this,E,R);if(!this.lastNeed)return E.toString("utf8",R);this.lastTotal=A;var U=E.length-(A-this.lastNeed);return E.copy(this.lastChar,0,U),E.toString("utf8",R,U)}function p(E){var R=E&&E.length?this.write(E):"";return this.lastNeed?R+"ï¿½":R}function S(E,R){if((E.length-R)%2===0){var A=E.toString("utf16le",R);if(A){var U=A.charCodeAt(A.length-1);if(U>=55296&&U<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",R,E.length-1)}function _(E){var R=E&&E.length?this.write(E):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,A)}return R}function v(E,R){var A=(E.length-R)%3;return A===0?E.toString("base64",R):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",R,E.length-A))}function T(E){var R=E&&E.length?this.write(E):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function b(E){return E.toString(this.encoding)}function x(E){return E&&E.length?this.write(E):""}},{"safe-buffer":40}],57:[function(f,d,i){(function(s){(function(){d.exports=o;function o(u,n){if(r("noDeprecation"))return u;var e=!1;function t(){if(!e){if(r("throwDeprecation"))throw new Error(n);r("traceDeprecation")?console.trace(n):console.warn(n),e=!0}return u.apply(this,arguments)}return t}function r(u){try{if(!s.localStorage)return!1}catch{return!1}var n=s.localStorage[u];return n==null?!1:String(n).toLowerCase()==="true"}}).call(this)}).call(this,typeof Ee<"u"?Ee:typeof self<"u"?self:typeof window<"u"?window:{})},{}],58:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return a.default}});var s=h(f("./v1.js")),o=h(f("./v3.js")),r=h(f("./v4.js")),u=h(f("./v5.js")),n=h(f("./nil.js")),e=h(f("./version.js")),t=h(f("./validate.js")),l=h(f("./stringify.js")),a=h(f("./parse.js"));function h(p){return p&&p.__esModule?p:{default:p}}},{"./nil.js":60,"./parse.js":61,"./stringify.js":65,"./v1.js":66,"./v3.js":67,"./v4.js":69,"./v5.js":70,"./validate.js":71,"./version.js":72}],59:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;function s(v){if(typeof v=="string"){const T=unescape(encodeURIComponent(v));v=new Uint8Array(T.length);for(let b=0;b<T.length;++b)v[b]=T.charCodeAt(b)}return o(u(n(v),v.length*8))}function o(v){const T=[],b=v.length*32,x="0123456789abcdef";for(let E=0;E<b;E+=8){const R=v[E>>5]>>>E%32&255,A=parseInt(x.charAt(R>>>4&15)+x.charAt(R&15),16);T.push(A)}return T}function r(v){return(v+64>>>9<<4)+14+1}function u(v,T){v[T>>5]|=128<<T%32,v[r(T)-1]=T;let b=1732584193,x=-271733879,E=-1732584194,R=271733878;for(let A=0;A<v.length;A+=16){const U=b,F=x,Q=E,ee=R;b=a(b,x,E,R,v[A],7,-680876936),R=a(R,b,x,E,v[A+1],12,-389564586),E=a(E,R,b,x,v[A+2],17,606105819),x=a(x,E,R,b,v[A+3],22,-1044525330),b=a(b,x,E,R,v[A+4],7,-176418897),R=a(R,b,x,E,v[A+5],12,1200080426),E=a(E,R,b,x,v[A+6],17,-1473231341),x=a(x,E,R,b,v[A+7],22,-45705983),b=a(b,x,E,R,v[A+8],7,1770035416),R=a(R,b,x,E,v[A+9],12,-1958414417),E=a(E,R,b,x,v[A+10],17,-42063),x=a(x,E,R,b,v[A+11],22,-1990404162),b=a(b,x,E,R,v[A+12],7,1804603682),R=a(R,b,x,E,v[A+13],12,-40341101),E=a(E,R,b,x,v[A+14],17,-1502002290),x=a(x,E,R,b,v[A+15],22,1236535329),b=h(b,x,E,R,v[A+1],5,-165796510),R=h(R,b,x,E,v[A+6],9,-1069501632),E=h(E,R,b,x,v[A+11],14,643717713),x=h(x,E,R,b,v[A],20,-373897302),b=h(b,x,E,R,v[A+5],5,-701558691),R=h(R,b,x,E,v[A+10],9,38016083),E=h(E,R,b,x,v[A+15],14,-660478335),x=h(x,E,R,b,v[A+4],20,-405537848),b=h(b,x,E,R,v[A+9],5,568446438),R=h(R,b,x,E,v[A+14],9,-1019803690),E=h(E,R,b,x,v[A+3],14,-187363961),x=h(x,E,R,b,v[A+8],20,1163531501),b=h(b,x,E,R,v[A+13],5,-1444681467),R=h(R,b,x,E,v[A+2],9,-51403784),E=h(E,R,b,x,v[A+7],14,1735328473),x=h(x,E,R,b,v[A+12],20,-1926607734),b=p(b,x,E,R,v[A+5],4,-378558),R=p(R,b,x,E,v[A+8],11,-2022574463),E=p(E,R,b,x,v[A+11],16,1839030562),x=p(x,E,R,b,v[A+14],23,-35309556),b=p(b,x,E,R,v[A+1],4,-1530992060),R=p(R,b,x,E,v[A+4],11,1272893353),E=p(E,R,b,x,v[A+7],16,-155497632),x=p(x,E,R,b,v[A+10],23,-1094730640),b=p(b,x,E,R,v[A+13],4,681279174),R=p(R,b,x,E,v[A],11,-358537222),E=p(E,R,b,x,v[A+3],16,-722521979),x=p(x,E,R,b,v[A+6],23,76029189),b=p(b,x,E,R,v[A+9],4,-640364487),R=p(R,b,x,E,v[A+12],11,-421815835),E=p(E,R,b,x,v[A+15],16,530742520),x=p(x,E,R,b,v[A+2],23,-995338651),b=S(b,x,E,R,v[A],6,-198630844),R=S(R,b,x,E,v[A+7],10,1126891415),E=S(E,R,b,x,v[A+14],15,-1416354905),x=S(x,E,R,b,v[A+5],21,-57434055),b=S(b,x,E,R,v[A+12],6,1700485571),R=S(R,b,x,E,v[A+3],10,-1894986606),E=S(E,R,b,x,v[A+10],15,-1051523),x=S(x,E,R,b,v[A+1],21,-2054922799),b=S(b,x,E,R,v[A+8],6,1873313359),R=S(R,b,x,E,v[A+15],10,-30611744),E=S(E,R,b,x,v[A+6],15,-1560198380),x=S(x,E,R,b,v[A+13],21,1309151649),b=S(b,x,E,R,v[A+4],6,-145523070),R=S(R,b,x,E,v[A+11],10,-1120210379),E=S(E,R,b,x,v[A+2],15,718787259),x=S(x,E,R,b,v[A+9],21,-343485551),b=e(b,U),x=e(x,F),E=e(E,Q),R=e(R,ee)}return[b,x,E,R]}function n(v){if(v.length===0)return[];const T=v.length*8,b=new Uint32Array(r(T));for(let x=0;x<T;x+=8)b[x>>5]|=(v[x/8]&255)<<x%32;return b}function e(v,T){const b=(v&65535)+(T&65535);return(v>>16)+(T>>16)+(b>>16)<<16|b&65535}function t(v,T){return v<<T|v>>>32-T}function l(v,T,b,x,E,R){return e(t(e(e(T,v),e(x,R)),E),b)}function a(v,T,b,x,E,R,A){return l(T&b|~T&x,v,T,E,R,A)}function h(v,T,b,x,E,R,A){return l(T&x|b&~x,v,T,E,R,A)}function p(v,T,b,x,E,R,A){return l(T^b^x,v,T,E,R,A)}function S(v,T,b,x,E,R,A){return l(b^(T|~x),v,T,E,R,A)}var _=s;i.default=_},{}],60:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s="00000000-0000-0000-0000-000000000000";i.default=s},{}],61:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(f("./validate.js"));function o(n){return n&&n.__esModule?n:{default:n}}function r(n){if(!(0,s.default)(n))throw TypeError("Invalid UUID");let e;const t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var u=r;i.default=u},{"./validate.js":71}],62:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;i.default=s},{}],63:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=r;let s;const o=new Uint8Array(16);function r(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(o)}},{}],64:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;function s(n,e,t,l){switch(n){case 0:return e&t^~e&l;case 1:return e^t^l;case 2:return e&t^e&l^t&l;case 3:return e^t^l}}function o(n,e){return n<<e|n>>>32-e}function r(n){const e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){const p=unescape(encodeURIComponent(n));n=[];for(let S=0;S<p.length;++S)n.push(p.charCodeAt(S))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);const l=n.length/4+2,a=Math.ceil(l/16),h=new Array(a);for(let p=0;p<a;++p){const S=new Uint32Array(16);for(let _=0;_<16;++_)S[_]=n[p*64+_*4]<<24|n[p*64+_*4+1]<<16|n[p*64+_*4+2]<<8|n[p*64+_*4+3];h[p]=S}h[a-1][14]=(n.length-1)*8/Math.pow(2,32),h[a-1][14]=Math.floor(h[a-1][14]),h[a-1][15]=(n.length-1)*8&4294967295;for(let p=0;p<a;++p){const S=new Uint32Array(80);for(let E=0;E<16;++E)S[E]=h[p][E];for(let E=16;E<80;++E)S[E]=o(S[E-3]^S[E-8]^S[E-14]^S[E-16],1);let _=t[0],v=t[1],T=t[2],b=t[3],x=t[4];for(let E=0;E<80;++E){const R=Math.floor(E/20),A=o(_,5)+s(R,v,T,b)+x+e[R]+S[E]>>>0;x=b,b=T,T=o(v,30)>>>0,v=_,_=A}t[0]=t[0]+_>>>0,t[1]=t[1]+v>>>0,t[2]=t[2]+T>>>0,t[3]=t[3]+b>>>0,t[4]=t[4]+x>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var u=r;i.default=u},{}],65:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(f("./validate.js"));function o(e){return e&&e.__esModule?e:{default:e}}const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).substr(1));function u(e,t=0){const l=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!(0,s.default)(l))throw TypeError("Stringified UUID is invalid");return l}var n=u;i.default=n},{"./validate.js":71}],66:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=r(f("./rng.js")),o=r(f("./stringify.js"));function r(h){return h&&h.__esModule?h:{default:h}}let u,n,e=0,t=0;function l(h,p,S){let _=p&&S||0;const v=p||new Array(16);h=h||{};let T=h.node||u,b=h.clockseq!==void 0?h.clockseq:n;if(T==null||b==null){const F=h.random||(h.rng||s.default)();T==null&&(T=u=[F[0]|1,F[1],F[2],F[3],F[4],F[5]]),b==null&&(b=n=(F[6]<<8|F[7])&16383)}let x=h.msecs!==void 0?h.msecs:Date.now(),E=h.nsecs!==void 0?h.nsecs:t+1;const R=x-e+(E-t)/1e4;if(R<0&&h.clockseq===void 0&&(b=b+1&16383),(R<0||x>e)&&h.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");e=x,t=E,n=b,x+=122192928e5;const A=((x&268435455)*1e4+E)%4294967296;v[_++]=A>>>24&255,v[_++]=A>>>16&255,v[_++]=A>>>8&255,v[_++]=A&255;const U=x/4294967296*1e4&268435455;v[_++]=U>>>8&255,v[_++]=U&255,v[_++]=U>>>24&15|16,v[_++]=U>>>16&255,v[_++]=b>>>8|128,v[_++]=b&255;for(let F=0;F<6;++F)v[_+F]=T[F];return p||(0,o.default)(v)}var a=l;i.default=a},{"./rng.js":63,"./stringify.js":65}],67:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=r(f("./v35.js")),o=r(f("./md5.js"));function r(e){return e&&e.__esModule?e:{default:e}}var n=(0,s.default)("v3",48,o.default);i.default=n},{"./md5.js":59,"./v35.js":68}],68:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=t,i.URL=i.DNS=void 0;var s=r(f("./stringify.js")),o=r(f("./parse.js"));function r(l){return l&&l.__esModule?l:{default:l}}function u(l){l=unescape(encodeURIComponent(l));const a=[];for(let h=0;h<l.length;++h)a.push(l.charCodeAt(h));return a}const n="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=n;const e="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=e;function t(l,a,h){function p(S,_,v,T){if(typeof S=="string"&&(S=u(S)),typeof _=="string"&&(_=(0,o.default)(_)),_.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let b=new Uint8Array(16+S.length);if(b.set(_),b.set(S,_.length),b=h(b),b[6]=b[6]&15|a,b[8]=b[8]&63|128,v){T=T||0;for(let x=0;x<16;++x)v[T+x]=b[x];return v}return(0,s.default)(b)}try{p.name=l}catch{}return p.DNS=n,p.URL=e,p}},{"./parse.js":61,"./stringify.js":65}],69:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=r(f("./rng.js")),o=r(f("./stringify.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t,l){e=e||{};const a=e.random||(e.rng||s.default)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){l=l||0;for(let h=0;h<16;++h)t[l+h]=a[h];return t}return(0,o.default)(a)}var n=u;i.default=n},{"./rng.js":63,"./stringify.js":65}],70:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=r(f("./v35.js")),o=r(f("./sha1.js"));function r(e){return e&&e.__esModule?e:{default:e}}var n=(0,s.default)("v5",80,o.default);i.default=n},{"./sha1.js":64,"./v35.js":68}],71:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(f("./regex.js"));function o(n){return n&&n.__esModule?n:{default:n}}function r(n){return typeof n=="string"&&s.default.test(n)}var u=r;i.default=u},{"./regex.js":62}],72:[function(f,d,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(f("./validate.js"));function o(n){return n&&n.__esModule?n:{default:n}}function r(n){if(!(0,s.default)(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}var u=r;i.default=u},{"./validate.js":71}]},{},[9])(9)})}(oo)),oo.exports}var ao={},Nl;function Sp(){return Nl||(Nl=1,function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;function m(){var d={};return d.promise=new Promise(function(i,s){d.reject=s,d.resolve=i}),d}var f=m;c.default=f}(ao)),ao}var Dr={exports:{}},Fl;function Ep(){return Fl||(Fl=1,function(c,m){var f=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ee<"u"&&Ee,d=function(){function s(){this.fetch=!1,this.DOMException=f.DOMException}return s.prototype=f,new s}();(function(s){(function(o){var r=typeof s<"u"&&s||typeof self<"u"&&self||typeof Ee<"u"&&Ee||{},u={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function n(j){return j&&DataView.prototype.isPrototypeOf(j)}if(u.arrayBuffer)var e=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],t=ArrayBuffer.isView||function(j){return j&&e.indexOf(Object.prototype.toString.call(j))>-1};function l(j){if(typeof j!="string"&&(j=String(j)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(j)||j==="")throw new TypeError('Invalid character in header field name: "'+j+'"');return j.toLowerCase()}function a(j){return typeof j!="string"&&(j=String(j)),j}function h(j){var C={next:function(){var H=j.shift();return{done:H===void 0,value:H}}};return u.iterable&&(C[Symbol.iterator]=function(){return C}),C}function p(j){this.map={},j instanceof p?j.forEach(function(C,H){this.append(H,C)},this):Array.isArray(j)?j.forEach(function(C){if(C.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+C.length);this.append(C[0],C[1])},this):j&&Object.getOwnPropertyNames(j).forEach(function(C){this.append(C,j[C])},this)}p.prototype.append=function(j,C){j=l(j),C=a(C);var H=this.map[j];this.map[j]=H?H+", "+C:C},p.prototype.delete=function(j){delete this.map[l(j)]},p.prototype.get=function(j){return j=l(j),this.has(j)?this.map[j]:null},p.prototype.has=function(j){return this.map.hasOwnProperty(l(j))},p.prototype.set=function(j,C){this.map[l(j)]=a(C)},p.prototype.forEach=function(j,C){for(var H in this.map)this.map.hasOwnProperty(H)&&j.call(C,this.map[H],H,this)},p.prototype.keys=function(){var j=[];return this.forEach(function(C,H){j.push(H)}),h(j)},p.prototype.values=function(){var j=[];return this.forEach(function(C){j.push(C)}),h(j)},p.prototype.entries=function(){var j=[];return this.forEach(function(C,H){j.push([H,C])}),h(j)},u.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function S(j){if(!j._noBody){if(j.bodyUsed)return Promise.reject(new TypeError("Already read"));j.bodyUsed=!0}}function _(j){return new Promise(function(C,H){j.onload=function(){C(j.result)},j.onerror=function(){H(j.error)}})}function v(j){var C=new FileReader,H=_(C);return C.readAsArrayBuffer(j),H}function T(j){var C=new FileReader,H=_(C),K=/charset=([A-Za-z0-9_-]+)/.exec(j.type),D=K?K[1]:"utf-8";return C.readAsText(j,D),H}function b(j){for(var C=new Uint8Array(j),H=new Array(C.length),K=0;K<C.length;K++)H[K]=String.fromCharCode(C[K]);return H.join("")}function x(j){if(j.slice)return j.slice(0);var C=new Uint8Array(j.byteLength);return C.set(new Uint8Array(j)),C.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(j){this.bodyUsed=this.bodyUsed,this._bodyInit=j,j?typeof j=="string"?this._bodyText=j:u.blob&&Blob.prototype.isPrototypeOf(j)?this._bodyBlob=j:u.formData&&FormData.prototype.isPrototypeOf(j)?this._bodyFormData=j:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(j)?this._bodyText=j.toString():u.arrayBuffer&&u.blob&&n(j)?(this._bodyArrayBuffer=x(j.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(j)||t(j))?this._bodyArrayBuffer=x(j):this._bodyText=j=Object.prototype.toString.call(j):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof j=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(j)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var j=S(this);if(j)return j;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var j=S(this);return j||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var j=S(this);if(j)return j;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A(j){var C=j.toUpperCase();return R.indexOf(C)>-1?C:j}function U(j,C){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C=C||{};var H=C.body;if(j instanceof U){if(j.bodyUsed)throw new TypeError("Already read");this.url=j.url,this.credentials=j.credentials,C.headers||(this.headers=new p(j.headers)),this.method=j.method,this.mode=j.mode,this.signal=j.signal,!H&&j._bodyInit!=null&&(H=j._bodyInit,j.bodyUsed=!0)}else this.url=String(j);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new p(C.headers)),this.method=A(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal||function(){if("AbortController"in r){var N=new AbortController;return N.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(H),(this.method==="GET"||this.method==="HEAD")&&(C.cache==="no-store"||C.cache==="no-cache")){var K=/([?&])_=[^&]*/;if(K.test(this.url))this.url=this.url.replace(K,"$1_="+new Date().getTime());else{var D=/\?/;this.url+=(D.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function F(j){var C=new FormData;return j.trim().split("&").forEach(function(H){if(H){var K=H.split("="),D=K.shift().replace(/\+/g," "),N=K.join("=").replace(/\+/g," ");C.append(decodeURIComponent(D),decodeURIComponent(N))}}),C}function Q(j){var C=new p,H=j.replace(/\r?\n[\t ]+/g," ");return H.split("\r").map(function(K){return K.indexOf(`
`)===0?K.substr(1,K.length):K}).forEach(function(K){var D=K.split(":"),N=D.shift().trim();if(N){var W=D.join(":").trim();try{C.append(N,W)}catch(X){console.warn("Response "+X.message)}}}),C}E.call(U.prototype);function ee(j,C){if(!(this instanceof ee))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=C.statusText===void 0?"":""+C.statusText,this.headers=new p(C.headers),this.url=C.url||"",this._initBody(j)}E.call(ee.prototype),ee.prototype.clone=function(){return new ee(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},ee.error=function(){var j=new ee(null,{status:200,statusText:""});return j.ok=!1,j.status=0,j.type="error",j};var re=[301,302,303,307,308];ee.redirect=function(j,C){if(re.indexOf(C)===-1)throw new RangeError("Invalid status code");return new ee(null,{status:C,headers:{location:j}})},o.DOMException=r.DOMException;try{new o.DOMException}catch{o.DOMException=function(C,H){this.message=C,this.name=H;var K=Error(C);this.stack=K.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function J(j,C){return new Promise(function(H,K){var D=new U(j,C);if(D.signal&&D.signal.aborted)return K(new o.DOMException("Aborted","AbortError"));var N=new XMLHttpRequest;function W(){N.abort()}N.onload=function(){var te={statusText:N.statusText,headers:Q(N.getAllResponseHeaders()||"")};D.url.indexOf("file://")===0&&(N.status<200||N.status>599)?te.status=200:te.status=N.status,te.url="responseURL"in N?N.responseURL:te.headers.get("X-Request-URL");var se="response"in N?N.response:N.responseText;setTimeout(function(){H(new ee(se,te))},0)},N.onerror=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},N.ontimeout=function(){setTimeout(function(){K(new TypeError("Network request timed out"))},0)},N.onabort=function(){setTimeout(function(){K(new o.DOMException("Aborted","AbortError"))},0)};function X(te){try{return te===""&&r.location.href?r.location.href:te}catch{return te}}if(N.open(D.method,X(D.url),!0),D.credentials==="include"?N.withCredentials=!0:D.credentials==="omit"&&(N.withCredentials=!1),"responseType"in N&&(u.blob?N.responseType="blob":u.arrayBuffer&&(N.responseType="arraybuffer")),C&&typeof C.headers=="object"&&!(C.headers instanceof p||r.Headers&&C.headers instanceof r.Headers)){var oe=[];Object.getOwnPropertyNames(C.headers).forEach(function(te){oe.push(l(te)),N.setRequestHeader(te,a(C.headers[te]))}),D.headers.forEach(function(te,se){oe.indexOf(se)===-1&&N.setRequestHeader(se,te)})}else D.headers.forEach(function(te,se){N.setRequestHeader(se,te)});D.signal&&(D.signal.addEventListener("abort",W),N.onreadystatechange=function(){N.readyState===4&&D.signal.removeEventListener("abort",W)}),N.send(typeof D._bodyInit>"u"?null:D._bodyInit)})}return J.polyfill=!0,r.fetch||(r.fetch=J,r.Headers=p,r.Request=U,r.Response=ee),o.Headers=p,o.Request=U,o.Response=ee,o.fetch=J,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(d),d.fetch.ponyfill=!0,delete d.fetch.polyfill;var i=f.fetch?f:d;m=i.fetch,m.default=i.fetch,m.fetch=i.fetch,m.Headers=i.Headers,m.Request=i.Request,m.Response=i.Response,c.exports=m}(Dr,Dr.exports)),Dr.exports}var so={},uo={exports:{}},$l;function Gf(){return $l||($l=1,function(c){function m(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(uo)),uo.exports}var co={exports:{}},lo={exports:{}},fo={exports:{}},Wl;function Vf(){return Wl||(Wl=1,function(c){function m(f){return c.exports=m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},c.exports.__esModule=!0,c.exports.default=c.exports,m(f)}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(fo)),fo.exports}var Hl;function Op(){return Hl||(Hl=1,function(c){var m=Vf();function f(d,i){for(;!{}.hasOwnProperty.call(d,i)&&(d=m(d))!==null;);return d}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports}(lo)),lo.exports}var Gl;function Rp(){return Gl||(Gl=1,function(c){var m=Op();function f(){return c.exports=f=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(d,i,s){var o=m(d,i);if(o){var r=Object.getOwnPropertyDescriptor(o,i);return r.get?r.get.call(arguments.length<3?d:s):r.value}},c.exports.__esModule=!0,c.exports.default=c.exports,f.apply(null,arguments)}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports}(co)),co.exports}var ho={exports:{}},po={exports:{}},Vl;function xp(){return Vl||(Vl=1,function(c){function m(f,d){return c.exports=m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},c.exports.__esModule=!0,c.exports.default=c.exports,m(f,d)}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports}(po)),po.exports}var Kl;function Tp(){return Kl||(Kl=1,function(c){var m=xp();function f(d,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(i&&i.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),i&&m(d,i)}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports}(ho)),ho.exports}var vo={exports:{}},Yl;function Ap(){return Yl||(Yl=1,function(c){var m=Ge().default,f=Gf();function d(i,s){if(s&&(m(s)=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(i)}c.exports=d,c.exports.__esModule=!0,c.exports.default=c.exports}(vo)),vo.exports}var zl;function Pp(){return zl||(zl=1,function(c){var m=Ar();Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var f=m(bo()),d=m(mo()),i=m(Gf()),s=m(Rp()),o=m(Tp()),r=m(Ap()),u=m(Vf()),n=m($f()),e=m(Wf()),t=Hf();function l(T){var b=a();return function(){var E=(0,u.default)(T),R;if(b){var A=(0,u.default)(this).constructor;R=Reflect.construct(E,arguments,A)}else R=E.apply(this,arguments);return(0,r.default)(this,R)}}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var h=new WeakMap,p=new WeakMap,S=new WeakMap,_=new WeakMap,v=function(T){(0,o.default)(x,T);var b=l(x);function x(E){var R,A=E.disconnectionHandler,U=E.networkInformation,F=E.requestHandler,Q=E.url;return(0,f.default)(this,x),R=b.call(this,{disconnectionHandler:A,requestHandler:F,url:Q}),h.set((0,i.default)(R),{writable:!0,value:!1}),p.set((0,i.default)(R),{writable:!0,value:function(){return(0,n.default)((0,i.default)(R),S)===(0,n.default)((0,i.default)(R),_).type||R.disconnect()}}),S.set((0,i.default)(R),{writable:!0,value:void 0}),_.set((0,i.default)(R),{writable:!0,value:void 0}),(0,e.default)((0,i.default)(R),_,U),R}return(0,d.default)(x,[{key:"connect",value:function(){if((0,n.default)(this,h))return console.warn("botframework-directlinejs: connect() can only be called once."),Promise.resolve();if((0,e.default)(this,h,!0),(0,n.default)(this,_)){var R=(0,n.default)(this,_),A=R.type;if((0,e.default)(this,S,A),A==="none")return console.warn("botframework-directlinejs: Failed to connect while offline."),Promise.reject(new Error("botframework-directlinejs: Failed to connect while offline."));(0,n.default)(this,_).addEventListener("change",(0,n.default)(this,p))}return(0,s.default)((0,u.default)(x.prototype),"connect",this).call(this)}},{key:"disconnect",value:function(){var R;(R=(0,n.default)(this,_))===null||R===void 0||R.removeEventListener("change",(0,n.default)(this,p)),(0,s.default)((0,u.default)(x.prototype),"disconnect",this).call(this)}}]),x}(t.WebSocketClient);c.default=v}(so)),so}var Jl;function Ip(){if(Jl)return Rr;Jl=1;var c=Ar(),m=Ge();Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.DirectLineStreaming=void 0;var f=c(Ql()),d=c(fp()),i=c($f()),s=c(Wf()),o=c(bp()),r=c(mp()),u=c(bo()),n=c(mo()),e=c(ef()),t=If(),l=gp(),a=_e(),h=x(Hf()),p=c(Sp()),S=c(Ep()),_=Cp(),v=c(Pp()),T=["attachments"];function b(re){if(typeof WeakMap!="function")return null;var J=new WeakMap,j=new WeakMap;return(b=function(H){return H?j:J})(re)}function x(re,J){if(re&&re.__esModule)return re;if(re===null||m(re)!=="object"&&typeof re!="function")return{default:re};var j=b(J);if(j&&j.has(re))return j.get(re);var C={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in re)if(K!=="default"&&Object.prototype.hasOwnProperty.call(re,K)){var D=H?Object.getOwnPropertyDescriptor(re,K):null;D&&(D.get||D.set)?Object.defineProperty(C,K,D):C[K]=re[K]}return C.default=re,j&&j.set(re,C),C}var E="DirectLine/3.0",R=3,A=30*60*1e3,U=A/2,F=function(){function re(J,j,C){(0,u.default)(this,re),(0,e.default)(this,"activityQueue",[]),this.subscriber=J,this.connectionStatus$=j,this.shouldQueue=C}return(0,n.default)(re,[{key:"setSubscriber",value:function(j){this.subscriber=j}},{key:"processRequest",value:function(){var J=(0,r.default)(d.default.mark(function C(H,K){var D,N,W,X,oe,te,se,fe,ye;return d.default.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return D=(0,o.default)(H.streams),N=D.shift(),ve.next=4,N.readAsString();case 4:if(W=ve.sent,X=JSON.parse(W),X.activities.length===1){ve.next=9;break}return this.subscriber.error(new Error("there should be exactly one activity")),ve.abrupt("return",h.StreamingResponse.create(500));case 9:if(oe=X.activities[0],!(D.length>0)){ve.next=21;break}te=(0,o.default)(oe.attachments);case 12:if(!(se=D.shift())){ve.next=20;break}return ve.next=15,se.readAsString();case 15:fe=ve.sent,ye="data:text/plain;base64,"+fe,te.push({contentType:se.contentType,contentUrl:ye}),ve.next=12;break;case 20:oe.attachments=te;case 21:return this.shouldQueue()?this.activityQueue.push(oe):this.subscriber.next(oe),ve.abrupt("return",h.StreamingResponse.create(200));case 23:case"end":return ve.stop()}},C,this)}));function j(C,H){return J.apply(this,arguments)}return j}()},{key:"flush",value:function(){var j=this;this.connectionStatus$.subscribe(function(){}),this.activityQueue.forEach(function(C){return j.subscriber.next(C)}),this.activityQueue=[]}},{key:"end",value:function(){this.subscriber.complete()}}]),re}(),Q=new WeakMap,ee=function(){function re(J){var j=this;(0,u.default)(this,re),(0,e.default)(this,"connectionStatus$",new t.BehaviorSubject(_.ConnectionStatus.Uninitialized)),(0,e.default)(this,"_botAgent",""),Q.set(this,{writable:!0,value:void 0});var C=J?.networkInformation;typeof C>"u"||typeof C.addEventListener=="function"&&typeof C.removeEventListener=="function"&&typeof C.type=="string"?(0,s.default)(this,Q,C):console.warn('botframework-directlinejs: "networkInformation" option specified must be a `NetworkInformation`-like instance extending `EventTarget` interface with a `type` property returning a string.'),this.token=J.token,this.refreshToken().catch(function(){j.connectionStatus$.next(_.ConnectionStatus.ExpiredToken)}),this.domain=J.domain,J.conversationId&&(this.conversationId=J.conversationId),this._botAgent=this.getBotAgent(J.botAgent),this.queueActivities=!0,this.activity$=a.Observable.create(function(){var H=(0,r.default)(d.default.mark(function K(D){return d.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:j.activitySubscriber=D,j.theStreamHandler=new F(D,j.connectionStatus$,function(){return j.queueActivities}),j.connectDeferred.resolve();case 3:case"end":return W.stop()}},K)}));return function(K){return H.apply(this,arguments)}}()).share(),this.connectWithRetryAsync()}return(0,n.default)(re,[{key:"reconnect",value:function(j){var C=j.conversationId,H=j.token;if(this.connectionStatus$.getValue()===_.ConnectionStatus.Ended)throw new Error("Connection has ended.");this.conversationId=C,this.token=H,this.connectDeferred.resolve()}},{key:"end",value:function(){this.activitySubscriber.complete(),this.connectionStatus$.next(_.ConnectionStatus.Ended),this.connectionStatus$.complete(),this.streamConnection.disconnect()}},{key:"commonHeaders",value:function(){return{Authorization:"Bearer ".concat(this.token),"x-ms-bot-agent":this._botAgent}}},{key:"getBotAgent",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C="directlineStreaming";return j&&(C+="; ".concat(j)),"".concat(E," (").concat(C,")")}},{key:"refreshToken",value:function(){var J=(0,r.default)(d.default.mark(function C(){var H,K,D,N;return d.default.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=4,this.waitUntilOnline();case 4:H=0;case 5:if(!(H<R)){X.next=30;break}return H++,X.next=9,new Promise(function(oe){return setTimeout(oe,U)});case 9:return X.prev=9,X.next=12,(0,S.default)("".concat(this.domain,"/tokens/refresh"),{method:"POST",headers:this.commonHeaders()});case 12:if(K=X.sent,!K.ok){X.next=22;break}return H=0,X.next=17,K.json();case 17:D=X.sent,N=D.token,this.token=N,X.next=23;break;case 22:K.status===403||K.status===403?(console.error("Fatal error while refreshing the token: ".concat(K.status," ").concat(K.statusText)),this.streamConnection.disconnect()):console.warn("Refresh attempt #".concat(H," failed: ").concat(K.status," ").concat(K.statusText));case 23:X.next=28;break;case 25:X.prev=25,X.t0=X.catch(9),console.warn("Refresh attempt #".concat(H," threw an exception: ").concat(X.t0));case 28:X.next=5;break;case 30:console.error("Retries exhausted"),this.streamConnection.disconnect();case 32:case"end":return X.stop()}},C,this,[[9,25]])}));function j(){return J.apply(this,arguments)}return j}()},{key:"postActivity",value:function(j){var C=this;if(this.connectionStatus$.value===_.ConnectionStatus.Ended||this.connectionStatus$.value===_.ConnectionStatus.FailedToConnect)return a.Observable.throw(new Error("Connection is closed"));if(j.type==="message"&&j.attachments&&j.attachments.length>0)return this.postMessageWithAttachments(j);var H=a.Observable.create(function(){var K=(0,r.default)(d.default.mark(function D(N){var W,X,oe,te,se,fe;return d.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return W=h.StreamingRequest.create("POST","/v3/directline/conversations/"+C.conversationId+"/activities"),W.setBody(JSON.stringify(j)),he.prev=2,he.next=5,C.streamConnection.send(W);case 5:if(X=he.sent,X.statusCode===200){he.next=8;break}throw new Error("PostActivity returned "+X.statusCode);case 8:if(oe=X.streams.length,oe===1){he.next=11;break}throw new Error("Expected one stream but got "+oe);case 11:return he.next=13,X.streams[0].readAsString();case 13:return te=he.sent,se=JSON.parse(te),fe=se.Id,N.next(fe),he.abrupt("return",N.complete());case 19:return he.prev=19,he.t0=he.catch(2),console.warn(he.t0),C.streamConnection.disconnect(),he.abrupt("return",N.error(he.t0));case 24:case"end":return he.stop()}},D,null,[[2,19]])}));return function(D){return K.apply(this,arguments)}}());return H}},{key:"postMessageWithAttachments",value:function(j){var C=this,H=j.attachments,K=(0,f.default)(j,T);return a.Observable.create(function(D){var N=[];(0,r.default)(d.default.mark(function W(){var X,oe,te,se,fe,ye,he;return d.default.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.prev=0,de.next=3,Promise.all(H.map(function(){var we=(0,r.default)(d.default.mark(function ge(z){var V,ie;return d.default.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return V=z,ce.next=3,(0,S.default)(V.contentUrl);case 3:if(ie=ce.sent,!ie.ok){ce.next=12;break}return ce.next=7,ie.arrayBuffer();case 7:return ce.t0=ce.sent,ce.t1=V,ce.abrupt("return",{arrayBuffer:ce.t0,media:ce.t1});case 12:throw new Error("...");case 13:case"end":return ce.stop()}},ge)}));return function(ge){return we.apply(this,arguments)}}()));case 3:return X=de.sent,X.forEach(function(we){var ge=we.arrayBuffer,z=we.media,V=l.Buffer.from(ge),ie=new h.SubscribableStream;ie.write(V);var ue=new h.HttpContent({type:z.contentType,contentLength:V.length},ie);N.push(ue)}),oe="/v3/directline/conversations/".concat(C.conversationId,"/users/").concat(K.from.id,"/upload"),te=h.StreamingRequest.create("PUT",oe),se=new h.SubscribableStream,se.write(JSON.stringify(K),"utf-8"),te.addStream(new h.HttpContent({type:"application/vnd.microsoft.activity",contentLength:se.length},se)),N.forEach(function(we){return te.addStream(we)}),de.next=13,C.streamConnection.send(te);case 13:if(fe=de.sent,!(fe.streams&&fe.streams.length!==1)){de.next=18;break}D.error(new Error("Invalid stream count ".concat(fe.streams.length))),de.next=24;break;case 18:return de.next=20,fe.streams[0].readAsJson();case 20:ye=de.sent,he=ye.Id,D.next(he),D.complete();case 24:de.next=29;break;case 26:de.prev=26,de.t0=de.catch(0),D.error(de.t0);case 29:case"end":return de.stop()}},W,null,[[0,26]])}))()})}},{key:"waitUntilOnline",value:function(){var J=(0,r.default)(d.default.mark(function C(){var H=this;return d.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",new Promise(function(N,W){H.connectionStatus$.subscribe(function(X){if(X===_.ConnectionStatus.Online)return N()},function(X){return W(X)})}));case 1:case"end":return D.stop()}},C)}));function j(){return J.apply(this,arguments)}return j}()},{key:"connectAsync",value:function(){var J=(0,r.default)(d.default.mark(function C(){var H=this,K,D,N,W,X;return d.default.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(K=new RegExp("^http(s?)"),K.test(this.domain)){te.next=3;break}throw"Domain must begin with http or https";case 3:return D={token:this.token},this.conversationId&&(D.conversationId=this.conversationId),N=new AbortController,W=new URLSearchParams(D).toString(),X="".concat(this.domain.replace(K,"ws$1"),"/conversations/connect?").concat(W),te.abrupt("return",new Promise(function(){var se=(0,r.default)(d.default.mark(function fe(ye,he){var ve,de,we,ge;return d.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.prev=0,H.streamConnection=new v.default({disconnectionHandler:ye,networkInformation:(0,i.default)(H,Q),requestHandler:{processRequest:function(ue){if(N.signal.aborted)throw new Error("Cannot process streaming request, `streamingConnection` should be disconnected.");return H.theStreamHandler.processRequest(ue)}},url:X}),H.queueActivities=!0,V.next=5,H.streamConnection.connect();case 5:return ve=h.StreamingRequest.create("POST","/v3/directline/conversations"),V.next=8,H.streamConnection.send(ve);case 8:if(de=V.sent,de.statusCode===200){V.next=11;break}throw new Error("Connection response code "+de.statusCode);case 11:if(de.streams.length===1){V.next=13;break}throw new Error("Expected 1 stream but got "+de.streams.length);case 13:return V.next=15,de.streams[0].readAsString();case 15:return we=V.sent,ge=JSON.parse(we),H.conversationId=ge.conversationId,H.connectionStatus$.next(_.ConnectionStatus.Online),V.next=21,H.waitUntilOnline();case 21:H.theStreamHandler.flush(),H.queueActivities=!1,V.next=28;break;case 25:V.prev=25,V.t0=V.catch(0),he(V.t0);case 28:case"end":return V.stop()}},fe,null,[[0,25]])}));return function(fe,ye){return se.apply(this,arguments)}}()).finally(function(){return N.abort()}));case 9:case"end":return te.stop()}},C,this)}));function j(){return J.apply(this,arguments)}return j}()},{key:"connectWithRetryAsync",value:function(){var J=(0,r.default)(d.default.mark(function C(){var H=this,K,D;return d.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(this.connectDeferred=(0,p.default)()).promise;case 2:K=R,this.connectionStatus$.next(_.ConnectionStatus.Connecting);case 4:if(!(K>0)){W.next=27;break}return K--,D=Date.now(),W.prev=7,W.next=10,this.connectAsync();case 10:W.next=15;break;case 12:W.prev=12,W.t0=W.catch(7),console.error(W.t0);case 15:if(this.connectionStatus$.getValue()!==_.ConnectionStatus.Ended){W.next=17;break}return W.abrupt("return");case 17:if(this.connectionStatus$.getValue()!==_.ConnectionStatus.Connecting&&this.connectionStatus$.next(_.ConnectionStatus.Connecting),!(6e4<Date.now()-D)){W.next=22;break}K=R,W.next=25;break;case 22:if(!(K>0)){W.next=25;break}return W.next=25,new Promise(function(X){return setTimeout(X,H.getRetryDelay())});case 25:W.next=4;break;case 27:this.connectionStatus$.next(_.ConnectionStatus.FailedToConnect);case 28:W.next=0;break;case 30:case"end":return W.stop()}},C,this,[[7,12]])}));function j(){return J.apply(this,arguments)}return j}()},{key:"getRetryDelay",value:function(){return Math.floor(3e3+Math.random()*12e3)}}]),re}();return Rr.DirectLineStreaming=ee,Rr}var Xl;function Cp(){return Xl||(Xl=1,function(c){var m=Ar(),f=Ge();Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"DirectLineStreaming",{enumerable:!0,get:function(){return l.DirectLineStreaming}}),c.DirectLine=c.ConnectionStatus=void 0;var d=m(Ql()),i=m(bo()),s=m(mo()),o=m(ef());Bh(),Dh();var r=If(),u=_e(),n=Kr(),e=p(Xh);rd(),od(),ud(),hd(),vd(),md(),wd(),Sd(),Rd(),Ad(),qd(),Bd(),Nd(),$d(),zd(),Zd(),rp(),ip();var t=m(cp()),l=Ip(),a=["contentUrl"];function h(J){if(typeof WeakMap!="function")return null;var j=new WeakMap,C=new WeakMap;return(h=function(K){return K?C:j})(J)}function p(J,j){if(J&&J.__esModule)return J;if(J===null||f(J)!=="object"&&typeof J!="function")return{default:J};var C=h(j);if(C&&C.has(J))return C.get(J);var H={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in J)if(D!=="default"&&Object.prototype.hasOwnProperty.call(J,D)){var N=K?Object.getOwnPropertyDescriptor(J,D):null;N&&(N.get||N.set)?Object.defineProperty(H,D,N):H[D]=J[D]}return H.default=J,C&&C.set(J,H),H}function S(J,j){var C=Object.keys(J);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(J);j&&(H=H.filter(function(K){return Object.getOwnPropertyDescriptor(J,K).enumerable})),C.push.apply(C,H)}return C}function _(J){for(var j=1;j<arguments.length;j++){var C=arguments[j]!=null?arguments[j]:{};j%2?S(Object(C),!0).forEach(function(H){(0,o.default)(J,H,C[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(C)):S(Object(C)).forEach(function(H){Object.defineProperty(J,H,Object.getOwnPropertyDescriptor(C,H))})}return J}var v="DirectLine/3.0",T;c.ConnectionStatus=T,function(J){J[J.Uninitialized=0]="Uninitialized",J[J.Connecting=1]="Connecting",J[J.Online=2]="Online",J[J.ExpiredToken=3]="ExpiredToken",J[J.FailedToConnect=4]="FailedToConnect",J[J.Ended=5]="Ended"}(T||(c.ConnectionStatus=T={}));var b=function(j,C){var H=function(){throw new Error("not implemented")},K=function(W){return W.catch(function(X){if(X.status===429){var oe=X.xhr.getResponseHeader("Retry-After"),te=Number(oe);if(!isNaN(te))return u.Observable.timer(te,C).flatMap(function(se){return u.Observable.throw(X,C)})}return u.Observable.throw(X,C)})},D=function(W){return K(j(W))};return Object.assign(D,{get:function(W,X){return H()},post:function(W,X,oe){return H()},put:function(W,X,oe){return H()},patch:function(W,X,oe){return H()},delete:function(W,X){return H()},getJSON:function(W,X){return H()}})},x=function(j){var C=j.scheduler||n.async;return{scheduler:C,ajax:b(j.ajax||u.Observable.ajax,C),WebSocket:j.WebSocket||WebSocket,random:j.random||Math.random}},E=30*60*1e3,R=E/2,A=200,U=new Error("expired token"),F=new Error("conversation ended"),Q=new Error("failed to connect"),ee={log:function(j){for(var C,H=arguments.length,K=new Array(H>1?H-1:0),D=1;D<H;D++)K[D-1]=arguments[D];typeof window<"u"&&window.botchatDebug&&j&&(C=console).log.apply(C,[j].concat(K))}},re=function(){function J(j){(0,i.default)(this,J),(0,o.default)(this,"connectionStatus$",new r.BehaviorSubject(T.Uninitialized)),(0,o.default)(this,"domain","https://directline.botframework.com/v3/directline"),(0,o.default)(this,"watermark",""),(0,o.default)(this,"_botAgent",""),(0,o.default)(this,"timeout",20*1e3),(0,o.default)(this,"pollingInterval",1e3),this.secret=j.secret,this.token=j.secret||j.token,this.webSocket=(j.webSocket===void 0?!0:j.webSocket)&&typeof WebSocket<"u"&&WebSocket!==void 0,j.conversationStartProperties&&j.conversationStartProperties.locale&&(Object.prototype.toString.call(j.conversationStartProperties.locale)==="[object String]"?this.localeOnStartConversation=j.conversationStartProperties.locale:console.warn("DirectLineJS: conversationStartProperties.locale was ignored: the locale name may be a BCP 47 language tag")),j.domain&&(this.domain=j.domain),j.conversationId&&(this.conversationId=j.conversationId),j.watermark&&(this.watermark=j.watermark),j.streamUrl&&(j.token&&j.conversationId?this.streamUrl=j.streamUrl:console.warn("DirectLineJS: streamUrl was ignored: you need to provide a token and a conversationid")),j.timeout!==void 0&&(this.timeout=j.timeout),this.retries=(E-R)/this.timeout,this._botAgent=this.getBotAgent(j.botAgent),this.services=x(j);var C=~~j.pollingInterval;C<A?typeof j.pollingInterval<"u"&&console.warn("DirectLineJS: provided pollingInterval (".concat(j.pollingInterval,") is under lower bound (200ms), using default of 1000ms")):this.pollingInterval=C,this.expiredTokenExhaustion=this.setConnectionStatusFallback(T.ExpiredToken,T.FailedToConnect,5),this.activity$=(this.webSocket?this.webSocketActivity$():this.pollingGetActivity$()).share()}return(0,s.default)(J,[{key:"checkConnection",value:function(){var C=this,H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,K=this.connectionStatus$.flatMap(function(D){return D===T.Uninitialized?(C.connectionStatus$.next(T.Connecting),C.token&&C.streamUrl?(C.connectionStatus$.next(T.Online),u.Observable.of(D,C.services.scheduler)):C.startConversation().do(function(N){C.conversationId=N.conversationId,C.token=C.secret||N.token,C.streamUrl=N.streamUrl,C.referenceGrammarId=N.referenceGrammarId,C.secret||C.refreshTokenLoop(),C.connectionStatus$.next(T.Online)},function(N){C.connectionStatus$.next(T.FailedToConnect)}).map(function(N){return D})):u.Observable.of(D,C.services.scheduler)}).filter(function(D){return D!=T.Uninitialized&&D!=T.Connecting}).flatMap(function(D){switch(D){case T.Ended:return u.Observable.throw(F,C.services.scheduler);case T.FailedToConnect:return u.Observable.throw(Q,C.services.scheduler);case T.ExpiredToken:return u.Observable.of(D,C.services.scheduler);default:return u.Observable.of(D,C.services.scheduler)}});return H?K.take(1):K}},{key:"setConnectionStatusFallback",value:function(C,H){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;K--;var D=0,N=null;return function(W){return W===C&&N===W&&D>=K?(D=0,H):(D++,N=W,W)}}},{key:"expiredToken",value:function(){var C=this.connectionStatus$.getValue();C!=T.Ended&&C!=T.FailedToConnect&&this.connectionStatus$.next(T.ExpiredToken);var H=this.expiredTokenExhaustion(this.connectionStatus$.getValue());this.connectionStatus$.next(H)}},{key:"startConversation",value:function(){var C=this,H=this.conversationId?"".concat(this.domain,"/conversations/").concat(this.conversationId,"?watermark=").concat(this.watermark):"".concat(this.domain,"/conversations"),K=this.conversationId?"GET":"POST",D=this.conversationId?void 0:{user:{id:this.userIdOnStartConversation},locale:this.localeOnStartConversation};return this.services.ajax({method:K,url:H,body:D,timeout:this.timeout,headers:_({Accept:"application/json","Content-Type":"application/json"},this.commonHeaders())}).map(function(N){return N.response}).retryWhen(function(N){return N.mergeMap(function(W){return W.status>=400&&W.status<600?u.Observable.throw(W,C.services.scheduler):u.Observable.of(W,C.services.scheduler)}).delay(C.timeout,C.services.scheduler).take(C.retries)})}},{key:"refreshTokenLoop",value:function(){var C=this;this.tokenRefreshSubscription=u.Observable.interval(R,this.services.scheduler).flatMap(function(H){return C.refreshToken()}).subscribe(function(H){ee.log("refreshing token",H,"at",new Date),C.token=H})}},{key:"refreshToken",value:function(){var C=this;return this.checkConnection(!0).flatMap(function(H){return C.services.ajax({method:"POST",url:"".concat(C.domain,"/tokens/refresh"),timeout:C.timeout,headers:_({},C.commonHeaders())}).map(function(K){return K.response.token}).retryWhen(function(K){return K.mergeMap(function(D){return D.status===403?(C.expiredToken(),u.Observable.throw(D,C.services.scheduler)):D.status===404?u.Observable.throw(D,C.services.scheduler):u.Observable.of(D,C.services.scheduler)}).delay(C.timeout,C.services.scheduler).take(C.retries)})})}},{key:"reconnect",value:function(C){this.token=C.token,this.streamUrl=C.streamUrl,this.connectionStatus$.getValue()===T.ExpiredToken&&this.connectionStatus$.next(T.Online)}},{key:"end",value:function(){this.tokenRefreshSubscription&&this.tokenRefreshSubscription.unsubscribe();try{this.connectionStatus$.next(T.Ended)}catch(C){if(C===F)return;throw C}}},{key:"getSessionId",value:function(){var C=this;return ee.log("getSessionId"),this.checkConnection(!0).flatMap(function(H){return C.services.ajax({method:"GET",url:"".concat(C.domain,"/session/getsessionid"),withCredentials:!0,timeout:C.timeout,headers:_({"Content-Type":"application/json"},C.commonHeaders())}).map(function(K){return K&&K.response&&K.response.sessionId?(ee.log("getSessionId response: "+K.response.sessionId),K.response.sessionId):""}).catch(function(K){return ee.log("getSessionId error: "+K.status),u.Observable.of("",C.services.scheduler)})}).catch(function(H){return C.catchExpiredToken(H)})}},{key:"postActivity",value:function(C){var H=this;return this.userIdOnStartConversation&&C.from&&C.from.id!==this.userIdOnStartConversation&&(console.warn("DirectLineJS: Activity.from.id does not match with user id, ignoring activity.from.id"),C.from.id=this.userIdOnStartConversation),C.type==="message"&&C.attachments&&C.attachments.length>0?this.postMessageWithAttachments(C):(ee.log("postActivity",C),this.checkConnection(!0).flatMap(function(K){return H.services.ajax({method:"POST",url:"".concat(H.domain,"/conversations/").concat(H.conversationId,"/activities"),body:C,timeout:H.timeout,headers:_({"Content-Type":"application/json"},H.commonHeaders())}).map(function(D){return D.response.id}).catch(function(D){return H.catchPostError(D)})}).catch(function(K){return H.catchExpiredToken(K)}))}},{key:"postMessageWithAttachments",value:function(C){var H=this,K=C.attachments,D=(0,t.default)(K.map(function(X){return X.name||"blob"})),N=K.map(function(X,oe){return _(_({},X),{},{name:D[oe]})}),W;return this.checkConnection(!0).flatMap(function(X){return W=new FormData,W.append("activity",new Blob([JSON.stringify(_(_({},C),{},{attachments:N.map(function(oe){oe.contentUrl;var te=(0,d.default)(oe,a);return _({},te)})}))],{type:"application/vnd.microsoft.activity"})),u.Observable.from(N,H.services.scheduler).flatMap(function(oe){return H.services.ajax({method:"GET",url:oe.contentUrl,responseType:"arraybuffer"}).do(function(te){return W.append("file",new Blob([te.response],{type:oe.contentType}),oe.name)})}).count()}).flatMap(function(X){return H.services.ajax({method:"POST",url:"".concat(H.domain,"/conversations/").concat(H.conversationId,"/upload?userId=").concat(C.from.id),body:W,timeout:H.timeout,headers:_({},H.commonHeaders())}).map(function(oe){return oe.response.id}).catch(function(oe){return H.catchPostError(oe)})}).catch(function(X){return H.catchPostError(X)})}},{key:"catchPostError",value:function(C){if(C.status===403)this.expiredToken();else if(C.status>=400&&C.status<500)return u.Observable.throw(C,this.services.scheduler);return u.Observable.of("retry",this.services.scheduler)}},{key:"catchExpiredToken",value:function(C){return C===U?u.Observable.of("retry",this.services.scheduler):u.Observable.throw(C,this.services.scheduler)}},{key:"pollingGetActivity$",value:function(){var C=this,H=u.Observable.create(function(K){var D=new r.BehaviorSubject({});D.subscribe(function(){if(C.connectionStatus$.getValue()===T.Online){var N=Date.now();C.services.ajax({headers:_({Accept:"application/json"},C.commonHeaders()),method:"GET",url:"".concat(C.domain,"/conversations/").concat(C.conversationId,"/activities?watermark=").concat(C.watermark),timeout:C.timeout}).subscribe(function(W){K.next(W),setTimeout(function(){return D.next(null)},Math.max(0,C.pollingInterval-Date.now()+N))},function(W){switch(W.status){case 403:C.connectionStatus$.next(T.ExpiredToken),setTimeout(function(){return D.next(null)},C.pollingInterval);break;case 404:C.connectionStatus$.next(T.Ended);break;default:K.error(W);break}})}})});return this.checkConnection().flatMap(function(K){return H.catch(function(){return u.Observable.empty()}).map(function(D){return D.response}).flatMap(function(D){return C.observableFromActivityGroup(D)})})}},{key:"observableFromActivityGroup",value:function(C){return C.watermark&&(this.watermark=C.watermark),u.Observable.from(C.activities,this.services.scheduler)}},{key:"webSocketActivity$",value:function(){var C=this;return this.checkConnection().flatMap(function(H){return C.observableWebSocket().retryWhen(function(K){return K.delay(C.getRetryDelay(),C.services.scheduler).mergeMap(function(D){return C.reconnectToConversation()})})}).flatMap(function(H){return C.observableFromActivityGroup(H)})}},{key:"getRetryDelay",value:function(){return Math.floor(3e3+this.services.random()*12e3)}},{key:"observableWebSocket",value:function(){var C=this;return u.Observable.create(function(H){ee.log("creating WebSocket",C.streamUrl);var K=new C.services.WebSocket(C.streamUrl),D,N;return K.onopen=function(W){ee.log("WebSocket open",W),D=u.Observable.interval(C.timeout,C.services.scheduler).subscribe(function(X){try{K.send("")}catch(oe){ee.log("Ping error",oe)}})},K.onclose=function(W){ee.log("WebSocket close",W),D&&D.unsubscribe(),N||H.error(W),N=!0},K.onerror=function(W){ee.log("WebSocket error",W),D&&D.unsubscribe(),N||H.error(W),N=!0},K.onmessage=function(W){return W.data&&H.next(JSON.parse(W.data))},function(){(K.readyState===0||K.readyState===1)&&K.close()}})}},{key:"reconnectToConversation",value:function(){var C=this;return this.checkConnection(!0).flatMap(function(H){return C.services.ajax({method:"GET",url:"".concat(C.domain,"/conversations/").concat(C.conversationId,"?watermark=").concat(C.watermark),timeout:C.timeout,headers:_({Accept:"application/json"},C.commonHeaders())}).do(function(K){C.secret||(C.token=K.response.token),C.streamUrl=K.response.streamUrl}).map(function(K){return null}).retryWhen(function(K){return K.mergeMap(function(D){if(D.status===403)C.expiredToken();else if(D.status===404)return u.Observable.throw(F,C.services.scheduler);return u.Observable.of(D,C.services.scheduler)}).delay(C.timeout,C.services.scheduler).take(C.retries)})})}},{key:"commonHeaders",value:function(){return{Authorization:"Bearer ".concat(this.token),"x-ms-bot-agent":this._botAgent}}},{key:"getBotAgent",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",H="directlinejs";return C&&(H+="; ".concat(C)),"".concat(v," (").concat(H," ").concat("0.15.6",")")}},{key:"setUserId",value:function(C){if(this.connectionStatus$.getValue()===T.Online)throw new Error("DirectLineJS: It is connected, we cannot set user id.");var H=this.parseToken(this.token);if(H)return console.warn("DirectLineJS: user id is already set in token, will ignore this user id.");if(/^dl_/.test(C))return console.warn('DirectLineJS: user id prefixed with "dl_" is reserved and must be embedded into the Direct Line token to prevent forgery.');this.userIdOnStartConversation=C}},{key:"parseToken",value:function(C){try{var H=(0,e.default)(C),K=H.user;return K}catch(D){if(D instanceof e.InvalidTokenError)return}}}]),J}();c.DirectLine=re}(Qr)),Qr}export{Cp as r};
